2024-10-03 11:30:24.823 +03:30 [DBG] Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-10-03 11:30:24.969 +03:30 [DBG] Hosting starting
2024-10-03 11:30:25.110 +03:30 [INF] User profile is available. Using 'C:\Users\Ideapad 5\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-10-03 11:30:25.147 +03:30 [DBG] Reading data from file 'C:\Users\Ideapad 5\AppData\Local\ASP.NET\DataProtection-Keys\key-52a418f1-ba52-4a49-af2f-b85b42d29af6.xml'.
2024-10-03 11:30:25.275 +03:30 [DBG] Found key {52a418f1-ba52-4a49-af2f-b85b42d29af6}.
2024-10-03 11:30:25.324 +03:30 [DBG] Considering key {52a418f1-ba52-4a49-af2f-b85b42d29af6} with expiration date 2024-12-10 16:42:49Z as default key.
2024-10-03 11:30:25.365 +03:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-10-03 11:30:25.614 +03:30 [DBG] Decrypting secret element using Windows DPAPI.
2024-10-03 11:30:25.651 +03:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-10-03 11:30:25.669 +03:30 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-10-03 11:30:25.676 +03:30 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-10-03 11:30:25.776 +03:30 [DBG] Using key {52a418f1-ba52-4a49-af2f-b85b42d29af6} as the default key.
2024-10-03 11:30:25.810 +03:30 [DBG] Key ring with default key {52a418f1-ba52-4a49-af2f-b85b42d29af6} was loaded during application startup.
2024-10-03 11:30:26.684 +03:30 [INF] Now listening on: https://localhost:7016
2024-10-03 11:30:26.721 +03:30 [INF] Now listening on: http://localhost:5232
2024-10-03 11:30:26.741 +03:30 [DBG] Loaded hosting startup assembly Cityinfo.API
2024-10-03 11:30:26.743 +03:30 [INF] Application started. Press Ctrl+C to shut down.
2024-10-03 11:30:26.745 +03:30 [INF] Hosting environment: Development
2024-10-03 11:30:26.747 +03:30 [INF] Content root path: C:\Users\Ideapad 5\source\repos\Cityinfo.API\Cityinfo.API
2024-10-03 11:30:26.749 +03:30 [DBG] Hosting started
2024-10-03 11:30:26.776 +03:30 [DBG] Connection id "0HN73G5OHP8O2" accepted.
2024-10-03 11:30:26.781 +03:30 [DBG] Connection id "0HN73G5OHP8O2" started.
2024-10-03 11:30:26.785 +03:30 [DBG] Connection id "0HN73G5OHP8O3" accepted.
2024-10-03 11:30:26.789 +03:30 [DBG] Connection id "0HN73G5OHP8O3" started.
2024-10-03 11:30:26.952 +03:30 [DBG] Connection id "0HN73G5OHP8O2" received FIN.
2024-10-03 11:30:26.992 +03:30 [DBG] Connection 0HN73G5OHP8O3 established using the following protocol: "Tls13"
2024-10-03 11:30:26.992 +03:30 [DBG] Connection 0HN73G5OHP8O2 established using the following protocol: "Tls13"
2024-10-03 11:30:27.049 +03:30 [DBG] Connection id "0HN73G5OHP8O2" is closed. The last processed stream ID was 0.
2024-10-03 11:30:27.054 +03:30 [DBG] Connection id "0HN73G5OHP8O2" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-03 11:30:27.061 +03:30 [DBG] The connection queue processing loop for 0HN73G5OHP8O2 completed.
2024-10-03 11:30:27.078 +03:30 [DBG] Connection id "0HN73G5OHP8O2" stopped.
2024-10-03 11:30:27.153 +03:30 [INF] Request starting HTTP/2 GET https://localhost:7016/swagger/index.html - null null
2024-10-03 11:30:27.160 +03:30 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-10-03 11:30:27.673 +03:30 [INF] Request finished HTTP/2 GET https://localhost:7016/swagger/index.html - 200 null text/html;charset=utf-8 521.6454ms
2024-10-03 11:30:27.922 +03:30 [INF] Request starting HTTP/2 GET https://localhost:7016/swagger/0.1/swagger.json - null null
2024-10-03 11:30:28.153 +03:30 [INF] Request starting HTTP/2 GET https://localhost:7016/swagger/favicon-32x32.png - null null
2024-10-03 11:30:28.195 +03:30 [INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2024-10-03 11:30:28.199 +03:30 [INF] Request finished HTTP/2 GET https://localhost:7016/swagger/favicon-32x32.png - 200 628 image/png 45.7082ms
2024-10-03 11:30:28.580 +03:30 [INF] Request finished HTTP/2 GET https://localhost:7016/swagger/0.1/swagger.json - 200 null application/json;charset=utf-8 657.8843ms
2024-10-03 11:30:29.560 +03:30 [DBG] Connection id "0HN73G5OHP8O3" received FIN.
2024-10-03 11:30:29.570 +03:30 [DBG] Connection id "0HN73G5OHP8O3" is closed. The last processed stream ID was 5.
2024-10-03 11:30:29.571 +03:30 [DBG] The connection queue processing loop for 0HN73G5OHP8O3 completed.
2024-10-03 11:30:29.573 +03:30 [DBG] Connection id "0HN73G5OHP8O3" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-03 11:30:29.583 +03:30 [DBG] Connection id "0HN73G5OHP8O3" stopped.
2024-10-03 11:30:31.071 +03:30 [DBG] Connection id "0HN73G5OHP8O4" accepted.
2024-10-03 11:30:31.074 +03:30 [DBG] Connection id "0HN73G5OHP8O4" started.
2024-10-03 11:30:31.080 +03:30 [DBG] Connection 0HN73G5OHP8O4 established using the following protocol: "Tls13"
2024-10-03 11:30:31.085 +03:30 [INF] Request starting HTTP/2 GET https://localhost:7016/swagger/1.0/swagger.json - null null
2024-10-03 11:30:31.224 +03:30 [INF] Request finished HTTP/2 GET https://localhost:7016/swagger/1.0/swagger.json - 200 null application/json;charset=utf-8 139.2158ms
2024-10-03 11:30:34.532 +03:30 [DBG] Connection id "0HN73G5OHP8O4" received FIN.
2024-10-03 11:30:34.535 +03:30 [DBG] Connection id "0HN73G5OHP8O4" is closed. The last processed stream ID was 1.
2024-10-03 11:30:34.535 +03:30 [DBG] The connection queue processing loop for 0HN73G5OHP8O4 completed.
2024-10-03 11:30:34.537 +03:30 [DBG] Connection id "0HN73G5OHP8O4" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-03 11:30:34.545 +03:30 [DBG] Connection id "0HN73G5OHP8O4" stopped.
2024-10-03 11:30:46.084 +03:30 [DBG] Connection id "0HN73G5OHP8O5" accepted.
2024-10-03 11:30:46.086 +03:30 [DBG] Connection id "0HN73G5OHP8O5" started.
2024-10-03 11:30:46.091 +03:30 [DBG] Connection 0HN73G5OHP8O5 established using the following protocol: "Tls13"
2024-10-03 11:30:46.095 +03:30 [INF] Request starting HTTP/2 POST https://localhost:7016/api/v1/users/signup - application/json-patch+json 53
2024-10-03 11:30:46.099 +03:30 [DBG] POST requests are not supported
2024-10-03 11:30:46.190 +03:30 [DBG] 1 candidate(s) found for the request path '/api/v1/users/signup'
2024-10-03 11:30:46.197 +03:30 [DBG] Endpoint 'Cityinfo.API.Controllers.UsersController.Signup (Cityinfo.API)' with route pattern 'api/v{version:apiVersion}/users/signup' is valid for the request path '/api/v1/users/signup'
2024-10-03 11:30:46.203 +03:30 [DBG] Request matched endpoint 'Cityinfo.API.Controllers.UsersController.Signup (Cityinfo.API)'
2024-10-03 11:30:46.302 +03:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-10-03 11:30:46.306 +03:30 [INF] Executing endpoint 'Cityinfo.API.Controllers.UsersController.Signup (Cityinfo.API)'
2024-10-03 11:30:46.348 +03:30 [INF] Route matched with {action = "Signup", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Cityinfo.API.Entities.User]]] Signup(Cityinfo.API.Models.RegisterRequest) on controller Cityinfo.API.Controllers.UsersController (Cityinfo.API).
2024-10-03 11:30:46.352 +03:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-03 11:30:46.353 +03:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-03 11:30:46.357 +03:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2024-10-03 11:30:46.360 +03:30 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-03 11:30:46.362 +03:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2024-10-03 11:30:46.369 +03:30 [DBG] Executing controller factory for controller Cityinfo.API.Controllers.UsersController (Cityinfo.API)
2024-10-03 11:30:46.751 +03:30 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-10-03 11:30:46.809 +03:30 [DBG] Executed controller factory for controller Cityinfo.API.Controllers.UsersController (Cityinfo.API)
2024-10-03 11:30:46.820 +03:30 [DBG] Attempting to bind parameter 'registerRequest' of type 'Cityinfo.API.Models.RegisterRequest' ...
2024-10-03 11:30:46.828 +03:30 [DBG] Attempting to bind parameter 'registerRequest' of type 'Cityinfo.API.Models.RegisterRequest' using the name '' in request data ...
2024-10-03 11:30:46.837 +03:30 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2024-10-03 11:30:46.841 +03:30 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2024-10-03 11:30:46.869 +03:30 [DBG] Connection id "0HN73G5OHP8O5", Request id "0HN73G5OHP8O5:00000001": started reading request body.
2024-10-03 11:30:46.871 +03:30 [DBG] Connection id "0HN73G5OHP8O5", Request id "0HN73G5OHP8O5:00000001": done reading request body.
2024-10-03 11:30:47.076 +03:30 [DBG] Done attempting to bind parameter 'registerRequest' of type 'Cityinfo.API.Models.RegisterRequest'.
2024-10-03 11:30:47.078 +03:30 [DBG] Done attempting to bind parameter 'registerRequest' of type 'Cityinfo.API.Models.RegisterRequest'.
2024-10-03 11:30:47.080 +03:30 [DBG] Attempting to validate the bound parameter 'registerRequest' of type 'Cityinfo.API.Models.RegisterRequest' ...
2024-10-03 11:30:47.098 +03:30 [DBG] Done attempting to validate the bound parameter 'registerRequest' of type 'Cityinfo.API.Models.RegisterRequest'.
2024-10-03 11:30:47.126 +03:30 [INF] Executing action method Cityinfo.API.Controllers.UsersController.Signup (Cityinfo.API) - Validation state: "Valid"
2024-10-03 11:30:49.257 +03:30 [DBG] Entity Framework Core 8.0.8 initialized 'CityInfoDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.8' with options: None
2024-10-03 11:30:49.345 +03:30 [DBG] Compiling query expression: 
'DbSet<User>()
    .Any(u => u.Name == __name_0)'
2024-10-03 11:30:49.721 +03:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Users AS u
                WHERE u.Name == @__name_0)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        Cityinfo.API.DbContexts.CityInfoDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-10-03 11:30:49.807 +03:30 [DBG] Creating DbConnection.
2024-10-03 11:30:49.838 +03:30 [DBG] Created DbConnection. (26ms).
2024-10-03 11:30:49.848 +03:30 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-10-03 11:30:49.885 +03:30 [DBG] Opened connection to database 'main' on server 'C:\Users\Ideapad 5\source\repos\Cityinfo.API\Cityinfo.API\CityInfo.db'.
2024-10-03 11:30:49.903 +03:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-03 11:30:49.914 +03:30 [DBG] Created DbCommand for 'ExecuteReader' (9ms).
2024-10-03 11:30:49.925 +03:30 [DBG] Initialized DbCommand for 'ExecuteReader' (23ms).
2024-10-03 11:30:49.946 +03:30 [DBG] Executing DbCommand [Parameters=[@__name_0='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Users" AS "u"
    WHERE "u"."Name" = @__name_0)
2024-10-03 11:30:50.008 +03:30 [INF] Executed DbCommand (66ms) [Parameters=[@__name_0='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Users" AS "u"
    WHERE "u"."Name" = @__name_0)
2024-10-03 11:30:50.038 +03:30 [DBG] Closing data reader to 'main' on server 'C:\Users\Ideapad 5\source\repos\Cityinfo.API\Cityinfo.API\CityInfo.db'.
2024-10-03 11:30:50.053 +03:30 [DBG] A data reader for 'main' on server 'C:\Users\Ideapad 5\source\repos\Cityinfo.API\Cityinfo.API\CityInfo.db' is being disposed after spending 23ms reading results.
2024-10-03 11:30:50.064 +03:30 [DBG] Closing connection to database 'main' on server 'C:\Users\Ideapad 5\source\repos\Cityinfo.API\Cityinfo.API\CityInfo.db'.
2024-10-03 11:30:50.072 +03:30 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (8ms).
2024-10-03 11:52:47.773 +03:30 [DBG] Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-10-03 11:52:47.869 +03:30 [DBG] Hosting starting
2024-10-03 11:52:47.914 +03:30 [INF] User profile is available. Using 'C:\Users\Ideapad 5\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-10-03 11:52:47.925 +03:30 [DBG] Reading data from file 'C:\Users\Ideapad 5\AppData\Local\ASP.NET\DataProtection-Keys\key-52a418f1-ba52-4a49-af2f-b85b42d29af6.xml'.
2024-10-03 11:52:47.971 +03:30 [DBG] Found key {52a418f1-ba52-4a49-af2f-b85b42d29af6}.
2024-10-03 11:52:47.987 +03:30 [DBG] Considering key {52a418f1-ba52-4a49-af2f-b85b42d29af6} with expiration date 2024-12-10 16:42:49Z as default key.
2024-10-03 11:52:47.991 +03:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-10-03 11:52:47.994 +03:30 [DBG] Decrypting secret element using Windows DPAPI.
2024-10-03 11:52:47.997 +03:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-10-03 11:52:48.004 +03:30 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-10-03 11:52:48.006 +03:30 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-10-03 11:52:48.010 +03:30 [DBG] Using key {52a418f1-ba52-4a49-af2f-b85b42d29af6} as the default key.
2024-10-03 11:52:48.012 +03:30 [DBG] Key ring with default key {52a418f1-ba52-4a49-af2f-b85b42d29af6} was loaded during application startup.
2024-10-03 11:52:48.440 +03:30 [INF] Now listening on: https://localhost:7016
2024-10-03 11:52:48.442 +03:30 [INF] Now listening on: http://localhost:5232
2024-10-03 11:52:48.442 +03:30 [DBG] Loaded hosting startup assembly Cityinfo.API
2024-10-03 11:52:48.444 +03:30 [INF] Application started. Press Ctrl+C to shut down.
2024-10-03 11:52:48.446 +03:30 [INF] Hosting environment: Development
2024-10-03 11:52:48.447 +03:30 [INF] Content root path: C:\Users\Ideapad 5\source\repos\Cityinfo.API\Cityinfo.API
2024-10-03 11:52:48.449 +03:30 [DBG] Hosting started
2024-10-03 11:52:48.529 +03:30 [DBG] Connection id "0HN73GI8DNUPD" accepted.
2024-10-03 11:52:48.533 +03:30 [DBG] Connection id "0HN73GI8DNUPD" started.
2024-10-03 11:52:48.579 +03:30 [DBG] Connection id "0HN73GI8DNUPE" accepted.
2024-10-03 11:52:48.581 +03:30 [DBG] Connection id "0HN73GI8DNUPE" started.
2024-10-03 11:52:48.629 +03:30 [DBG] Connection 0HN73GI8DNUPE established using the following protocol: "Tls13"
2024-10-03 11:52:48.629 +03:30 [DBG] Connection 0HN73GI8DNUPD established using the following protocol: "Tls13"
2024-10-03 11:52:48.727 +03:30 [INF] Request starting HTTP/2 GET https://localhost:7016/swagger/index.html - null null
2024-10-03 11:52:48.733 +03:30 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-10-03 11:52:48.957 +03:30 [INF] Request finished HTTP/2 GET https://localhost:7016/swagger/index.html - 200 null text/html;charset=utf-8 231.7348ms
2024-10-03 11:52:49.220 +03:30 [INF] Request starting HTTP/2 GET https://localhost:7016/swagger/0.1/swagger.json - null null
2024-10-03 11:52:49.469 +03:30 [INF] Request finished HTTP/2 GET https://localhost:7016/swagger/0.1/swagger.json - 200 null application/json;charset=utf-8 249.0959ms
2024-10-03 11:52:51.819 +03:30 [DBG] Connection id "0HN73GI8DNUPE" received FIN.
2024-10-03 11:52:51.930 +03:30 [DBG] Connection id "0HN73GI8DNUPD" received FIN.
2024-10-03 11:52:51.955 +03:30 [DBG] The connection queue processing loop for 0HN73GI8DNUPE completed.
2024-10-03 11:52:51.955 +03:30 [DBG] The connection queue processing loop for 0HN73GI8DNUPD completed.
2024-10-03 11:52:51.960 +03:30 [DBG] Connection id "0HN73GI8DNUPD" is closed. The last processed stream ID was 3.
2024-10-03 11:52:51.960 +03:30 [DBG] Connection id "0HN73GI8DNUPE" is closed. The last processed stream ID was 0.
2024-10-03 11:52:51.963 +03:30 [DBG] Connection id "0HN73GI8DNUPD" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-03 11:52:51.965 +03:30 [DBG] Connection id "0HN73GI8DNUPE" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-03 11:52:51.985 +03:30 [DBG] Connection id "0HN73GI8DNUPE" stopped.
2024-10-03 11:52:51.985 +03:30 [DBG] Connection id "0HN73GI8DNUPD" stopped.
2024-10-03 11:52:52.181 +03:30 [DBG] Connection id "0HN73GI8DNUPF" accepted.
2024-10-03 11:52:52.183 +03:30 [DBG] Connection id "0HN73GI8DNUPF" started.
2024-10-03 11:52:52.190 +03:30 [DBG] Connection 0HN73GI8DNUPF established using the following protocol: "Tls13"
2024-10-03 11:52:52.194 +03:30 [INF] Request starting HTTP/2 GET https://localhost:7016/swagger/1.0/swagger.json - null null
2024-10-03 11:52:52.303 +03:30 [INF] Request finished HTTP/2 GET https://localhost:7016/swagger/1.0/swagger.json - 200 null application/json;charset=utf-8 109.0471ms
2024-10-03 11:52:56.810 +03:30 [DBG] Connection id "0HN73GI8DNUPF" received FIN.
2024-10-03 11:52:56.812 +03:30 [DBG] Connection id "0HN73GI8DNUPF" is closed. The last processed stream ID was 1.
2024-10-03 11:52:56.812 +03:30 [DBG] The connection queue processing loop for 0HN73GI8DNUPF completed.
2024-10-03 11:52:56.814 +03:30 [DBG] Connection id "0HN73GI8DNUPF" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-03 11:52:56.826 +03:30 [DBG] Connection id "0HN73GI8DNUPF" stopped.
2024-10-03 11:52:59.779 +03:30 [DBG] Connection id "0HN73GI8DNUPG" accepted.
2024-10-03 11:52:59.781 +03:30 [DBG] Connection id "0HN73GI8DNUPG" started.
2024-10-03 11:52:59.785 +03:30 [DBG] Connection 0HN73GI8DNUPG established using the following protocol: "Tls13"
2024-10-03 11:52:59.788 +03:30 [INF] Request starting HTTP/2 POST https://localhost:7016/api/v1/users/signup - application/json-patch+json 52
2024-10-03 11:52:59.794 +03:30 [DBG] POST requests are not supported
2024-10-03 11:52:59.896 +03:30 [DBG] 1 candidate(s) found for the request path '/api/v1/users/signup'
2024-10-03 11:52:59.901 +03:30 [DBG] Endpoint 'Cityinfo.API.Controllers.UsersController.Signup (Cityinfo.API)' with route pattern 'api/v{version:apiVersion}/users/signup' is valid for the request path '/api/v1/users/signup'
2024-10-03 11:52:59.907 +03:30 [DBG] Request matched endpoint 'Cityinfo.API.Controllers.UsersController.Signup (Cityinfo.API)'
2024-10-03 11:53:00.019 +03:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-10-03 11:53:00.024 +03:30 [INF] Executing endpoint 'Cityinfo.API.Controllers.UsersController.Signup (Cityinfo.API)'
2024-10-03 11:53:00.062 +03:30 [INF] Route matched with {action = "Signup", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Cityinfo.API.Entities.User]]] Signup(Cityinfo.API.Models.RegisterRequest) on controller Cityinfo.API.Controllers.UsersController (Cityinfo.API).
2024-10-03 11:53:00.066 +03:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-03 11:53:00.068 +03:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-03 11:53:00.071 +03:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2024-10-03 11:53:00.075 +03:30 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-03 11:53:00.076 +03:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2024-10-03 11:53:00.084 +03:30 [DBG] Executing controller factory for controller Cityinfo.API.Controllers.UsersController (Cityinfo.API)
2024-10-03 11:53:00.296 +03:30 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-10-03 11:53:00.490 +03:30 [DBG] Executed controller factory for controller Cityinfo.API.Controllers.UsersController (Cityinfo.API)
2024-10-03 11:53:00.500 +03:30 [DBG] Attempting to bind parameter 'registerRequest' of type 'Cityinfo.API.Models.RegisterRequest' ...
2024-10-03 11:53:00.505 +03:30 [DBG] Attempting to bind parameter 'registerRequest' of type 'Cityinfo.API.Models.RegisterRequest' using the name '' in request data ...
2024-10-03 11:53:00.508 +03:30 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2024-10-03 11:53:00.511 +03:30 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2024-10-03 11:53:00.537 +03:30 [DBG] Connection id "0HN73GI8DNUPG", Request id "0HN73GI8DNUPG:00000001": started reading request body.
2024-10-03 11:53:00.539 +03:30 [DBG] Connection id "0HN73GI8DNUPG", Request id "0HN73GI8DNUPG:00000001": done reading request body.
2024-10-03 11:53:00.652 +03:30 [DBG] Done attempting to bind parameter 'registerRequest' of type 'Cityinfo.API.Models.RegisterRequest'.
2024-10-03 11:53:00.654 +03:30 [DBG] Done attempting to bind parameter 'registerRequest' of type 'Cityinfo.API.Models.RegisterRequest'.
2024-10-03 11:53:00.655 +03:30 [DBG] Attempting to validate the bound parameter 'registerRequest' of type 'Cityinfo.API.Models.RegisterRequest' ...
2024-10-03 11:53:00.664 +03:30 [DBG] Done attempting to validate the bound parameter 'registerRequest' of type 'Cityinfo.API.Models.RegisterRequest'.
2024-10-03 11:53:00.683 +03:30 [INF] Executing action method Cityinfo.API.Controllers.UsersController.Signup (Cityinfo.API) - Validation state: "Valid"
2024-10-03 11:53:01.879 +03:30 [DBG] Entity Framework Core 8.0.8 initialized 'CityInfoDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.8' with options: None
2024-10-03 11:53:01.928 +03:30 [DBG] Compiling query expression: 
'DbSet<User>()
    .Any(u => u.Name == __name_0)'
2024-10-03 11:53:02.194 +03:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Users AS u
                WHERE u.Name == @__name_0)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        Cityinfo.API.DbContexts.CityInfoDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-10-03 11:53:02.251 +03:30 [DBG] Creating DbConnection.
2024-10-03 11:53:02.271 +03:30 [DBG] Created DbConnection. (18ms).
2024-10-03 11:53:02.276 +03:30 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-10-03 11:53:02.310 +03:30 [DBG] Opened connection to database 'main' on server 'C:\Users\Ideapad 5\source\repos\Cityinfo.API\Cityinfo.API\CityInfo.db'.
2024-10-03 11:53:02.322 +03:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-03 11:53:02.329 +03:30 [DBG] Created DbCommand for 'ExecuteReader' (7ms).
2024-10-03 11:53:02.337 +03:30 [DBG] Initialized DbCommand for 'ExecuteReader' (16ms).
2024-10-03 11:53:02.351 +03:30 [DBG] Executing DbCommand [Parameters=[@__name_0='?' (Size = 6)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Users" AS "u"
    WHERE "u"."Name" = @__name_0)
2024-10-03 11:53:02.391 +03:30 [INF] Executed DbCommand (44ms) [Parameters=[@__name_0='?' (Size = 6)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Users" AS "u"
    WHERE "u"."Name" = @__name_0)
2024-10-03 11:53:02.409 +03:30 [DBG] Closing data reader to 'main' on server 'C:\Users\Ideapad 5\source\repos\Cityinfo.API\Cityinfo.API\CityInfo.db'.
2024-10-03 11:53:02.418 +03:30 [DBG] A data reader for 'main' on server 'C:\Users\Ideapad 5\source\repos\Cityinfo.API\Cityinfo.API\CityInfo.db' is being disposed after spending 14ms reading results.
2024-10-03 11:53:02.428 +03:30 [DBG] Closing connection to database 'main' on server 'C:\Users\Ideapad 5\source\repos\Cityinfo.API\Cityinfo.API\CityInfo.db'.
2024-10-03 11:53:02.435 +03:30 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (7ms).
2024-10-03 11:53:02.790 +03:30 [INF] Executed action Cityinfo.API.Controllers.UsersController.Signup (Cityinfo.API) in 2705.3017ms
2024-10-03 11:53:02.793 +03:30 [INF] Executed endpoint 'Cityinfo.API.Controllers.UsersController.Signup (Cityinfo.API)'
2024-10-03 11:53:02.796 +03:30 [ERR] An unhandled exception has occurred while executing the request.
System.ArgumentException: Cityinfo.API.Entities.User needs to have a constructor with 0 args or only optional args. Validate your configuration for details. (Parameter 'type')
   at lambda_method36(Closure, Object, User, ResolutionContext)
   at AutoMapper.Mapper.MapCore[TSource,TDestination](TSource source, TDestination destination, ResolutionContext context, Type sourceType, Type destinationType, MemberMap memberMap)
   at AutoMapper.Mapper.Map[TSource,TDestination](TSource source, TDestination destination)
   at AutoMapper.Mapper.Map[TDestination](Object source)
   at Cityinfo.API.Controllers.UsersController.Signup(RegisterRequest registerRequest) in C:\Users\Ideapad 5\source\repos\Cityinfo.API\Cityinfo.API\Controllers\UsersController.cs:line 33
   at lambda_method5(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-10-03 11:53:02.885 +03:30 [DBG] 'CityInfoDbContext' disposed.
2024-10-03 11:53:02.892 +03:30 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2024-10-03 11:53:02.895 +03:30 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (3ms).
2024-10-03 11:53:02.896 +03:30 [INF] Request finished HTTP/2 POST https://localhost:7016/api/v1/users/signup - 500 null text/plain; charset=utf-8 3107.9298ms
2024-10-03 11:53:06.828 +03:30 [DBG] Connection id "0HN73GI8DNUPG" received FIN.
2024-10-03 11:53:06.830 +03:30 [DBG] Connection id "0HN73GI8DNUPG" is closed. The last processed stream ID was 1.
2024-10-03 11:53:06.830 +03:30 [DBG] The connection queue processing loop for 0HN73GI8DNUPG completed.
2024-10-03 11:53:06.832 +03:30 [DBG] Connection id "0HN73GI8DNUPG" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-03 11:53:06.843 +03:30 [DBG] Connection id "0HN73GI8DNUPG" stopped.
2024-10-03 11:54:39.851 +03:30 [DBG] Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-10-03 11:54:39.916 +03:30 [DBG] Hosting starting
2024-10-03 11:54:39.955 +03:30 [INF] User profile is available. Using 'C:\Users\Ideapad 5\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-10-03 11:54:39.969 +03:30 [DBG] Reading data from file 'C:\Users\Ideapad 5\AppData\Local\ASP.NET\DataProtection-Keys\key-52a418f1-ba52-4a49-af2f-b85b42d29af6.xml'.
2024-10-03 11:54:39.984 +03:30 [DBG] Found key {52a418f1-ba52-4a49-af2f-b85b42d29af6}.
2024-10-03 11:54:40.001 +03:30 [DBG] Considering key {52a418f1-ba52-4a49-af2f-b85b42d29af6} with expiration date 2024-12-10 16:42:49Z as default key.
2024-10-03 11:54:40.006 +03:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-10-03 11:54:40.010 +03:30 [DBG] Decrypting secret element using Windows DPAPI.
2024-10-03 11:54:40.013 +03:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-10-03 11:54:40.020 +03:30 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-10-03 11:54:40.024 +03:30 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-10-03 11:54:40.027 +03:30 [DBG] Using key {52a418f1-ba52-4a49-af2f-b85b42d29af6} as the default key.
2024-10-03 11:54:40.029 +03:30 [DBG] Key ring with default key {52a418f1-ba52-4a49-af2f-b85b42d29af6} was loaded during application startup.
2024-10-03 11:54:40.554 +03:30 [INF] Now listening on: https://localhost:7016
2024-10-03 11:54:40.555 +03:30 [INF] Now listening on: http://localhost:5232
2024-10-03 11:54:40.556 +03:30 [DBG] Loaded hosting startup assembly Cityinfo.API
2024-10-03 11:54:40.557 +03:30 [INF] Application started. Press Ctrl+C to shut down.
2024-10-03 11:54:40.558 +03:30 [INF] Hosting environment: Development
2024-10-03 11:54:40.559 +03:30 [INF] Content root path: C:\Users\Ideapad 5\source\repos\Cityinfo.API\Cityinfo.API
2024-10-03 11:54:40.561 +03:30 [DBG] Hosting started
2024-10-03 11:54:40.609 +03:30 [DBG] Connection id "0HN73GJ9QK5V8" accepted.
2024-10-03 11:54:40.612 +03:30 [DBG] Connection id "0HN73GJ9QK5V8" started.
2024-10-03 11:54:40.646 +03:30 [DBG] Connection id "0HN73GJ9QK5V9" accepted.
2024-10-03 11:54:40.647 +03:30 [DBG] Connection id "0HN73GJ9QK5V9" started.
2024-10-03 11:54:40.709 +03:30 [DBG] Connection id "0HN73GJ9QK5V8" received FIN.
2024-10-03 11:54:40.736 +03:30 [DBG] Connection 0HN73GJ9QK5V8 established using the following protocol: "Tls13"
2024-10-03 11:54:40.736 +03:30 [DBG] Connection 0HN73GJ9QK5V9 established using the following protocol: "Tls13"
2024-10-03 11:54:40.771 +03:30 [DBG] Connection id "0HN73GJ9QK5V8" is closed. The last processed stream ID was 0.
2024-10-03 11:54:40.774 +03:30 [DBG] Connection id "0HN73GJ9QK5V8" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-03 11:54:40.779 +03:30 [DBG] The connection queue processing loop for 0HN73GJ9QK5V8 completed.
2024-10-03 11:54:40.788 +03:30 [DBG] Connection id "0HN73GJ9QK5V8" stopped.
2024-10-03 11:54:40.821 +03:30 [INF] Request starting HTTP/2 GET https://localhost:7016/swagger/index.html - null null
2024-10-03 11:54:40.826 +03:30 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-10-03 11:54:41.036 +03:30 [INF] Request finished HTTP/2 GET https://localhost:7016/swagger/index.html - 200 null text/html;charset=utf-8 217.3789ms
2024-10-03 11:54:41.175 +03:30 [INF] Request starting HTTP/2 GET https://localhost:7016/swagger/0.1/swagger.json - null null
2024-10-03 11:54:41.385 +03:30 [INF] Request finished HTTP/2 GET https://localhost:7016/swagger/0.1/swagger.json - 200 null application/json;charset=utf-8 210.2615ms
2024-10-03 11:54:41.964 +03:30 [DBG] Connection id "0HN73GJ9QK5V9" received FIN.
2024-10-03 11:54:41.965 +03:30 [DBG] Connection id "0HN73GJ9QK5V9" is closed. The last processed stream ID was 3.
2024-10-03 11:54:41.966 +03:30 [DBG] The connection queue processing loop for 0HN73GJ9QK5V9 completed.
2024-10-03 11:54:41.967 +03:30 [DBG] Connection id "0HN73GJ9QK5V9" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-03 11:54:41.979 +03:30 [DBG] Connection id "0HN73GJ9QK5V9" stopped.
2024-10-03 11:54:44.078 +03:30 [DBG] Connection id "0HN73GJ9QK5VA" accepted.
2024-10-03 11:54:44.079 +03:30 [DBG] Connection id "0HN73GJ9QK5VA" started.
2024-10-03 11:54:44.085 +03:30 [DBG] Connection 0HN73GJ9QK5VA established using the following protocol: "Tls13"
2024-10-03 11:54:44.089 +03:30 [INF] Request starting HTTP/2 GET https://localhost:7016/swagger/1.0/swagger.json - null null
2024-10-03 11:54:44.184 +03:30 [INF] Request finished HTTP/2 GET https://localhost:7016/swagger/1.0/swagger.json - 200 null application/json;charset=utf-8 95.1098ms
2024-10-03 11:54:51.175 +03:30 [INF] Request starting HTTP/2 POST https://localhost:7016/api/v1/users/signup - application/json-patch+json 52
2024-10-03 11:54:51.183 +03:30 [DBG] POST requests are not supported
2024-10-03 11:54:51.284 +03:30 [DBG] 1 candidate(s) found for the request path '/api/v1/users/signup'
2024-10-03 11:54:51.290 +03:30 [DBG] Endpoint 'Cityinfo.API.Controllers.UsersController.Signup (Cityinfo.API)' with route pattern 'api/v{version:apiVersion}/users/signup' is valid for the request path '/api/v1/users/signup'
2024-10-03 11:54:51.295 +03:30 [DBG] Request matched endpoint 'Cityinfo.API.Controllers.UsersController.Signup (Cityinfo.API)'
2024-10-03 11:54:51.397 +03:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-10-03 11:54:51.403 +03:30 [INF] Executing endpoint 'Cityinfo.API.Controllers.UsersController.Signup (Cityinfo.API)'
2024-10-03 11:54:51.438 +03:30 [INF] Route matched with {action = "Signup", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Cityinfo.API.Entities.User]]] Signup(Cityinfo.API.Models.RegisterRequest) on controller Cityinfo.API.Controllers.UsersController (Cityinfo.API).
2024-10-03 11:54:51.441 +03:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-03 11:54:51.443 +03:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-03 11:54:51.446 +03:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2024-10-03 11:54:51.448 +03:30 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-03 11:54:51.451 +03:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2024-10-03 11:54:51.456 +03:30 [DBG] Executing controller factory for controller Cityinfo.API.Controllers.UsersController (Cityinfo.API)
2024-10-03 11:54:51.701 +03:30 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-10-03 11:54:51.905 +03:30 [DBG] Executed controller factory for controller Cityinfo.API.Controllers.UsersController (Cityinfo.API)
2024-10-03 11:54:51.915 +03:30 [DBG] Attempting to bind parameter 'registerRequest' of type 'Cityinfo.API.Models.RegisterRequest' ...
2024-10-03 11:54:51.922 +03:30 [DBG] Attempting to bind parameter 'registerRequest' of type 'Cityinfo.API.Models.RegisterRequest' using the name '' in request data ...
2024-10-03 11:54:51.925 +03:30 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2024-10-03 11:54:51.928 +03:30 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2024-10-03 11:54:51.957 +03:30 [DBG] Connection id "0HN73GJ9QK5VA", Request id "0HN73GJ9QK5VA:00000003": started reading request body.
2024-10-03 11:54:51.959 +03:30 [DBG] Connection id "0HN73GJ9QK5VA", Request id "0HN73GJ9QK5VA:00000003": done reading request body.
2024-10-03 11:54:52.073 +03:30 [DBG] Done attempting to bind parameter 'registerRequest' of type 'Cityinfo.API.Models.RegisterRequest'.
2024-10-03 11:54:52.074 +03:30 [DBG] Done attempting to bind parameter 'registerRequest' of type 'Cityinfo.API.Models.RegisterRequest'.
2024-10-03 11:54:52.077 +03:30 [DBG] Attempting to validate the bound parameter 'registerRequest' of type 'Cityinfo.API.Models.RegisterRequest' ...
2024-10-03 11:54:52.086 +03:30 [DBG] Done attempting to validate the bound parameter 'registerRequest' of type 'Cityinfo.API.Models.RegisterRequest'.
2024-10-03 11:54:52.100 +03:30 [INF] Executing action method Cityinfo.API.Controllers.UsersController.Signup (Cityinfo.API) - Validation state: "Valid"
2024-10-03 11:54:53.254 +03:30 [DBG] Entity Framework Core 8.0.8 initialized 'CityInfoDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.8' with options: None
2024-10-03 11:54:53.303 +03:30 [DBG] Compiling query expression: 
'DbSet<User>()
    .Any(u => u.Name == __name_0)'
2024-10-03 11:54:53.575 +03:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Users AS u
                WHERE u.Name == @__name_0)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        Cityinfo.API.DbContexts.CityInfoDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-10-03 11:54:53.653 +03:30 [DBG] Creating DbConnection.
2024-10-03 11:54:53.675 +03:30 [DBG] Created DbConnection. (20ms).
2024-10-03 11:54:53.681 +03:30 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-10-03 11:54:53.716 +03:30 [DBG] Opened connection to database 'main' on server 'C:\Users\Ideapad 5\source\repos\Cityinfo.API\Cityinfo.API\CityInfo.db'.
2024-10-03 11:54:53.728 +03:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-03 11:54:53.736 +03:30 [DBG] Created DbCommand for 'ExecuteReader' (7ms).
2024-10-03 11:54:53.745 +03:30 [DBG] Initialized DbCommand for 'ExecuteReader' (17ms).
2024-10-03 11:54:53.761 +03:30 [DBG] Executing DbCommand [Parameters=[@__name_0='?' (Size = 6)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Users" AS "u"
    WHERE "u"."Name" = @__name_0)
2024-10-03 11:54:53.798 +03:30 [INF] Executed DbCommand (43ms) [Parameters=[@__name_0='?' (Size = 6)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Users" AS "u"
    WHERE "u"."Name" = @__name_0)
2024-10-03 11:54:53.819 +03:30 [DBG] Closing data reader to 'main' on server 'C:\Users\Ideapad 5\source\repos\Cityinfo.API\Cityinfo.API\CityInfo.db'.
2024-10-03 11:54:53.828 +03:30 [DBG] A data reader for 'main' on server 'C:\Users\Ideapad 5\source\repos\Cityinfo.API\Cityinfo.API\CityInfo.db' is being disposed after spending 18ms reading results.
2024-10-03 11:54:53.837 +03:30 [DBG] Closing connection to database 'main' on server 'C:\Users\Ideapad 5\source\repos\Cityinfo.API\Cityinfo.API\CityInfo.db'.
2024-10-03 11:54:53.843 +03:30 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (5ms).
2024-10-03 12:01:36.331 +03:30 [DBG] Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-10-03 12:01:36.426 +03:30 [DBG] Hosting starting
2024-10-03 12:01:36.476 +03:30 [INF] User profile is available. Using 'C:\Users\Ideapad 5\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-10-03 12:01:36.491 +03:30 [DBG] Reading data from file 'C:\Users\Ideapad 5\AppData\Local\ASP.NET\DataProtection-Keys\key-52a418f1-ba52-4a49-af2f-b85b42d29af6.xml'.
2024-10-03 12:01:36.510 +03:30 [DBG] Found key {52a418f1-ba52-4a49-af2f-b85b42d29af6}.
2024-10-03 12:01:36.528 +03:30 [DBG] Considering key {52a418f1-ba52-4a49-af2f-b85b42d29af6} with expiration date 2024-12-10 16:42:49Z as default key.
2024-10-03 12:01:36.532 +03:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-10-03 12:01:36.535 +03:30 [DBG] Decrypting secret element using Windows DPAPI.
2024-10-03 12:01:36.538 +03:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-10-03 12:01:36.547 +03:30 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-10-03 12:01:36.551 +03:30 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-10-03 12:01:36.556 +03:30 [DBG] Using key {52a418f1-ba52-4a49-af2f-b85b42d29af6} as the default key.
2024-10-03 12:01:36.558 +03:30 [DBG] Key ring with default key {52a418f1-ba52-4a49-af2f-b85b42d29af6} was loaded during application startup.
2024-10-03 12:01:36.835 +03:30 [INF] Now listening on: https://localhost:7016
2024-10-03 12:01:36.837 +03:30 [INF] Now listening on: http://localhost:5232
2024-10-03 12:01:36.838 +03:30 [DBG] Loaded hosting startup assembly Cityinfo.API
2024-10-03 12:01:36.841 +03:30 [INF] Application started. Press Ctrl+C to shut down.
2024-10-03 12:01:36.842 +03:30 [INF] Hosting environment: Development
2024-10-03 12:01:36.844 +03:30 [INF] Content root path: C:\Users\Ideapad 5\source\repos\Cityinfo.API\Cityinfo.API
2024-10-03 12:01:36.846 +03:30 [DBG] Hosting started
2024-10-03 12:01:36.865 +03:30 [DBG] Connection id "0HN73GN5SB5JK" accepted.
2024-10-03 12:01:36.868 +03:30 [DBG] Connection id "0HN73GN5SB5JK" started.
2024-10-03 12:01:36.894 +03:30 [DBG] Connection id "0HN73GN5SB5JL" accepted.
2024-10-03 12:01:36.896 +03:30 [DBG] Connection id "0HN73GN5SB5JL" started.
2024-10-03 12:01:36.963 +03:30 [DBG] Connection id "0HN73GN5SB5JL" received FIN.
2024-10-03 12:01:36.990 +03:30 [DBG] Connection 0HN73GN5SB5JK established using the following protocol: "Tls13"
2024-10-03 12:01:36.990 +03:30 [DBG] Connection 0HN73GN5SB5JL established using the following protocol: "Tls13"
2024-10-03 12:01:37.031 +03:30 [DBG] Connection id "0HN73GN5SB5JL" is closed. The last processed stream ID was 0.
2024-10-03 12:01:37.033 +03:30 [DBG] Connection id "0HN73GN5SB5JL" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-03 12:01:37.037 +03:30 [DBG] The connection queue processing loop for 0HN73GN5SB5JL completed.
2024-10-03 12:01:37.046 +03:30 [DBG] Connection id "0HN73GN5SB5JL" stopped.
2024-10-03 12:01:37.084 +03:30 [INF] Request starting HTTP/2 GET https://localhost:7016/swagger/index.html - null null
2024-10-03 12:01:37.089 +03:30 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-10-03 12:01:37.422 +03:30 [INF] Request finished HTTP/2 GET https://localhost:7016/swagger/index.html - 200 null text/html;charset=utf-8 340.9673ms
2024-10-03 12:01:37.552 +03:30 [DBG] Connection id "0HN73GN5SB5JK" received FIN.
2024-10-03 12:01:37.554 +03:30 [DBG] Connection id "0HN73GN5SB5JK" is closed. The last processed stream ID was 1.
2024-10-03 12:01:37.556 +03:30 [DBG] Connection id "0HN73GN5SB5JK" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-03 12:01:37.559 +03:30 [DBG] The connection queue processing loop for 0HN73GN5SB5JK completed.
2024-10-03 12:01:37.561 +03:30 [DBG] Connection id "0HN73GN5SB5JK" stopped.
2024-10-03 12:01:37.667 +03:30 [DBG] Connection id "0HN73GN5SB5JM" accepted.
2024-10-03 12:01:37.669 +03:30 [DBG] Connection id "0HN73GN5SB5JM" started.
2024-10-03 12:01:37.676 +03:30 [DBG] Connection 0HN73GN5SB5JM established using the following protocol: "Tls13"
2024-10-03 12:01:37.682 +03:30 [INF] Request starting HTTP/2 GET https://localhost:7016/swagger/0.1/swagger.json - null null
2024-10-03 12:01:37.984 +03:30 [INF] Request finished HTTP/2 GET https://localhost:7016/swagger/0.1/swagger.json - 200 null application/json;charset=utf-8 301.7936ms
2024-10-03 12:01:40.874 +03:30 [INF] Request starting HTTP/2 GET https://localhost:7016/swagger/1.0/swagger.json - null null
2024-10-03 12:01:40.978 +03:30 [INF] Request finished HTTP/2 GET https://localhost:7016/swagger/1.0/swagger.json - 200 null application/json;charset=utf-8 103.3138ms
2024-10-03 12:01:42.567 +03:30 [DBG] Connection id "0HN73GN5SB5JM" received FIN.
2024-10-03 12:01:42.568 +03:30 [DBG] Connection id "0HN73GN5SB5JM" is closed. The last processed stream ID was 3.
2024-10-03 12:01:42.568 +03:30 [DBG] The connection queue processing loop for 0HN73GN5SB5JM completed.
2024-10-03 12:01:42.569 +03:30 [DBG] Connection id "0HN73GN5SB5JM" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-03 12:01:42.582 +03:30 [DBG] Connection id "0HN73GN5SB5JM" stopped.
2024-10-03 12:01:53.303 +03:30 [DBG] Connection id "0HN73GN5SB5JN" accepted.
2024-10-03 12:01:53.305 +03:30 [DBG] Connection id "0HN73GN5SB5JN" started.
2024-10-03 12:01:53.309 +03:30 [DBG] Connection 0HN73GN5SB5JN established using the following protocol: "Tls13"
2024-10-03 12:01:53.313 +03:30 [INF] Request starting HTTP/2 POST https://localhost:7016/api/v1/users/signup - application/json-patch+json 53
2024-10-03 12:01:53.319 +03:30 [DBG] POST requests are not supported
2024-10-03 12:01:53.424 +03:30 [DBG] 1 candidate(s) found for the request path '/api/v1/users/signup'
2024-10-03 12:01:53.430 +03:30 [DBG] Endpoint 'Cityinfo.API.Controllers.UsersController.Signup (Cityinfo.API)' with route pattern 'api/v{version:apiVersion}/users/signup' is valid for the request path '/api/v1/users/signup'
2024-10-03 12:01:53.437 +03:30 [DBG] Request matched endpoint 'Cityinfo.API.Controllers.UsersController.Signup (Cityinfo.API)'
2024-10-03 12:01:53.556 +03:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-10-03 12:01:53.562 +03:30 [INF] Executing endpoint 'Cityinfo.API.Controllers.UsersController.Signup (Cityinfo.API)'
2024-10-03 12:01:53.610 +03:30 [INF] Route matched with {action = "Signup", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Cityinfo.API.Entities.User]]] Signup(Cityinfo.API.Models.RegisterRequest) on controller Cityinfo.API.Controllers.UsersController (Cityinfo.API).
2024-10-03 12:01:53.615 +03:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-03 12:01:53.617 +03:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-03 12:01:53.620 +03:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2024-10-03 12:01:53.623 +03:30 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-03 12:01:53.626 +03:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2024-10-03 12:01:53.631 +03:30 [DBG] Executing controller factory for controller Cityinfo.API.Controllers.UsersController (Cityinfo.API)
2024-10-03 12:01:53.899 +03:30 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-10-03 12:01:54.102 +03:30 [DBG] Executed controller factory for controller Cityinfo.API.Controllers.UsersController (Cityinfo.API)
2024-10-03 12:01:54.113 +03:30 [DBG] Attempting to bind parameter 'registerRequest' of type 'Cityinfo.API.Models.RegisterRequest' ...
2024-10-03 12:01:54.118 +03:30 [DBG] Attempting to bind parameter 'registerRequest' of type 'Cityinfo.API.Models.RegisterRequest' using the name '' in request data ...
2024-10-03 12:01:54.124 +03:30 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2024-10-03 12:01:54.126 +03:30 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2024-10-03 12:01:54.152 +03:30 [DBG] Connection id "0HN73GN5SB5JN", Request id "0HN73GN5SB5JN:00000001": started reading request body.
2024-10-03 12:01:54.154 +03:30 [DBG] Connection id "0HN73GN5SB5JN", Request id "0HN73GN5SB5JN:00000001": done reading request body.
2024-10-03 12:01:54.305 +03:30 [DBG] Done attempting to bind parameter 'registerRequest' of type 'Cityinfo.API.Models.RegisterRequest'.
2024-10-03 12:01:54.308 +03:30 [DBG] Done attempting to bind parameter 'registerRequest' of type 'Cityinfo.API.Models.RegisterRequest'.
2024-10-03 12:01:54.310 +03:30 [DBG] Attempting to validate the bound parameter 'registerRequest' of type 'Cityinfo.API.Models.RegisterRequest' ...
2024-10-03 12:01:54.323 +03:30 [DBG] Done attempting to validate the bound parameter 'registerRequest' of type 'Cityinfo.API.Models.RegisterRequest'.
2024-10-03 12:01:54.340 +03:30 [INF] Executing action method Cityinfo.API.Controllers.UsersController.Signup (Cityinfo.API) - Validation state: "Valid"
2024-10-03 12:01:55.559 +03:30 [DBG] Entity Framework Core 8.0.8 initialized 'CityInfoDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.8' with options: None
2024-10-03 12:01:55.627 +03:30 [DBG] Compiling query expression: 
'DbSet<User>()
    .Any(u => u.Name == __name_0)'
2024-10-03 12:01:55.861 +03:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Users AS u
                WHERE u.Name == @__name_0)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        Cityinfo.API.DbContexts.CityInfoDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-10-03 12:01:55.923 +03:30 [DBG] Creating DbConnection.
2024-10-03 12:01:55.943 +03:30 [DBG] Created DbConnection. (17ms).
2024-10-03 12:01:55.951 +03:30 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-10-03 12:01:55.987 +03:30 [DBG] Opened connection to database 'main' on server 'C:\Users\Ideapad 5\source\repos\Cityinfo.API\Cityinfo.API\CityInfo.db'.
2024-10-03 12:01:56.005 +03:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-03 12:01:56.015 +03:30 [DBG] Created DbCommand for 'ExecuteReader' (10ms).
2024-10-03 12:01:56.026 +03:30 [DBG] Initialized DbCommand for 'ExecuteReader' (23ms).
2024-10-03 12:01:56.044 +03:30 [DBG] Executing DbCommand [Parameters=[@__name_0='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Users" AS "u"
    WHERE "u"."Name" = @__name_0)
2024-10-03 12:01:56.095 +03:30 [INF] Executed DbCommand (53ms) [Parameters=[@__name_0='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Users" AS "u"
    WHERE "u"."Name" = @__name_0)
2024-10-03 12:01:56.117 +03:30 [DBG] Closing data reader to 'main' on server 'C:\Users\Ideapad 5\source\repos\Cityinfo.API\Cityinfo.API\CityInfo.db'.
2024-10-03 12:01:56.127 +03:30 [DBG] A data reader for 'main' on server 'C:\Users\Ideapad 5\source\repos\Cityinfo.API\Cityinfo.API\CityInfo.db' is being disposed after spending 18ms reading results.
2024-10-03 12:01:56.134 +03:30 [DBG] Closing connection to database 'main' on server 'C:\Users\Ideapad 5\source\repos\Cityinfo.API\Cityinfo.API\CityInfo.db'.
2024-10-03 12:01:56.140 +03:30 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (6ms).
2024-10-03 12:01:56.504 +03:30 [DBG] 'CityInfoDbContext' generated a temporary value for the property 'User.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-03 12:01:56.551 +03:30 [DBG] Context 'CityInfoDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-03 12:01:56.559 +03:30 [DBG] SaveChanges starting for 'CityInfoDbContext'.
2024-10-03 12:01:56.565 +03:30 [DBG] DetectChanges starting for 'CityInfoDbContext'.
2024-10-03 12:01:56.582 +03:30 [DBG] DetectChanges completed for 'CityInfoDbContext'.
2024-10-03 12:01:56.666 +03:30 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-10-03 12:01:56.669 +03:30 [DBG] Opened connection to database 'main' on server 'C:\Users\Ideapad 5\source\repos\Cityinfo.API\Cityinfo.API\CityInfo.db'.
2024-10-03 12:01:56.673 +03:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-03 12:01:56.674 +03:30 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-10-03 12:01:56.680 +03:30 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2024-10-03 12:01:56.681 +03:30 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 7), @p1='?' (Size = 60), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Users" ("Name", "Password", "Role")
VALUES (@p0, @p1, @p2)
RETURNING "Id";
2024-10-03 12:01:56.685 +03:30 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 7), @p1='?' (Size = 60), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Users" ("Name", "Password", "Role")
VALUES (@p0, @p1, @p2)
RETURNING "Id";
2024-10-03 12:01:56.702 +03:30 [DBG] The foreign key property 'User.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-10-03 12:01:56.715 +03:30 [DBG] Closing data reader to 'main' on server 'C:\Users\Ideapad 5\source\repos\Cityinfo.API\Cityinfo.API\CityInfo.db'.
2024-10-03 12:01:56.717 +03:30 [DBG] A data reader for 'main' on server 'C:\Users\Ideapad 5\source\repos\Cityinfo.API\Cityinfo.API\CityInfo.db' is being disposed after spending 30ms reading results.
2024-10-03 12:01:56.719 +03:30 [DBG] Closing connection to database 'main' on server 'C:\Users\Ideapad 5\source\repos\Cityinfo.API\Cityinfo.API\CityInfo.db'.
2024-10-03 12:01:56.721 +03:30 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (1ms).
2024-10-03 12:01:56.737 +03:30 [DBG] An entity of type 'User' tracked by 'CityInfoDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-03 12:01:56.741 +03:30 [DBG] SaveChanges completed for 'CityInfoDbContext' with 1 entities written to the database.
2024-10-03 12:09:51.155 +03:30 [DBG] Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-10-03 12:09:51.224 +03:30 [DBG] Hosting starting
2024-10-03 12:09:51.260 +03:30 [INF] User profile is available. Using 'C:\Users\Ideapad 5\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-10-03 12:09:51.271 +03:30 [DBG] Reading data from file 'C:\Users\Ideapad 5\AppData\Local\ASP.NET\DataProtection-Keys\key-52a418f1-ba52-4a49-af2f-b85b42d29af6.xml'.
2024-10-03 12:09:51.289 +03:30 [DBG] Found key {52a418f1-ba52-4a49-af2f-b85b42d29af6}.
2024-10-03 12:09:51.303 +03:30 [DBG] Considering key {52a418f1-ba52-4a49-af2f-b85b42d29af6} with expiration date 2024-12-10 16:42:49Z as default key.
2024-10-03 12:09:51.307 +03:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-10-03 12:09:51.311 +03:30 [DBG] Decrypting secret element using Windows DPAPI.
2024-10-03 12:09:51.314 +03:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-10-03 12:09:51.320 +03:30 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-10-03 12:09:51.324 +03:30 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-10-03 12:09:51.327 +03:30 [DBG] Using key {52a418f1-ba52-4a49-af2f-b85b42d29af6} as the default key.
2024-10-03 12:09:51.330 +03:30 [DBG] Key ring with default key {52a418f1-ba52-4a49-af2f-b85b42d29af6} was loaded during application startup.
2024-10-03 12:09:51.673 +03:30 [INF] Now listening on: https://localhost:7016
2024-10-03 12:09:51.675 +03:30 [INF] Now listening on: http://localhost:5232
2024-10-03 12:09:51.675 +03:30 [DBG] Loaded hosting startup assembly Cityinfo.API
2024-10-03 12:09:51.677 +03:30 [INF] Application started. Press Ctrl+C to shut down.
2024-10-03 12:09:51.678 +03:30 [INF] Hosting environment: Development
2024-10-03 12:09:51.679 +03:30 [INF] Content root path: C:\Users\Ideapad 5\source\repos\Cityinfo.API\Cityinfo.API
2024-10-03 12:09:51.680 +03:30 [DBG] Hosting started
2024-10-03 12:09:52.901 +03:30 [DBG] Connection id "0HN73GRPMT6IT" accepted.
2024-10-03 12:09:52.906 +03:30 [DBG] Connection id "0HN73GRPMT6IT" started.
2024-10-03 12:09:53.115 +03:30 [DBG] Connection 0HN73GRPMT6IT established using the following protocol: "Tls13"
2024-10-03 12:09:53.250 +03:30 [INF] Request starting HTTP/2 GET https://localhost:7016/swagger/index.html - null null
2024-10-03 12:09:53.256 +03:30 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-10-03 12:09:53.631 +03:30 [INF] Request finished HTTP/2 GET https://localhost:7016/swagger/index.html - 200 null text/html;charset=utf-8 387.6005ms
2024-10-03 12:09:53.946 +03:30 [INF] Request starting HTTP/2 GET https://localhost:7016/swagger/0.1/swagger.json - null null
2024-10-03 12:09:54.534 +03:30 [INF] Request finished HTTP/2 GET https://localhost:7016/swagger/0.1/swagger.json - 200 null application/json;charset=utf-8 587.2214ms
2024-10-03 12:09:56.263 +03:30 [DBG] Connection id "0HN73GRPMT6IT" received FIN.
2024-10-03 12:09:56.269 +03:30 [DBG] The connection queue processing loop for 0HN73GRPMT6IT completed.
2024-10-03 12:09:56.274 +03:30 [DBG] Connection id "0HN73GRPMT6IT" is closed. The last processed stream ID was 3.
2024-10-03 12:09:56.276 +03:30 [DBG] Connection id "0HN73GRPMT6IT" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-03 12:09:56.292 +03:30 [DBG] Connection id "0HN73GRPMT6IT" stopped.
2024-10-03 12:09:57.075 +03:30 [DBG] Connection id "0HN73GRPMT6IU" accepted.
2024-10-03 12:09:57.078 +03:30 [DBG] Connection id "0HN73GRPMT6IU" started.
2024-10-03 12:09:57.087 +03:30 [DBG] Connection 0HN73GRPMT6IU established using the following protocol: "Tls13"
2024-10-03 12:09:57.090 +03:30 [INF] Request starting HTTP/2 GET https://localhost:7016/swagger/1.0/swagger.json - null null
2024-10-03 12:10:24.052 +03:30 [DBG] Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-10-03 12:10:24.138 +03:30 [DBG] Hosting starting
2024-10-03 12:10:24.175 +03:30 [INF] User profile is available. Using 'C:\Users\Ideapad 5\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-10-03 12:10:24.188 +03:30 [DBG] Reading data from file 'C:\Users\Ideapad 5\AppData\Local\ASP.NET\DataProtection-Keys\key-52a418f1-ba52-4a49-af2f-b85b42d29af6.xml'.
2024-10-03 12:10:24.208 +03:30 [DBG] Found key {52a418f1-ba52-4a49-af2f-b85b42d29af6}.
2024-10-03 12:10:24.223 +03:30 [DBG] Considering key {52a418f1-ba52-4a49-af2f-b85b42d29af6} with expiration date 2024-12-10 16:42:49Z as default key.
2024-10-03 12:10:24.227 +03:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-10-03 12:10:24.230 +03:30 [DBG] Decrypting secret element using Windows DPAPI.
2024-10-03 12:10:24.233 +03:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-10-03 12:10:24.240 +03:30 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-10-03 12:10:24.242 +03:30 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-10-03 12:10:24.245 +03:30 [DBG] Using key {52a418f1-ba52-4a49-af2f-b85b42d29af6} as the default key.
2024-10-03 12:10:24.247 +03:30 [DBG] Key ring with default key {52a418f1-ba52-4a49-af2f-b85b42d29af6} was loaded during application startup.
2024-10-03 12:10:24.455 +03:30 [INF] Now listening on: https://localhost:7016
2024-10-03 12:10:24.456 +03:30 [INF] Now listening on: http://localhost:5232
2024-10-03 12:10:24.457 +03:30 [DBG] Loaded hosting startup assembly Cityinfo.API
2024-10-03 12:10:24.458 +03:30 [INF] Application started. Press Ctrl+C to shut down.
2024-10-03 12:10:24.459 +03:30 [INF] Hosting environment: Development
2024-10-03 12:10:24.461 +03:30 [INF] Content root path: C:\Users\Ideapad 5\source\repos\Cityinfo.API\Cityinfo.API
2024-10-03 12:10:24.463 +03:30 [DBG] Hosting started
2024-10-03 12:10:24.945 +03:30 [DBG] Connection id "0HN73GS38GD9H" accepted.
2024-10-03 12:10:24.949 +03:30 [DBG] Connection id "0HN73GS38GD9H" started.
2024-10-03 12:10:25.071 +03:30 [DBG] Connection 0HN73GS38GD9H established using the following protocol: "Tls13"
2024-10-03 12:10:25.184 +03:30 [INF] Request starting HTTP/2 GET https://localhost:7016/swagger/index.html - null null
2024-10-03 12:10:25.189 +03:30 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-10-03 12:10:25.436 +03:30 [INF] Request finished HTTP/2 GET https://localhost:7016/swagger/index.html - 200 null text/html;charset=utf-8 254.087ms
2024-10-03 12:10:25.619 +03:30 [INF] Request starting HTTP/2 GET https://localhost:7016/swagger/0.1/swagger.json - null null
2024-10-03 12:10:25.865 +03:30 [INF] Request finished HTTP/2 GET https://localhost:7016/swagger/0.1/swagger.json - 200 null application/json;charset=utf-8 245.8031ms
2024-10-03 12:10:26.297 +03:30 [DBG] Connection id "0HN73GS38GD9H" received FIN.
2024-10-03 12:10:26.303 +03:30 [DBG] The connection queue processing loop for 0HN73GS38GD9H completed.
2024-10-03 12:10:26.306 +03:30 [DBG] Connection id "0HN73GS38GD9H" is closed. The last processed stream ID was 3.
2024-10-03 12:10:26.307 +03:30 [DBG] Connection id "0HN73GS38GD9H" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-03 12:10:26.318 +03:30 [DBG] Connection id "0HN73GS38GD9H" stopped.
2024-10-03 12:10:27.499 +03:30 [DBG] Connection id "0HN73GS38GD9I" accepted.
2024-10-03 12:10:27.501 +03:30 [DBG] Connection id "0HN73GS38GD9I" started.
2024-10-03 12:10:27.506 +03:30 [DBG] Connection 0HN73GS38GD9I established using the following protocol: "Tls13"
2024-10-03 12:10:27.509 +03:30 [INF] Request starting HTTP/2 GET https://localhost:7016/swagger/1.0/swagger.json - null null
2024-10-03 12:10:27.593 +03:30 [INF] Request finished HTTP/2 GET https://localhost:7016/swagger/1.0/swagger.json - 200 null application/json;charset=utf-8 84.3926ms
2024-10-03 12:10:36.304 +03:30 [DBG] Connection id "0HN73GS38GD9I" received FIN.
2024-10-03 12:10:36.307 +03:30 [DBG] Connection id "0HN73GS38GD9I" is closed. The last processed stream ID was 1.
2024-10-03 12:10:36.307 +03:30 [DBG] The connection queue processing loop for 0HN73GS38GD9I completed.
2024-10-03 12:10:36.309 +03:30 [DBG] Connection id "0HN73GS38GD9I" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-03 12:10:36.319 +03:30 [DBG] Connection id "0HN73GS38GD9I" stopped.
2024-10-03 12:10:39.105 +03:30 [DBG] Connection id "0HN73GS38GD9J" accepted.
2024-10-03 12:10:39.107 +03:30 [DBG] Connection id "0HN73GS38GD9J" started.
2024-10-03 12:10:39.112 +03:30 [DBG] Connection 0HN73GS38GD9J established using the following protocol: "Tls13"
2024-10-03 12:10:39.115 +03:30 [INF] Request starting HTTP/2 POST https://localhost:7016/api/v1/users/signup - application/json-patch+json 53
2024-10-03 12:10:39.120 +03:30 [DBG] POST requests are not supported
2024-10-03 12:10:39.219 +03:30 [DBG] 1 candidate(s) found for the request path '/api/v1/users/signup'
2024-10-03 12:10:39.224 +03:30 [DBG] Endpoint 'Cityinfo.API.Controllers.UsersController.Signup (Cityinfo.API)' with route pattern 'api/v{version:apiVersion}/users/signup' is valid for the request path '/api/v1/users/signup'
2024-10-03 12:10:39.230 +03:30 [DBG] Request matched endpoint 'Cityinfo.API.Controllers.UsersController.Signup (Cityinfo.API)'
2024-10-03 12:10:39.346 +03:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-10-03 12:10:39.351 +03:30 [INF] Executing endpoint 'Cityinfo.API.Controllers.UsersController.Signup (Cityinfo.API)'
2024-10-03 12:10:39.382 +03:30 [INF] Route matched with {action = "Signup", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Cityinfo.API.Entities.User]]] Signup(Cityinfo.API.Models.RegisterRequest) on controller Cityinfo.API.Controllers.UsersController (Cityinfo.API).
2024-10-03 12:10:39.385 +03:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-03 12:10:39.387 +03:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-03 12:10:39.390 +03:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2024-10-03 12:10:39.393 +03:30 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-03 12:10:39.395 +03:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2024-10-03 12:10:39.399 +03:30 [DBG] Executing controller factory for controller Cityinfo.API.Controllers.UsersController (Cityinfo.API)
2024-10-03 12:10:39.648 +03:30 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-10-03 12:10:39.821 +03:30 [DBG] Executed controller factory for controller Cityinfo.API.Controllers.UsersController (Cityinfo.API)
2024-10-03 12:10:39.828 +03:30 [DBG] Attempting to bind parameter 'registerRequest' of type 'Cityinfo.API.Models.RegisterRequest' ...
2024-10-03 12:10:39.832 +03:30 [DBG] Attempting to bind parameter 'registerRequest' of type 'Cityinfo.API.Models.RegisterRequest' using the name '' in request data ...
2024-10-03 12:10:39.835 +03:30 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2024-10-03 12:10:39.836 +03:30 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2024-10-03 12:10:39.860 +03:30 [DBG] Connection id "0HN73GS38GD9J", Request id "0HN73GS38GD9J:00000001": started reading request body.
2024-10-03 12:10:39.863 +03:30 [DBG] Connection id "0HN73GS38GD9J", Request id "0HN73GS38GD9J:00000001": done reading request body.
2024-10-03 12:10:39.974 +03:30 [DBG] Done attempting to bind parameter 'registerRequest' of type 'Cityinfo.API.Models.RegisterRequest'.
2024-10-03 12:10:39.976 +03:30 [DBG] Done attempting to bind parameter 'registerRequest' of type 'Cityinfo.API.Models.RegisterRequest'.
2024-10-03 12:10:39.978 +03:30 [DBG] Attempting to validate the bound parameter 'registerRequest' of type 'Cityinfo.API.Models.RegisterRequest' ...
2024-10-03 12:10:39.986 +03:30 [DBG] Done attempting to validate the bound parameter 'registerRequest' of type 'Cityinfo.API.Models.RegisterRequest'.
2024-10-03 12:10:40.000 +03:30 [INF] Executing action method Cityinfo.API.Controllers.UsersController.Signup (Cityinfo.API) - Validation state: "Valid"
2024-10-03 12:10:41.109 +03:30 [DBG] Entity Framework Core 8.0.8 initialized 'CityInfoDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.8' with options: None
2024-10-03 12:10:41.158 +03:30 [DBG] Compiling query expression: 
'DbSet<User>()
    .Any(u => u.Name == __name_0)'
2024-10-03 12:10:41.385 +03:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Users AS u
                WHERE u.Name == @__name_0)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        Cityinfo.API.DbContexts.CityInfoDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-10-03 12:10:41.465 +03:30 [DBG] Creating DbConnection.
2024-10-03 12:10:41.493 +03:30 [DBG] Created DbConnection. (25ms).
2024-10-03 12:10:41.501 +03:30 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-10-03 12:10:41.534 +03:30 [DBG] Opened connection to database 'main' on server 'C:\Users\Ideapad 5\source\repos\Cityinfo.API\Cityinfo.API\CityInfo.db'.
2024-10-03 12:10:41.547 +03:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-03 12:10:41.552 +03:30 [DBG] Created DbCommand for 'ExecuteReader' (6ms).
2024-10-03 12:10:41.560 +03:30 [DBG] Initialized DbCommand for 'ExecuteReader' (14ms).
2024-10-03 12:10:41.576 +03:30 [DBG] Executing DbCommand [Parameters=[@__name_0='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Users" AS "u"
    WHERE "u"."Name" = @__name_0)
2024-10-03 12:10:41.614 +03:30 [INF] Executed DbCommand (43ms) [Parameters=[@__name_0='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Users" AS "u"
    WHERE "u"."Name" = @__name_0)
2024-10-03 12:10:41.631 +03:30 [DBG] Closing data reader to 'main' on server 'C:\Users\Ideapad 5\source\repos\Cityinfo.API\Cityinfo.API\CityInfo.db'.
2024-10-03 12:10:41.639 +03:30 [DBG] A data reader for 'main' on server 'C:\Users\Ideapad 5\source\repos\Cityinfo.API\Cityinfo.API\CityInfo.db' is being disposed after spending 15ms reading results.
2024-10-03 12:10:41.647 +03:30 [DBG] Closing connection to database 'main' on server 'C:\Users\Ideapad 5\source\repos\Cityinfo.API\Cityinfo.API\CityInfo.db'.
2024-10-03 12:10:41.652 +03:30 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (4ms).
2024-10-03 12:10:41.659 +03:30 [INF] Executed action method Cityinfo.API.Controllers.UsersController.Signup (Cityinfo.API), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 1654.2631ms.
2024-10-03 12:10:41.668 +03:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-10-03 12:10:41.674 +03:30 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2024-10-03 12:10:41.676 +03:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2024-10-03 12:10:41.679 +03:30 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2024-10-03 12:10:41.689 +03:30 [INF] Executed action Cityinfo.API.Controllers.UsersController.Signup (Cityinfo.API) in 2288.1856ms
2024-10-03 12:10:41.690 +03:30 [INF] Executed endpoint 'Cityinfo.API.Controllers.UsersController.Signup (Cityinfo.API)'
2024-10-03 12:10:41.695 +03:30 [DBG] 'CityInfoDbContext' disposed.
2024-10-03 12:10:41.701 +03:30 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2024-10-03 12:10:41.703 +03:30 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (2ms).
2024-10-03 12:10:41.707 +03:30 [INF] Request finished HTTP/2 POST https://localhost:7016/api/v1/users/signup - 400 null text/plain; charset=utf-8 2591.8694ms
2024-10-03 12:10:46.333 +03:30 [DBG] Connection id "0HN73GS38GD9J" received FIN.
2024-10-03 12:10:46.352 +03:30 [DBG] Connection id "0HN73GS38GD9J" is closed. The last processed stream ID was 1.
2024-10-03 12:10:46.353 +03:30 [DBG] The connection queue processing loop for 0HN73GS38GD9J completed.
2024-10-03 12:10:46.365 +03:30 [DBG] Connection id "0HN73GS38GD9J" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-03 12:10:46.369 +03:30 [DBG] Connection id "0HN73GS38GD9J" stopped.
2024-10-03 12:12:08.864 +03:30 [DBG] Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-10-03 12:12:08.937 +03:30 [DBG] Hosting starting
2024-10-03 12:12:08.971 +03:30 [INF] User profile is available. Using 'C:\Users\Ideapad 5\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-10-03 12:12:08.979 +03:30 [DBG] Reading data from file 'C:\Users\Ideapad 5\AppData\Local\ASP.NET\DataProtection-Keys\key-52a418f1-ba52-4a49-af2f-b85b42d29af6.xml'.
2024-10-03 12:12:08.990 +03:30 [DBG] Found key {52a418f1-ba52-4a49-af2f-b85b42d29af6}.
2024-10-03 12:12:09.000 +03:30 [DBG] Considering key {52a418f1-ba52-4a49-af2f-b85b42d29af6} with expiration date 2024-12-10 16:42:49Z as default key.
2024-10-03 12:12:09.005 +03:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-10-03 12:12:09.008 +03:30 [DBG] Decrypting secret element using Windows DPAPI.
2024-10-03 12:12:09.011 +03:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-10-03 12:12:09.016 +03:30 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-10-03 12:12:09.019 +03:30 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-10-03 12:12:09.022 +03:30 [DBG] Using key {52a418f1-ba52-4a49-af2f-b85b42d29af6} as the default key.
2024-10-03 12:12:09.024 +03:30 [DBG] Key ring with default key {52a418f1-ba52-4a49-af2f-b85b42d29af6} was loaded during application startup.
2024-10-03 12:12:09.187 +03:30 [INF] Now listening on: https://localhost:7016
2024-10-03 12:12:09.188 +03:30 [INF] Now listening on: http://localhost:5232
2024-10-03 12:12:09.189 +03:30 [DBG] Loaded hosting startup assembly Cityinfo.API
2024-10-03 12:12:09.190 +03:30 [INF] Application started. Press Ctrl+C to shut down.
2024-10-03 12:12:09.191 +03:30 [INF] Hosting environment: Development
2024-10-03 12:12:09.192 +03:30 [INF] Content root path: C:\Users\Ideapad 5\source\repos\Cityinfo.API\Cityinfo.API
2024-10-03 12:12:09.193 +03:30 [DBG] Hosting started
2024-10-03 12:12:09.329 +03:30 [DBG] Connection id "0HN73GT2C02DB" received FIN.
2024-10-03 12:12:09.340 +03:30 [DBG] Connection id "0HN73GT2C02DB" accepted.
2024-10-03 12:12:09.342 +03:30 [DBG] Connection id "0HN73GT2C02DB" started.
2024-10-03 12:12:09.364 +03:30 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-10-03 12:12:09.426 +03:30 [DBG] Connection id "0HN73GT2C02DB" stopped.
2024-10-03 12:12:09.431 +03:30 [DBG] Connection id "0HN73GT2C02DB" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-03 12:12:09.796 +03:30 [DBG] Connection id "0HN73GT2C02DC" accepted.
2024-10-03 12:12:09.803 +03:30 [DBG] Connection id "0HN73GT2C02DC" started.
2024-10-03 12:12:09.939 +03:30 [DBG] Connection 0HN73GT2C02DC established using the following protocol: "Tls13"
2024-10-03 12:12:10.065 +03:30 [INF] Request starting HTTP/2 GET https://localhost:7016/swagger/index.html - null null
2024-10-03 12:12:10.072 +03:30 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-10-03 12:12:10.514 +03:30 [INF] Request finished HTTP/2 GET https://localhost:7016/swagger/index.html - 200 null text/html;charset=utf-8 451.8904ms
2024-10-03 12:12:10.967 +03:30 [INF] Request starting HTTP/2 GET https://localhost:7016/swagger/0.1/swagger.json - null null
2024-10-03 12:12:11.436 +03:30 [INF] Request finished HTTP/2 GET https://localhost:7016/swagger/0.1/swagger.json - 200 null application/json;charset=utf-8 469.403ms
2024-10-03 12:12:13.306 +03:30 [DBG] Connection id "0HN73GT2C02DC" received FIN.
2024-10-03 12:12:13.310 +03:30 [DBG] The connection queue processing loop for 0HN73GT2C02DC completed.
2024-10-03 12:12:13.315 +03:30 [DBG] Connection id "0HN73GT2C02DC" is closed. The last processed stream ID was 3.
2024-10-03 12:12:13.316 +03:30 [DBG] Connection id "0HN73GT2C02DC" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-03 12:12:13.321 +03:30 [DBG] Connection id "0HN73GT2C02DC" stopped.
2024-10-03 12:12:17.032 +03:30 [DBG] Connection id "0HN73GT2C02DD" accepted.
2024-10-03 12:12:17.042 +03:30 [DBG] Connection id "0HN73GT2C02DD" started.
2024-10-03 12:12:17.059 +03:30 [DBG] Connection 0HN73GT2C02DD established using the following protocol: "Tls13"
2024-10-03 12:12:17.065 +03:30 [INF] Request starting HTTP/2 GET https://localhost:7016/swagger/1.0/swagger.json - null null
2024-10-03 12:12:17.195 +03:30 [INF] Request finished HTTP/2 GET https://localhost:7016/swagger/1.0/swagger.json - 200 null application/json;charset=utf-8 129.5499ms
2024-10-03 12:12:18.308 +03:30 [DBG] Connection id "0HN73GT2C02DD" received FIN.
2024-10-03 12:12:18.310 +03:30 [DBG] Connection id "0HN73GT2C02DD" is closed. The last processed stream ID was 1.
2024-10-03 12:12:18.310 +03:30 [DBG] The connection queue processing loop for 0HN73GT2C02DD completed.
2024-10-03 12:12:18.311 +03:30 [DBG] Connection id "0HN73GT2C02DD" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-03 12:12:18.329 +03:30 [DBG] Connection id "0HN73GT2C02DD" stopped.
2024-10-03 12:12:29.531 +03:30 [DBG] Connection id "0HN73GT2C02DE" accepted.
2024-10-03 12:12:29.532 +03:30 [DBG] Connection id "0HN73GT2C02DE" started.
2024-10-03 12:12:29.537 +03:30 [DBG] Connection 0HN73GT2C02DE established using the following protocol: "Tls13"
2024-10-03 12:12:29.540 +03:30 [INF] Request starting HTTP/2 POST https://localhost:7016/api/v1/users/signup - application/json-patch+json 53
2024-10-03 12:12:29.548 +03:30 [DBG] POST requests are not supported
2024-10-03 12:12:29.630 +03:30 [DBG] 1 candidate(s) found for the request path '/api/v1/users/signup'
2024-10-03 12:12:29.636 +03:30 [DBG] Endpoint 'Cityinfo.API.Controllers.UsersController.Signup (Cityinfo.API)' with route pattern 'api/v{version:apiVersion}/users/signup' is valid for the request path '/api/v1/users/signup'
2024-10-03 12:12:29.641 +03:30 [DBG] Request matched endpoint 'Cityinfo.API.Controllers.UsersController.Signup (Cityinfo.API)'
2024-10-03 12:12:29.742 +03:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-10-03 12:12:29.748 +03:30 [INF] Executing endpoint 'Cityinfo.API.Controllers.UsersController.Signup (Cityinfo.API)'
2024-10-03 12:12:29.789 +03:30 [INF] Route matched with {action = "Signup", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Cityinfo.API.Entities.User]]] Signup(Cityinfo.API.Models.RegisterRequest) on controller Cityinfo.API.Controllers.UsersController (Cityinfo.API).
2024-10-03 12:12:29.794 +03:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-03 12:12:29.796 +03:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-03 12:12:29.799 +03:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2024-10-03 12:12:29.802 +03:30 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-03 12:12:29.804 +03:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2024-10-03 12:12:29.809 +03:30 [DBG] Executing controller factory for controller Cityinfo.API.Controllers.UsersController (Cityinfo.API)
2024-10-03 12:12:30.010 +03:30 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-10-03 12:12:30.172 +03:30 [DBG] Executed controller factory for controller Cityinfo.API.Controllers.UsersController (Cityinfo.API)
2024-10-03 12:12:30.182 +03:30 [DBG] Attempting to bind parameter 'registerRequest' of type 'Cityinfo.API.Models.RegisterRequest' ...
2024-10-03 12:12:30.186 +03:30 [DBG] Attempting to bind parameter 'registerRequest' of type 'Cityinfo.API.Models.RegisterRequest' using the name '' in request data ...
2024-10-03 12:12:30.190 +03:30 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2024-10-03 12:12:30.192 +03:30 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2024-10-03 12:12:30.213 +03:30 [DBG] Connection id "0HN73GT2C02DE", Request id "0HN73GT2C02DE:00000001": started reading request body.
2024-10-03 12:12:30.214 +03:30 [DBG] Connection id "0HN73GT2C02DE", Request id "0HN73GT2C02DE:00000001": done reading request body.
2024-10-03 12:12:30.347 +03:30 [DBG] Done attempting to bind parameter 'registerRequest' of type 'Cityinfo.API.Models.RegisterRequest'.
2024-10-03 12:12:30.350 +03:30 [DBG] Done attempting to bind parameter 'registerRequest' of type 'Cityinfo.API.Models.RegisterRequest'.
2024-10-03 12:12:30.351 +03:30 [DBG] Attempting to validate the bound parameter 'registerRequest' of type 'Cityinfo.API.Models.RegisterRequest' ...
2024-10-03 12:12:30.361 +03:30 [DBG] Done attempting to validate the bound parameter 'registerRequest' of type 'Cityinfo.API.Models.RegisterRequest'.
2024-10-03 12:12:30.378 +03:30 [INF] Executing action method Cityinfo.API.Controllers.UsersController.Signup (Cityinfo.API) - Validation state: "Valid"
2024-10-03 12:12:31.559 +03:30 [DBG] Entity Framework Core 8.0.8 initialized 'CityInfoDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.8' with options: None
2024-10-03 12:12:31.627 +03:30 [DBG] Compiling query expression: 
'DbSet<User>()
    .Any(u => u.Name == __name_0)'
2024-10-03 12:12:31.858 +03:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Users AS u
                WHERE u.Name == @__name_0)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        Cityinfo.API.DbContexts.CityInfoDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-10-03 12:12:31.912 +03:30 [DBG] Creating DbConnection.
2024-10-03 12:12:31.929 +03:30 [DBG] Created DbConnection. (15ms).
2024-10-03 12:12:31.937 +03:30 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-10-03 12:12:31.972 +03:30 [DBG] Opened connection to database 'main' on server 'C:\Users\Ideapad 5\source\repos\Cityinfo.API\Cityinfo.API\CityInfo.db'.
2024-10-03 12:12:31.987 +03:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-03 12:12:31.997 +03:30 [DBG] Created DbCommand for 'ExecuteReader' (8ms).
2024-10-03 12:12:32.007 +03:30 [DBG] Initialized DbCommand for 'ExecuteReader' (20ms).
2024-10-03 12:12:32.022 +03:30 [DBG] Executing DbCommand [Parameters=[@__name_0='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Users" AS "u"
    WHERE "u"."Name" = @__name_0)
2024-10-03 12:12:32.071 +03:30 [INF] Executed DbCommand (49ms) [Parameters=[@__name_0='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Users" AS "u"
    WHERE "u"."Name" = @__name_0)
2024-10-03 12:12:32.096 +03:30 [DBG] Closing data reader to 'main' on server 'C:\Users\Ideapad 5\source\repos\Cityinfo.API\Cityinfo.API\CityInfo.db'.
2024-10-03 12:12:32.104 +03:30 [DBG] A data reader for 'main' on server 'C:\Users\Ideapad 5\source\repos\Cityinfo.API\Cityinfo.API\CityInfo.db' is being disposed after spending 20ms reading results.
2024-10-03 12:12:32.113 +03:30 [DBG] Closing connection to database 'main' on server 'C:\Users\Ideapad 5\source\repos\Cityinfo.API\Cityinfo.API\CityInfo.db'.
2024-10-03 12:12:32.118 +03:30 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (5ms).
2024-10-03 12:12:32.126 +03:30 [INF] Executed action method Cityinfo.API.Controllers.UsersController.Signup (Cityinfo.API), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 1741.9516ms.
2024-10-03 12:12:32.134 +03:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-10-03 12:12:32.140 +03:30 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2024-10-03 12:12:32.149 +03:30 [WRN] An error occurred while trying to create a DataContractSerializer for the type 'Cityinfo.API.Models.ResponseError'.
System.Runtime.Serialization.InvalidDataContractException: Type 'Cityinfo.API.Models.ResponseError' cannot be serialized. Consider marking it with the DataContractAttribute attribute, and marking all of its members you want serialized with the DataMemberAttribute attribute. Alternatively, you can ensure that the type is public and has a parameterless constructor - all public members of the type will then be serialized, and no attributes will be required.
   at System.Runtime.Serialization.DataContracts.DataContract.DataContractCriticalHelper.ThrowInvalidDataContractException(String message, Type type)
   at System.Runtime.Serialization.DataContracts.DataContract.DataContractCriticalHelper.CreateDataContract(Type type)
   at System.Runtime.Serialization.DataContracts.DataContract.DataContractCriticalHelper.CreateDataContract(Int32 id, RuntimeTypeHandle typeHandle, Type type)
   at System.Runtime.Serialization.DataContracts.DataContract.DataContractCriticalHelper.GetDataContractSkipValidation(Int32 id, RuntimeTypeHandle typeHandle, Type type)
   at System.Runtime.Serialization.DataContracts.DataContract.GetDataContract(RuntimeTypeHandle typeHandle)
   at System.Runtime.Serialization.XsdDataContractExporter.GetRootElementName(Type type)
   at Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter.CreateSerializer(Type type)
2024-10-03 12:12:32.154 +03:30 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2024-10-03 12:12:32.155 +03:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-10-03 12:12:32.157 +03:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-10-03 12:12:32.159 +03:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-10-03 12:12:32.160 +03:30 [INF] Executing BadRequestObjectResult, writing value of type 'Cityinfo.API.Models.ResponseError'.
2024-10-03 12:12:32.213 +03:30 [INF] Executed action Cityinfo.API.Controllers.UsersController.Signup (Cityinfo.API) in 2403.4916ms
2024-10-03 12:12:32.216 +03:30 [INF] Executed endpoint 'Cityinfo.API.Controllers.UsersController.Signup (Cityinfo.API)'
2024-10-03 12:12:32.220 +03:30 [DBG] 'CityInfoDbContext' disposed.
2024-10-03 12:12:32.226 +03:30 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2024-10-03 12:12:32.231 +03:30 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (3ms).
2024-10-03 12:12:32.233 +03:30 [INF] Request finished HTTP/2 POST https://localhost:7016/api/v1/users/signup - 400 33 application/json; charset=utf-8 2692.9487ms
2024-10-03 12:12:33.326 +03:30 [DBG] Connection id "0HN73GT2C02DE" received FIN.
2024-10-03 12:12:33.328 +03:30 [DBG] Connection id "0HN73GT2C02DE" is closed. The last processed stream ID was 1.
2024-10-03 12:12:33.328 +03:30 [DBG] Connection id "0HN73GT2C02DE" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-03 12:12:33.333 +03:30 [DBG] The connection queue processing loop for 0HN73GT2C02DE completed.
2024-10-03 12:12:33.335 +03:30 [DBG] Connection id "0HN73GT2C02DE" stopped.
2024-10-03 12:15:48.983 +03:30 [DBG] Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-10-03 12:15:49.057 +03:30 [DBG] Hosting starting
2024-10-03 12:15:49.089 +03:30 [INF] User profile is available. Using 'C:\Users\Ideapad 5\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-10-03 12:15:49.098 +03:30 [DBG] Reading data from file 'C:\Users\Ideapad 5\AppData\Local\ASP.NET\DataProtection-Keys\key-52a418f1-ba52-4a49-af2f-b85b42d29af6.xml'.
2024-10-03 12:15:49.108 +03:30 [DBG] Found key {52a418f1-ba52-4a49-af2f-b85b42d29af6}.
2024-10-03 12:15:49.118 +03:30 [DBG] Considering key {52a418f1-ba52-4a49-af2f-b85b42d29af6} with expiration date 2024-12-10 16:42:49Z as default key.
2024-10-03 12:15:49.122 +03:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-10-03 12:15:49.125 +03:30 [DBG] Decrypting secret element using Windows DPAPI.
2024-10-03 12:15:49.128 +03:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-10-03 12:15:49.134 +03:30 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-10-03 12:15:49.137 +03:30 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-10-03 12:15:49.140 +03:30 [DBG] Using key {52a418f1-ba52-4a49-af2f-b85b42d29af6} as the default key.
2024-10-03 12:15:49.142 +03:30 [DBG] Key ring with default key {52a418f1-ba52-4a49-af2f-b85b42d29af6} was loaded during application startup.
2024-10-03 12:15:49.310 +03:30 [INF] Now listening on: https://localhost:7016
2024-10-03 12:15:49.312 +03:30 [INF] Now listening on: http://localhost:5232
2024-10-03 12:15:49.314 +03:30 [DBG] Loaded hosting startup assembly Cityinfo.API
2024-10-03 12:15:49.315 +03:30 [INF] Application started. Press Ctrl+C to shut down.
2024-10-03 12:15:49.317 +03:30 [INF] Hosting environment: Development
2024-10-03 12:15:49.318 +03:30 [INF] Content root path: C:\Users\Ideapad 5\source\repos\Cityinfo.API\Cityinfo.API
2024-10-03 12:15:49.320 +03:30 [DBG] Hosting started
2024-10-03 12:15:49.529 +03:30 [DBG] Connection id "0HN73GV3VVP6M" received FIN.
2024-10-03 12:15:49.539 +03:30 [DBG] Connection id "0HN73GV3VVP6M" accepted.
2024-10-03 12:15:49.542 +03:30 [DBG] Connection id "0HN73GV3VVP6M" started.
2024-10-03 12:15:49.566 +03:30 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-10-03 12:15:49.614 +03:30 [DBG] Connection id "0HN73GV3VVP6M" stopped.
2024-10-03 12:15:49.618 +03:30 [DBG] Connection id "0HN73GV3VVP6M" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-03 12:15:49.833 +03:30 [DBG] Connection id "0HN73GV3VVP6N" accepted.
2024-10-03 12:15:49.835 +03:30 [DBG] Connection id "0HN73GV3VVP6N" started.
2024-10-03 12:15:49.914 +03:30 [DBG] Connection 0HN73GV3VVP6N established using the following protocol: "Tls13"
2024-10-03 12:15:50.031 +03:30 [INF] Request starting HTTP/2 GET https://localhost:7016/swagger/index.html - null null
2024-10-03 12:15:50.038 +03:30 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-10-03 12:15:50.308 +03:30 [INF] Request finished HTTP/2 GET https://localhost:7016/swagger/index.html - 200 null text/html;charset=utf-8 279.3112ms
2024-10-03 12:15:50.480 +03:30 [INF] Request starting HTTP/2 GET https://localhost:7016/swagger/0.1/swagger.json - null null
2024-10-03 12:15:50.701 +03:30 [INF] Request finished HTTP/2 GET https://localhost:7016/swagger/0.1/swagger.json - 200 null application/json;charset=utf-8 220.8622ms
2024-10-03 12:15:53.727 +03:30 [DBG] Connection id "0HN73GV3VVP6N" received FIN.
2024-10-03 12:15:53.732 +03:30 [DBG] The connection queue processing loop for 0HN73GV3VVP6N completed.
2024-10-03 12:15:53.735 +03:30 [DBG] Connection id "0HN73GV3VVP6N" is closed. The last processed stream ID was 3.
2024-10-03 12:15:53.736 +03:30 [DBG] Connection id "0HN73GV3VVP6N" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-03 12:15:53.742 +03:30 [DBG] Connection id "0HN73GV3VVP6N" stopped.
2024-10-03 12:15:57.700 +03:30 [DBG] Connection id "0HN73GV3VVP6O" accepted.
2024-10-03 12:15:57.701 +03:30 [DBG] Connection id "0HN73GV3VVP6O" started.
2024-10-03 12:15:57.707 +03:30 [DBG] Connection 0HN73GV3VVP6O established using the following protocol: "Tls13"
2024-10-03 12:15:57.710 +03:30 [INF] Request starting HTTP/2 GET https://localhost:7016/swagger/1.0/swagger.json - null null
2024-10-03 12:15:57.790 +03:30 [INF] Request finished HTTP/2 GET https://localhost:7016/swagger/1.0/swagger.json - 200 null application/json;charset=utf-8 80.2827ms
2024-10-03 12:16:03.733 +03:30 [DBG] Connection id "0HN73GV3VVP6O" received FIN.
2024-10-03 12:16:03.736 +03:30 [DBG] Connection id "0HN73GV3VVP6O" is closed. The last processed stream ID was 1.
2024-10-03 12:16:03.736 +03:30 [DBG] The connection queue processing loop for 0HN73GV3VVP6O completed.
2024-10-03 12:16:03.738 +03:30 [DBG] Connection id "0HN73GV3VVP6O" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-03 12:16:03.748 +03:30 [DBG] Connection id "0HN73GV3VVP6O" stopped.
2024-10-03 12:16:05.086 +03:30 [DBG] Connection id "0HN73GV3VVP6P" accepted.
2024-10-03 12:16:05.087 +03:30 [DBG] Connection id "0HN73GV3VVP6P" started.
2024-10-03 12:16:05.092 +03:30 [DBG] Connection 0HN73GV3VVP6P established using the following protocol: "Tls13"
2024-10-03 12:16:05.096 +03:30 [INF] Request starting HTTP/2 POST https://localhost:7016/api/v1/users/signup - application/json-patch+json 53
2024-10-03 12:16:05.103 +03:30 [DBG] POST requests are not supported
2024-10-03 12:16:05.183 +03:30 [DBG] 1 candidate(s) found for the request path '/api/v1/users/signup'
2024-10-03 12:16:05.188 +03:30 [DBG] Endpoint 'Cityinfo.API.Controllers.UsersController.Signup (Cityinfo.API)' with route pattern 'api/v{version:apiVersion}/users/signup' is valid for the request path '/api/v1/users/signup'
2024-10-03 12:16:05.195 +03:30 [DBG] Request matched endpoint 'Cityinfo.API.Controllers.UsersController.Signup (Cityinfo.API)'
2024-10-03 12:16:05.291 +03:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-10-03 12:16:05.295 +03:30 [INF] Executing endpoint 'Cityinfo.API.Controllers.UsersController.Signup (Cityinfo.API)'
2024-10-03 12:16:05.322 +03:30 [INF] Route matched with {action = "Signup", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Cityinfo.API.Entities.User]]] Signup(Cityinfo.API.Models.RegisterRequest) on controller Cityinfo.API.Controllers.UsersController (Cityinfo.API).
2024-10-03 12:16:05.325 +03:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-03 12:16:05.326 +03:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-03 12:16:05.329 +03:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2024-10-03 12:16:05.332 +03:30 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-03 12:16:05.334 +03:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2024-10-03 12:16:05.338 +03:30 [DBG] Executing controller factory for controller Cityinfo.API.Controllers.UsersController (Cityinfo.API)
2024-10-03 12:16:05.520 +03:30 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-10-03 12:16:05.681 +03:30 [DBG] Executed controller factory for controller Cityinfo.API.Controllers.UsersController (Cityinfo.API)
2024-10-03 12:16:05.688 +03:30 [DBG] Attempting to bind parameter 'registerRequest' of type 'Cityinfo.API.Models.RegisterRequest' ...
2024-10-03 12:16:05.692 +03:30 [DBG] Attempting to bind parameter 'registerRequest' of type 'Cityinfo.API.Models.RegisterRequest' using the name '' in request data ...
2024-10-03 12:16:05.695 +03:30 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2024-10-03 12:16:05.697 +03:30 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2024-10-03 12:16:05.714 +03:30 [DBG] Connection id "0HN73GV3VVP6P", Request id "0HN73GV3VVP6P:00000001": started reading request body.
2024-10-03 12:16:05.716 +03:30 [DBG] Connection id "0HN73GV3VVP6P", Request id "0HN73GV3VVP6P:00000001": done reading request body.
2024-10-03 12:16:05.825 +03:30 [DBG] Done attempting to bind parameter 'registerRequest' of type 'Cityinfo.API.Models.RegisterRequest'.
2024-10-03 12:16:05.827 +03:30 [DBG] Done attempting to bind parameter 'registerRequest' of type 'Cityinfo.API.Models.RegisterRequest'.
2024-10-03 12:16:05.829 +03:30 [DBG] Attempting to validate the bound parameter 'registerRequest' of type 'Cityinfo.API.Models.RegisterRequest' ...
2024-10-03 12:16:05.838 +03:30 [DBG] Done attempting to validate the bound parameter 'registerRequest' of type 'Cityinfo.API.Models.RegisterRequest'.
2024-10-03 12:16:05.849 +03:30 [INF] Executing action method Cityinfo.API.Controllers.UsersController.Signup (Cityinfo.API) - Validation state: "Valid"
2024-10-03 12:16:06.907 +03:30 [DBG] Entity Framework Core 8.0.8 initialized 'CityInfoDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.8' with options: None
2024-10-03 12:16:06.957 +03:30 [DBG] Compiling query expression: 
'DbSet<User>()
    .Any(u => u.Name == __name_0)'
2024-10-03 12:16:07.169 +03:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Users AS u
                WHERE u.Name == @__name_0)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        Cityinfo.API.DbContexts.CityInfoDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-10-03 12:16:07.221 +03:30 [DBG] Creating DbConnection.
2024-10-03 12:16:07.238 +03:30 [DBG] Created DbConnection. (14ms).
2024-10-03 12:16:07.243 +03:30 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-10-03 12:16:07.266 +03:30 [DBG] Opened connection to database 'main' on server 'C:\Users\Ideapad 5\source\repos\Cityinfo.API\Cityinfo.API\CityInfo.db'.
2024-10-03 12:16:07.275 +03:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-03 12:16:07.280 +03:30 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2024-10-03 12:16:07.288 +03:30 [DBG] Initialized DbCommand for 'ExecuteReader' (13ms).
2024-10-03 12:16:07.300 +03:30 [DBG] Executing DbCommand [Parameters=[@__name_0='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Users" AS "u"
    WHERE "u"."Name" = @__name_0)
2024-10-03 12:16:07.335 +03:30 [INF] Executed DbCommand (36ms) [Parameters=[@__name_0='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Users" AS "u"
    WHERE "u"."Name" = @__name_0)
2024-10-03 12:16:07.355 +03:30 [DBG] Closing data reader to 'main' on server 'C:\Users\Ideapad 5\source\repos\Cityinfo.API\Cityinfo.API\CityInfo.db'.
2024-10-03 12:16:07.365 +03:30 [DBG] A data reader for 'main' on server 'C:\Users\Ideapad 5\source\repos\Cityinfo.API\Cityinfo.API\CityInfo.db' is being disposed after spending 16ms reading results.
2024-10-03 12:16:07.375 +03:30 [DBG] Closing connection to database 'main' on server 'C:\Users\Ideapad 5\source\repos\Cityinfo.API\Cityinfo.API\CityInfo.db'.
2024-10-03 12:16:07.381 +03:30 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (6ms).
2024-10-03 12:16:07.389 +03:30 [INF] Executed action method Cityinfo.API.Controllers.UsersController.Signup (Cityinfo.API), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 1534.5669ms.
2024-10-03 12:16:07.395 +03:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-10-03 12:16:07.403 +03:30 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2024-10-03 12:16:07.409 +03:30 [WRN] An error occurred while trying to create a DataContractSerializer for the type 'Cityinfo.API.Models.ResponseError'.
System.Runtime.Serialization.InvalidDataContractException: Type 'Cityinfo.API.Models.ResponseError' cannot be serialized. Consider marking it with the DataContractAttribute attribute, and marking all of its members you want serialized with the DataMemberAttribute attribute. Alternatively, you can ensure that the type is public and has a parameterless constructor - all public members of the type will then be serialized, and no attributes will be required.
   at System.Runtime.Serialization.DataContracts.DataContract.DataContractCriticalHelper.ThrowInvalidDataContractException(String message, Type type)
   at System.Runtime.Serialization.DataContracts.DataContract.DataContractCriticalHelper.CreateDataContract(Type type)
   at System.Runtime.Serialization.DataContracts.DataContract.DataContractCriticalHelper.CreateDataContract(Int32 id, RuntimeTypeHandle typeHandle, Type type)
   at System.Runtime.Serialization.DataContracts.DataContract.DataContractCriticalHelper.GetDataContractSkipValidation(Int32 id, RuntimeTypeHandle typeHandle, Type type)
   at System.Runtime.Serialization.DataContracts.DataContract.GetDataContract(RuntimeTypeHandle typeHandle)
   at System.Runtime.Serialization.XsdDataContractExporter.GetRootElementName(Type type)
   at Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter.CreateSerializer(Type type)
2024-10-03 12:16:07.414 +03:30 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2024-10-03 12:16:07.416 +03:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-10-03 12:16:07.418 +03:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-10-03 12:16:07.419 +03:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-10-03 12:16:07.422 +03:30 [INF] Executing BadRequestObjectResult, writing value of type 'Cityinfo.API.Models.ResponseError'.
2024-10-03 12:16:07.486 +03:30 [INF] Executed action Cityinfo.API.Controllers.UsersController.Signup (Cityinfo.API) in 2145.5973ms
2024-10-03 12:16:07.488 +03:30 [INF] Executed endpoint 'Cityinfo.API.Controllers.UsersController.Signup (Cityinfo.API)'
2024-10-03 12:16:07.493 +03:30 [DBG] 'CityInfoDbContext' disposed.
2024-10-03 12:16:07.499 +03:30 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2024-10-03 12:16:07.502 +03:30 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (2ms).
2024-10-03 12:16:07.504 +03:30 [INF] Request finished HTTP/2 POST https://localhost:7016/api/v1/users/signup - 400 61 application/json; charset=utf-8 2408.3303ms
2024-10-03 12:16:13.739 +03:30 [DBG] Connection id "0HN73GV3VVP6P" received FIN.
2024-10-03 12:16:13.741 +03:30 [DBG] Connection id "0HN73GV3VVP6P" is closed. The last processed stream ID was 1.
2024-10-03 12:16:13.741 +03:30 [DBG] The connection queue processing loop for 0HN73GV3VVP6P completed.
2024-10-03 12:16:13.742 +03:30 [DBG] Connection id "0HN73GV3VVP6P" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-03 12:16:13.753 +03:30 [DBG] Connection id "0HN73GV3VVP6P" stopped.
2024-10-03 12:21:16.222 +03:30 [DBG] Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-10-03 12:21:16.300 +03:30 [DBG] Hosting starting
2024-10-03 12:21:16.339 +03:30 [INF] User profile is available. Using 'C:\Users\Ideapad 5\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-10-03 12:21:16.351 +03:30 [DBG] Reading data from file 'C:\Users\Ideapad 5\AppData\Local\ASP.NET\DataProtection-Keys\key-52a418f1-ba52-4a49-af2f-b85b42d29af6.xml'.
2024-10-03 12:21:16.368 +03:30 [DBG] Found key {52a418f1-ba52-4a49-af2f-b85b42d29af6}.
2024-10-03 12:21:16.380 +03:30 [DBG] Considering key {52a418f1-ba52-4a49-af2f-b85b42d29af6} with expiration date 2024-12-10 16:42:49Z as default key.
2024-10-03 12:21:16.384 +03:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-10-03 12:21:16.388 +03:30 [DBG] Decrypting secret element using Windows DPAPI.
2024-10-03 12:21:16.390 +03:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-10-03 12:21:16.398 +03:30 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-10-03 12:21:16.401 +03:30 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-10-03 12:21:16.405 +03:30 [DBG] Using key {52a418f1-ba52-4a49-af2f-b85b42d29af6} as the default key.
2024-10-03 12:21:16.407 +03:30 [DBG] Key ring with default key {52a418f1-ba52-4a49-af2f-b85b42d29af6} was loaded during application startup.
2024-10-03 12:21:16.650 +03:30 [INF] Now listening on: https://localhost:7016
2024-10-03 12:21:16.652 +03:30 [INF] Now listening on: http://localhost:5232
2024-10-03 12:21:16.654 +03:30 [DBG] Loaded hosting startup assembly Cityinfo.API
2024-10-03 12:21:16.656 +03:30 [INF] Application started. Press Ctrl+C to shut down.
2024-10-03 12:21:16.657 +03:30 [INF] Hosting environment: Development
2024-10-03 12:21:16.659 +03:30 [INF] Content root path: C:\Users\Ideapad 5\source\repos\Cityinfo.API\Cityinfo.API
2024-10-03 12:21:16.661 +03:30 [DBG] Hosting started
2024-10-03 12:21:16.875 +03:30 [DBG] Connection id "0HN73H25HPSM8" received FIN.
2024-10-03 12:21:16.886 +03:30 [DBG] Connection id "0HN73H25HPSM8" accepted.
2024-10-03 12:21:16.888 +03:30 [DBG] Connection id "0HN73H25HPSM8" started.
2024-10-03 12:21:16.916 +03:30 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-10-03 12:21:16.981 +03:30 [DBG] Connection id "0HN73H25HPSM8" stopped.
2024-10-03 12:21:16.986 +03:30 [DBG] Connection id "0HN73H25HPSM8" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-03 12:21:17.294 +03:30 [DBG] Connection id "0HN73H25HPSM9" accepted.
2024-10-03 12:21:17.296 +03:30 [DBG] Connection id "0HN73H25HPSM9" started.
2024-10-03 12:21:17.380 +03:30 [DBG] Connection 0HN73H25HPSM9 established using the following protocol: "Tls13"
2024-10-03 12:21:17.498 +03:30 [INF] Request starting HTTP/2 GET https://localhost:7016/swagger/index.html - null null
2024-10-03 12:21:17.503 +03:30 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-10-03 12:21:17.717 +03:30 [INF] Request finished HTTP/2 GET https://localhost:7016/swagger/index.html - 200 null text/html;charset=utf-8 220.8884ms
2024-10-03 12:21:17.879 +03:30 [INF] Request starting HTTP/2 GET https://localhost:7016/swagger/1.0/swagger.json - null null
2024-10-03 12:21:17.951 +03:30 [WRN] An error occurred while trying to create a DataContractSerializer for the type 'Cityinfo.API.Models.ResponseError'.
System.Runtime.Serialization.InvalidDataContractException: Type 'Cityinfo.API.Models.ResponseError' cannot be serialized. Consider marking it with the DataContractAttribute attribute, and marking all of its members you want serialized with the DataMemberAttribute attribute. Alternatively, you can ensure that the type is public and has a parameterless constructor - all public members of the type will then be serialized, and no attributes will be required.
   at System.Runtime.Serialization.DataContracts.DataContract.DataContractCriticalHelper.ThrowInvalidDataContractException(String message, Type type)
   at System.Runtime.Serialization.DataContracts.DataContract.DataContractCriticalHelper.CreateDataContract(Type type)
   at System.Runtime.Serialization.DataContracts.DataContract.DataContractCriticalHelper.CreateDataContract(Int32 id, RuntimeTypeHandle typeHandle, Type type)
   at System.Runtime.Serialization.DataContracts.DataContract.DataContractCriticalHelper.GetDataContractSkipValidation(Int32 id, RuntimeTypeHandle typeHandle, Type type)
   at System.Runtime.Serialization.DataContracts.DataContract.GetDataContract(RuntimeTypeHandle typeHandle)
   at System.Runtime.Serialization.XsdDataContractExporter.GetRootElementName(Type type)
   at Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter.CreateSerializer(Type type)
2024-10-03 12:21:18.175 +03:30 [INF] Request finished HTTP/2 GET https://localhost:7016/swagger/1.0/swagger.json - 200 null application/json;charset=utf-8 296.4326ms
2024-10-03 12:21:19.285 +03:30 [DBG] Connection id "0HN73H25HPSM9" received FIN.
2024-10-03 12:21:19.291 +03:30 [DBG] The connection queue processing loop for 0HN73H25HPSM9 completed.
2024-10-03 12:21:19.295 +03:30 [DBG] Connection id "0HN73H25HPSM9" is closed. The last processed stream ID was 3.
2024-10-03 12:21:19.297 +03:30 [DBG] Connection id "0HN73H25HPSM9" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-03 12:21:19.300 +03:30 [DBG] Connection id "0HN73H25HPSM9" stopped.
2024-10-03 12:21:34.097 +03:30 [DBG] Connection id "0HN73H25HPSMA" accepted.
2024-10-03 12:21:34.098 +03:30 [DBG] Connection id "0HN73H25HPSMA" started.
2024-10-03 12:21:34.104 +03:30 [DBG] Connection 0HN73H25HPSMA established using the following protocol: "Tls13"
2024-10-03 12:21:34.109 +03:30 [INF] Request starting HTTP/2 POST https://localhost:7016/api/v1/users/signup - application/json-patch+json 53
2024-10-03 12:21:34.115 +03:30 [DBG] POST requests are not supported
2024-10-03 12:21:34.209 +03:30 [DBG] 1 candidate(s) found for the request path '/api/v1/users/signup'
2024-10-03 12:21:34.215 +03:30 [DBG] Endpoint 'Cityinfo.API.Controllers.UsersController.Signup (Cityinfo.API)' with route pattern 'api/v{version:apiVersion}/users/signup' is valid for the request path '/api/v1/users/signup'
2024-10-03 12:21:34.222 +03:30 [DBG] Request matched endpoint 'Cityinfo.API.Controllers.UsersController.Signup (Cityinfo.API)'
2024-10-03 12:21:34.329 +03:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-10-03 12:21:34.334 +03:30 [INF] Executing endpoint 'Cityinfo.API.Controllers.UsersController.Signup (Cityinfo.API)'
2024-10-03 12:21:34.366 +03:30 [INF] Route matched with {action = "Signup", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Cityinfo.API.Entities.User]]] Signup(Cityinfo.API.Models.RegisterRequest) on controller Cityinfo.API.Controllers.UsersController (Cityinfo.API).
2024-10-03 12:21:34.371 +03:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-03 12:21:34.373 +03:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-03 12:21:34.375 +03:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2024-10-03 12:21:34.377 +03:30 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-03 12:21:34.379 +03:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2024-10-03 12:21:34.383 +03:30 [DBG] Executing controller factory for controller Cityinfo.API.Controllers.UsersController (Cityinfo.API)
2024-10-03 12:21:34.620 +03:30 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-10-03 12:21:34.792 +03:30 [DBG] Executed controller factory for controller Cityinfo.API.Controllers.UsersController (Cityinfo.API)
2024-10-03 12:21:34.800 +03:30 [DBG] Attempting to bind parameter 'registerRequest' of type 'Cityinfo.API.Models.RegisterRequest' ...
2024-10-03 12:21:34.805 +03:30 [DBG] Attempting to bind parameter 'registerRequest' of type 'Cityinfo.API.Models.RegisterRequest' using the name '' in request data ...
2024-10-03 12:21:34.808 +03:30 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2024-10-03 12:21:34.810 +03:30 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2024-10-03 12:21:34.834 +03:30 [DBG] Connection id "0HN73H25HPSMA", Request id "0HN73H25HPSMA:00000001": started reading request body.
2024-10-03 12:21:34.836 +03:30 [DBG] Connection id "0HN73H25HPSMA", Request id "0HN73H25HPSMA:00000001": done reading request body.
2024-10-03 12:21:34.946 +03:30 [DBG] Done attempting to bind parameter 'registerRequest' of type 'Cityinfo.API.Models.RegisterRequest'.
2024-10-03 12:21:34.948 +03:30 [DBG] Done attempting to bind parameter 'registerRequest' of type 'Cityinfo.API.Models.RegisterRequest'.
2024-10-03 12:21:34.949 +03:30 [DBG] Attempting to validate the bound parameter 'registerRequest' of type 'Cityinfo.API.Models.RegisterRequest' ...
2024-10-03 12:21:34.962 +03:30 [DBG] Done attempting to validate the bound parameter 'registerRequest' of type 'Cityinfo.API.Models.RegisterRequest'.
2024-10-03 12:21:34.978 +03:30 [INF] Executing action method Cityinfo.API.Controllers.UsersController.Signup (Cityinfo.API) - Validation state: "Valid"
2024-10-03 12:21:36.086 +03:30 [DBG] Entity Framework Core 8.0.8 initialized 'CityInfoDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.8' with options: None
2024-10-03 12:21:36.134 +03:30 [DBG] Compiling query expression: 
'DbSet<User>()
    .Any(u => u.Name == __name_0)'
2024-10-03 12:21:36.350 +03:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Users AS u
                WHERE u.Name == @__name_0)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        Cityinfo.API.DbContexts.CityInfoDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-10-03 12:21:36.422 +03:30 [DBG] Creating DbConnection.
2024-10-03 12:21:36.447 +03:30 [DBG] Created DbConnection. (21ms).
2024-10-03 12:21:36.454 +03:30 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-10-03 12:21:36.487 +03:30 [DBG] Opened connection to database 'main' on server 'C:\Users\Ideapad 5\source\repos\Cityinfo.API\Cityinfo.API\CityInfo.db'.
2024-10-03 12:21:36.501 +03:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-03 12:21:36.512 +03:30 [DBG] Created DbCommand for 'ExecuteReader' (10ms).
2024-10-03 12:21:36.522 +03:30 [DBG] Initialized DbCommand for 'ExecuteReader' (21ms).
2024-10-03 12:21:36.537 +03:30 [DBG] Executing DbCommand [Parameters=[@__name_0='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Users" AS "u"
    WHERE "u"."Name" = @__name_0)
2024-10-03 12:21:36.573 +03:30 [INF] Executed DbCommand (39ms) [Parameters=[@__name_0='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Users" AS "u"
    WHERE "u"."Name" = @__name_0)
2024-10-03 12:21:36.593 +03:30 [DBG] Closing data reader to 'main' on server 'C:\Users\Ideapad 5\source\repos\Cityinfo.API\Cityinfo.API\CityInfo.db'.
2024-10-03 12:21:36.602 +03:30 [DBG] A data reader for 'main' on server 'C:\Users\Ideapad 5\source\repos\Cityinfo.API\Cityinfo.API\CityInfo.db' is being disposed after spending 17ms reading results.
2024-10-03 12:21:36.611 +03:30 [DBG] Closing connection to database 'main' on server 'C:\Users\Ideapad 5\source\repos\Cityinfo.API\Cityinfo.API\CityInfo.db'.
2024-10-03 12:21:36.616 +03:30 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (5ms).
2024-10-03 12:21:36.624 +03:30 [INF] Executed action method Cityinfo.API.Controllers.UsersController.Signup (Cityinfo.API), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 1639.142ms.
2024-10-03 12:21:36.631 +03:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-10-03 12:21:36.638 +03:30 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2024-10-03 12:21:36.641 +03:30 [WRN] An error occurred while trying to create a DataContractSerializer for the type 'Cityinfo.API.Models.ResponseError'.
System.Runtime.Serialization.InvalidDataContractException: Type 'Cityinfo.API.Models.ResponseError' cannot be serialized. Consider marking it with the DataContractAttribute attribute, and marking all of its members you want serialized with the DataMemberAttribute attribute. Alternatively, you can ensure that the type is public and has a parameterless constructor - all public members of the type will then be serialized, and no attributes will be required.
   at System.Runtime.Serialization.DataContracts.DataContract.DataContractCriticalHelper.ThrowInvalidDataContractException(String message, Type type)
   at System.Runtime.Serialization.DataContracts.DataContract.DataContractCriticalHelper.CreateDataContract(Type type)
   at System.Runtime.Serialization.DataContracts.DataContract.DataContractCriticalHelper.CreateDataContract(Int32 id, RuntimeTypeHandle typeHandle, Type type)
   at System.Runtime.Serialization.DataContracts.DataContract.DataContractCriticalHelper.GetDataContractSkipValidation(Int32 id, RuntimeTypeHandle typeHandle, Type type)
   at System.Runtime.Serialization.DataContracts.DataContract.GetDataContract(RuntimeTypeHandle typeHandle)
   at System.Runtime.Serialization.XsdDataContractExporter.GetRootElementName(Type type)
   at Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter.CreateSerializer(Type type)
2024-10-03 12:21:36.645 +03:30 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2024-10-03 12:21:36.646 +03:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-10-03 12:21:36.647 +03:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-10-03 12:21:36.649 +03:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-10-03 12:21:36.651 +03:30 [INF] Executing BadRequestObjectResult, writing value of type 'Cityinfo.API.Models.ResponseError'.
2024-10-03 12:21:36.712 +03:30 [INF] Executed action Cityinfo.API.Controllers.UsersController.Signup (Cityinfo.API) in 2328.4461ms
2024-10-03 12:21:36.714 +03:30 [INF] Executed endpoint 'Cityinfo.API.Controllers.UsersController.Signup (Cityinfo.API)'
2024-10-03 12:21:36.720 +03:30 [DBG] 'CityInfoDbContext' disposed.
2024-10-03 12:21:36.726 +03:30 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2024-10-03 12:21:36.730 +03:30 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (3ms).
2024-10-03 12:21:36.732 +03:30 [INF] Request finished HTTP/2 POST https://localhost:7016/api/v1/users/signup - 400 61 application/json; charset=utf-8 2623.3076ms
2024-10-03 12:21:39.305 +03:30 [DBG] Connection id "0HN73H25HPSMA" received FIN.
2024-10-03 12:21:39.307 +03:30 [DBG] Connection id "0HN73H25HPSMA" is closed. The last processed stream ID was 1.
2024-10-03 12:21:39.307 +03:30 [DBG] The connection queue processing loop for 0HN73H25HPSMA completed.
2024-10-03 12:21:39.309 +03:30 [DBG] Connection id "0HN73H25HPSMA" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-03 12:21:39.320 +03:30 [DBG] Connection id "0HN73H25HPSMA" stopped.
2024-10-03 12:23:55.506 +03:30 [DBG] Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-10-03 12:23:55.595 +03:30 [DBG] Hosting starting
2024-10-03 12:23:55.737 +03:30 [INF] User profile is available. Using 'C:\Users\Ideapad 5\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-10-03 12:23:55.749 +03:30 [DBG] Reading data from file 'C:\Users\Ideapad 5\AppData\Local\ASP.NET\DataProtection-Keys\key-52a418f1-ba52-4a49-af2f-b85b42d29af6.xml'.
2024-10-03 12:23:55.760 +03:30 [DBG] Found key {52a418f1-ba52-4a49-af2f-b85b42d29af6}.
2024-10-03 12:23:55.773 +03:30 [DBG] Considering key {52a418f1-ba52-4a49-af2f-b85b42d29af6} with expiration date 2024-12-10 16:42:49Z as default key.
2024-10-03 12:23:55.778 +03:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-10-03 12:23:55.781 +03:30 [DBG] Decrypting secret element using Windows DPAPI.
2024-10-03 12:23:55.783 +03:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-10-03 12:23:55.791 +03:30 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-10-03 12:23:55.794 +03:30 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-10-03 12:23:55.797 +03:30 [DBG] Using key {52a418f1-ba52-4a49-af2f-b85b42d29af6} as the default key.
2024-10-03 12:23:55.800 +03:30 [DBG] Key ring with default key {52a418f1-ba52-4a49-af2f-b85b42d29af6} was loaded during application startup.
2024-10-03 12:23:55.997 +03:30 [INF] Now listening on: https://localhost:7016
2024-10-03 12:23:55.999 +03:30 [INF] Now listening on: http://localhost:5232
2024-10-03 12:23:56.000 +03:30 [DBG] Loaded hosting startup assembly Cityinfo.API
2024-10-03 12:23:56.001 +03:30 [INF] Application started. Press Ctrl+C to shut down.
2024-10-03 12:23:56.003 +03:30 [INF] Hosting environment: Development
2024-10-03 12:23:56.004 +03:30 [INF] Content root path: C:\Users\Ideapad 5\source\repos\Cityinfo.API\Cityinfo.API
2024-10-03 12:23:56.005 +03:30 [DBG] Hosting started
2024-10-03 12:23:56.109 +03:30 [DBG] Connection id "0HN73H3L0C30Q" received FIN.
2024-10-03 12:23:56.117 +03:30 [DBG] Connection id "0HN73H3L0C30Q" accepted.
2024-10-03 12:23:56.121 +03:30 [DBG] Connection id "0HN73H3L0C30Q" started.
2024-10-03 12:23:56.142 +03:30 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-10-03 12:23:56.217 +03:30 [DBG] Connection id "0HN73H3L0C30Q" stopped.
2024-10-03 12:23:56.227 +03:30 [DBG] Connection id "0HN73H3L0C30Q" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-03 12:23:56.563 +03:30 [DBG] Connection id "0HN73H3L0C30R" accepted.
2024-10-03 12:23:56.564 +03:30 [DBG] Connection id "0HN73H3L0C30R" started.
2024-10-03 12:23:56.664 +03:30 [DBG] Connection 0HN73H3L0C30R established using the following protocol: "Tls13"
2024-10-03 12:23:56.767 +03:30 [INF] Request starting HTTP/2 GET https://localhost:7016/swagger/index.html - null null
2024-10-03 12:23:56.773 +03:30 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-10-03 12:23:57.110 +03:30 [INF] Request finished HTTP/2 GET https://localhost:7016/swagger/index.html - 200 null text/html;charset=utf-8 346.1867ms
2024-10-03 12:23:57.317 +03:30 [INF] Request starting HTTP/2 GET https://localhost:7016/swagger/1.0/swagger.json - null null
2024-10-03 12:23:57.419 +03:30 [WRN] An error occurred while trying to create a DataContractSerializer for the type 'Cityinfo.API.Models.ResponseError'.
System.Runtime.Serialization.InvalidDataContractException: Type 'Cityinfo.API.Models.ResponseError' cannot be serialized. Consider marking it with the DataContractAttribute attribute, and marking all of its members you want serialized with the DataMemberAttribute attribute. Alternatively, you can ensure that the type is public and has a parameterless constructor - all public members of the type will then be serialized, and no attributes will be required.
   at System.Runtime.Serialization.DataContracts.DataContract.DataContractCriticalHelper.ThrowInvalidDataContractException(String message, Type type)
   at System.Runtime.Serialization.DataContracts.DataContract.DataContractCriticalHelper.CreateDataContract(Type type)
   at System.Runtime.Serialization.DataContracts.DataContract.DataContractCriticalHelper.CreateDataContract(Int32 id, RuntimeTypeHandle typeHandle, Type type)
   at System.Runtime.Serialization.DataContracts.DataContract.DataContractCriticalHelper.GetDataContractSkipValidation(Int32 id, RuntimeTypeHandle typeHandle, Type type)
   at System.Runtime.Serialization.DataContracts.DataContract.GetDataContract(RuntimeTypeHandle typeHandle)
   at System.Runtime.Serialization.XsdDataContractExporter.GetRootElementName(Type type)
   at Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter.CreateSerializer(Type type)
2024-10-03 12:23:57.878 +03:30 [INF] Request finished HTTP/2 GET https://localhost:7016/swagger/1.0/swagger.json - 200 null application/json;charset=utf-8 560.995ms
2024-10-03 12:23:59.796 +03:30 [DBG] Connection id "0HN73H3L0C30R" received FIN.
2024-10-03 12:23:59.800 +03:30 [DBG] The connection queue processing loop for 0HN73H3L0C30R completed.
2024-10-03 12:23:59.803 +03:30 [DBG] Connection id "0HN73H3L0C30R" is closed. The last processed stream ID was 3.
2024-10-03 12:23:59.804 +03:30 [DBG] Connection id "0HN73H3L0C30R" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-03 12:23:59.822 +03:30 [DBG] Connection id "0HN73H3L0C30R" stopped.
2024-10-03 12:24:09.329 +03:30 [DBG] Connection id "0HN73H3L0C30S" accepted.
2024-10-03 12:24:09.330 +03:30 [DBG] Connection id "0HN73H3L0C30S" started.
2024-10-03 12:24:09.337 +03:30 [DBG] Connection 0HN73H3L0C30S established using the following protocol: "Tls13"
2024-10-03 12:24:09.342 +03:30 [INF] Request starting HTTP/2 POST https://localhost:7016/api/v1/users/signup - application/json-patch+json 49
2024-10-03 12:24:09.348 +03:30 [DBG] POST requests are not supported
2024-10-03 12:24:09.434 +03:30 [DBG] 1 candidate(s) found for the request path '/api/v1/users/signup'
2024-10-03 12:24:09.443 +03:30 [DBG] Endpoint 'Cityinfo.API.Controllers.UsersController.Signup (Cityinfo.API)' with route pattern 'api/v{version:apiVersion}/users/signup' is valid for the request path '/api/v1/users/signup'
2024-10-03 12:24:09.449 +03:30 [DBG] Request matched endpoint 'Cityinfo.API.Controllers.UsersController.Signup (Cityinfo.API)'
2024-10-03 12:24:09.562 +03:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-10-03 12:24:09.567 +03:30 [INF] Executing endpoint 'Cityinfo.API.Controllers.UsersController.Signup (Cityinfo.API)'
2024-10-03 12:24:09.605 +03:30 [INF] Route matched with {action = "Signup", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Cityinfo.API.Entities.User]]] Signup(Cityinfo.API.Models.RegisterRequest) on controller Cityinfo.API.Controllers.UsersController (Cityinfo.API).
2024-10-03 12:24:09.609 +03:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-03 12:24:09.610 +03:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-03 12:24:09.613 +03:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2024-10-03 12:24:09.616 +03:30 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-03 12:24:09.617 +03:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2024-10-03 12:24:09.623 +03:30 [DBG] Executing controller factory for controller Cityinfo.API.Controllers.UsersController (Cityinfo.API)
2024-10-03 12:24:09.849 +03:30 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-10-03 12:24:10.036 +03:30 [DBG] Executed controller factory for controller Cityinfo.API.Controllers.UsersController (Cityinfo.API)
2024-10-03 12:24:10.046 +03:30 [DBG] Attempting to bind parameter 'registerRequest' of type 'Cityinfo.API.Models.RegisterRequest' ...
2024-10-03 12:24:10.051 +03:30 [DBG] Attempting to bind parameter 'registerRequest' of type 'Cityinfo.API.Models.RegisterRequest' using the name '' in request data ...
2024-10-03 12:24:10.055 +03:30 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2024-10-03 12:24:10.057 +03:30 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2024-10-03 12:24:10.086 +03:30 [DBG] Connection id "0HN73H3L0C30S", Request id "0HN73H3L0C30S:00000001": started reading request body.
2024-10-03 12:24:10.088 +03:30 [DBG] Connection id "0HN73H3L0C30S", Request id "0HN73H3L0C30S:00000001": done reading request body.
2024-10-03 12:24:10.209 +03:30 [DBG] Done attempting to bind parameter 'registerRequest' of type 'Cityinfo.API.Models.RegisterRequest'.
2024-10-03 12:24:10.210 +03:30 [DBG] Done attempting to bind parameter 'registerRequest' of type 'Cityinfo.API.Models.RegisterRequest'.
2024-10-03 12:24:10.212 +03:30 [DBG] Attempting to validate the bound parameter 'registerRequest' of type 'Cityinfo.API.Models.RegisterRequest' ...
2024-10-03 12:24:10.224 +03:30 [DBG] Done attempting to validate the bound parameter 'registerRequest' of type 'Cityinfo.API.Models.RegisterRequest'.
2024-10-03 12:24:10.236 +03:30 [INF] Executing action method Cityinfo.API.Controllers.UsersController.Signup (Cityinfo.API) - Validation state: "Valid"
2024-10-03 12:24:11.399 +03:30 [DBG] Entity Framework Core 8.0.8 initialized 'CityInfoDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.8' with options: None
2024-10-03 12:24:11.452 +03:30 [DBG] Compiling query expression: 
'DbSet<User>()
    .Any(u => u.Name == __name_0)'
2024-10-03 12:24:11.708 +03:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Users AS u
                WHERE u.Name == @__name_0)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        Cityinfo.API.DbContexts.CityInfoDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-10-03 12:24:11.763 +03:30 [DBG] Creating DbConnection.
2024-10-03 12:24:11.787 +03:30 [DBG] Created DbConnection. (21ms).
2024-10-03 12:24:11.794 +03:30 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-10-03 12:24:11.827 +03:30 [DBG] Opened connection to database 'main' on server 'C:\Users\Ideapad 5\source\repos\Cityinfo.API\Cityinfo.API\CityInfo.db'.
2024-10-03 12:24:11.843 +03:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-03 12:24:11.851 +03:30 [DBG] Created DbCommand for 'ExecuteReader' (8ms).
2024-10-03 12:24:11.860 +03:30 [DBG] Initialized DbCommand for 'ExecuteReader' (19ms).
2024-10-03 12:24:11.876 +03:30 [DBG] Executing DbCommand [Parameters=[@__name_0='?' (Size = 3)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Users" AS "u"
    WHERE "u"."Name" = @__name_0)
2024-10-03 12:24:11.919 +03:30 [INF] Executed DbCommand (46ms) [Parameters=[@__name_0='?' (Size = 3)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Users" AS "u"
    WHERE "u"."Name" = @__name_0)
2024-10-03 12:24:11.942 +03:30 [DBG] Closing data reader to 'main' on server 'C:\Users\Ideapad 5\source\repos\Cityinfo.API\Cityinfo.API\CityInfo.db'.
2024-10-03 12:24:11.953 +03:30 [DBG] A data reader for 'main' on server 'C:\Users\Ideapad 5\source\repos\Cityinfo.API\Cityinfo.API\CityInfo.db' is being disposed after spending 18ms reading results.
2024-10-03 12:24:11.963 +03:30 [DBG] Closing connection to database 'main' on server 'C:\Users\Ideapad 5\source\repos\Cityinfo.API\Cityinfo.API\CityInfo.db'.
2024-10-03 12:24:11.970 +03:30 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (6ms).
2024-10-03 12:24:12.329 +03:30 [DBG] 'CityInfoDbContext' generated a temporary value for the property 'User.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-03 12:24:12.394 +03:30 [DBG] Context 'CityInfoDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-03 12:24:12.403 +03:30 [DBG] SaveChanges starting for 'CityInfoDbContext'.
2024-10-03 12:24:12.410 +03:30 [DBG] DetectChanges starting for 'CityInfoDbContext'.
2024-10-03 12:24:12.425 +03:30 [DBG] DetectChanges completed for 'CityInfoDbContext'.
2024-10-03 12:24:12.499 +03:30 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-10-03 12:24:12.501 +03:30 [DBG] Opened connection to database 'main' on server 'C:\Users\Ideapad 5\source\repos\Cityinfo.API\Cityinfo.API\CityInfo.db'.
2024-10-03 12:24:12.506 +03:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-03 12:24:12.507 +03:30 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-10-03 12:24:12.513 +03:30 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2024-10-03 12:24:12.515 +03:30 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 3), @p1='?' (Size = 60), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Users" ("Name", "Password", "Role")
VALUES (@p0, @p1, @p2)
RETURNING "Id";
2024-10-03 12:24:12.520 +03:30 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (Size = 3), @p1='?' (Size = 60), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Users" ("Name", "Password", "Role")
VALUES (@p0, @p1, @p2)
RETURNING "Id";
2024-10-03 12:24:12.536 +03:30 [DBG] The foreign key property 'User.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-10-03 12:24:12.544 +03:30 [DBG] Closing data reader to 'main' on server 'C:\Users\Ideapad 5\source\repos\Cityinfo.API\Cityinfo.API\CityInfo.db'.
2024-10-03 12:24:12.546 +03:30 [DBG] A data reader for 'main' on server 'C:\Users\Ideapad 5\source\repos\Cityinfo.API\Cityinfo.API\CityInfo.db' is being disposed after spending 22ms reading results.
2024-10-03 12:24:12.548 +03:30 [DBG] Closing connection to database 'main' on server 'C:\Users\Ideapad 5\source\repos\Cityinfo.API\Cityinfo.API\CityInfo.db'.
2024-10-03 12:24:12.549 +03:30 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (1ms).
2024-10-03 12:24:12.564 +03:30 [DBG] An entity of type 'User' tracked by 'CityInfoDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-03 12:24:12.567 +03:30 [DBG] SaveChanges completed for 'CityInfoDbContext' with 1 entities written to the database.
2024-10-03 12:24:12.577 +03:30 [INF] Executed action method Cityinfo.API.Controllers.UsersController.Signup (Cityinfo.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 2336.3844ms.
2024-10-03 12:24:12.584 +03:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-10-03 12:24:12.592 +03:30 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2024-10-03 12:24:12.595 +03:30 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2024-10-03 12:24:12.597 +03:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-10-03 12:24:12.598 +03:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-10-03 12:24:12.599 +03:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-10-03 12:24:12.601 +03:30 [INF] Executing OkObjectResult, writing value of type 'Cityinfo.API.Models.UserResponse'.
2024-10-03 12:24:12.657 +03:30 [INF] Executed action Cityinfo.API.Controllers.UsersController.Signup (Cityinfo.API) in 3033.7481ms
2024-10-03 12:24:12.658 +03:30 [INF] Executed endpoint 'Cityinfo.API.Controllers.UsersController.Signup (Cityinfo.API)'
2024-10-03 12:24:12.662 +03:30 [DBG] 'CityInfoDbContext' disposed.
2024-10-03 12:24:12.669 +03:30 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2024-10-03 12:24:12.672 +03:30 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (2ms).
2024-10-03 12:24:12.675 +03:30 [INF] Request finished HTTP/2 POST https://localhost:7016/api/v1/users/signup - 200 30 application/json; charset=utf-8 3332.7892ms
2024-10-03 12:24:14.537 +03:30 [DBG] Connection id "0HN73H3L0C30S" received FIN.
2024-10-03 12:24:14.539 +03:30 [DBG] Connection id "0HN73H3L0C30S" is closed. The last processed stream ID was 1.
2024-10-03 12:24:14.539 +03:30 [DBG] The connection queue processing loop for 0HN73H3L0C30S completed.
2024-10-03 12:24:14.541 +03:30 [DBG] Connection id "0HN73H3L0C30S" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-03 12:24:14.551 +03:30 [DBG] Connection id "0HN73H3L0C30S" stopped.
2024-10-03 12:38:21.804 +03:30 [DBG] Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-10-03 12:38:21.891 +03:30 [DBG] Hosting starting
2024-10-03 12:38:21.929 +03:30 [INF] User profile is available. Using 'C:\Users\Ideapad 5\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-10-03 12:38:21.939 +03:30 [DBG] Reading data from file 'C:\Users\Ideapad 5\AppData\Local\ASP.NET\DataProtection-Keys\key-52a418f1-ba52-4a49-af2f-b85b42d29af6.xml'.
2024-10-03 12:38:21.955 +03:30 [DBG] Found key {52a418f1-ba52-4a49-af2f-b85b42d29af6}.
2024-10-03 12:38:21.967 +03:30 [DBG] Considering key {52a418f1-ba52-4a49-af2f-b85b42d29af6} with expiration date 2024-12-10 16:42:49Z as default key.
2024-10-03 12:38:21.971 +03:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-10-03 12:38:21.974 +03:30 [DBG] Decrypting secret element using Windows DPAPI.
2024-10-03 12:38:21.977 +03:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-10-03 12:38:21.983 +03:30 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-10-03 12:38:21.986 +03:30 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-10-03 12:38:21.988 +03:30 [DBG] Using key {52a418f1-ba52-4a49-af2f-b85b42d29af6} as the default key.
2024-10-03 12:38:21.990 +03:30 [DBG] Key ring with default key {52a418f1-ba52-4a49-af2f-b85b42d29af6} was loaded during application startup.
2024-10-03 12:38:22.285 +03:30 [INF] Now listening on: https://localhost:7016
2024-10-03 12:38:22.287 +03:30 [INF] Now listening on: http://localhost:5232
2024-10-03 12:38:22.288 +03:30 [DBG] Loaded hosting startup assembly Cityinfo.API
2024-10-03 12:38:22.291 +03:30 [INF] Application started. Press Ctrl+C to shut down.
2024-10-03 12:38:22.293 +03:30 [INF] Hosting environment: Development
2024-10-03 12:38:22.294 +03:30 [INF] Content root path: C:\Users\Ideapad 5\source\repos\Cityinfo.API\Cityinfo.API
2024-10-03 12:38:22.297 +03:30 [DBG] Hosting started
2024-10-03 12:38:22.357 +03:30 [DBG] Connection id "0HN73HBN5I4SK" accepted.
2024-10-03 12:38:22.361 +03:30 [DBG] Connection id "0HN73HBN5I4SK" started.
2024-10-03 12:38:22.446 +03:30 [DBG] Connection 0HN73HBN5I4SK established using the following protocol: "Tls13"
2024-10-03 12:38:22.568 +03:30 [INF] Request starting HTTP/2 GET https://localhost:7016/swagger/index.html - null null
2024-10-03 12:38:22.573 +03:30 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-10-03 12:38:22.831 +03:30 [INF] Request finished HTTP/2 GET https://localhost:7016/swagger/index.html - 200 null text/html;charset=utf-8 264.6223ms
2024-10-03 12:38:23.084 +03:30 [INF] Request starting HTTP/2 GET https://localhost:7016/swagger/1.0/swagger.json - null null
2024-10-03 12:38:23.227 +03:30 [WRN] An error occurred while trying to create a DataContractSerializer for the type 'Cityinfo.API.Models.ResponseError'.
System.Runtime.Serialization.InvalidDataContractException: Type 'Cityinfo.API.Models.ResponseError' cannot be serialized. Consider marking it with the DataContractAttribute attribute, and marking all of its members you want serialized with the DataMemberAttribute attribute. Alternatively, you can ensure that the type is public and has a parameterless constructor - all public members of the type will then be serialized, and no attributes will be required.
   at System.Runtime.Serialization.DataContracts.DataContract.DataContractCriticalHelper.ThrowInvalidDataContractException(String message, Type type)
   at System.Runtime.Serialization.DataContracts.DataContract.DataContractCriticalHelper.CreateDataContract(Type type)
   at System.Runtime.Serialization.DataContracts.DataContract.DataContractCriticalHelper.CreateDataContract(Int32 id, RuntimeTypeHandle typeHandle, Type type)
   at System.Runtime.Serialization.DataContracts.DataContract.DataContractCriticalHelper.GetDataContractSkipValidation(Int32 id, RuntimeTypeHandle typeHandle, Type type)
   at System.Runtime.Serialization.DataContracts.DataContract.GetDataContract(RuntimeTypeHandle typeHandle)
   at System.Runtime.Serialization.XsdDataContractExporter.GetRootElementName(Type type)
   at Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter.CreateSerializer(Type type)
2024-10-03 12:38:23.929 +03:30 [INF] Request finished HTTP/2 GET https://localhost:7016/swagger/1.0/swagger.json - 200 null application/json;charset=utf-8 845.2055ms
2024-10-03 12:38:25.974 +03:30 [DBG] Connection id "0HN73HBN5I4SK" received FIN.
2024-10-03 12:38:25.996 +03:30 [DBG] The connection queue processing loop for 0HN73HBN5I4SK completed.
2024-10-03 12:38:25.998 +03:30 [DBG] Connection id "0HN73HBN5I4SK" is closed. The last processed stream ID was 3.
2024-10-03 12:38:25.999 +03:30 [DBG] Connection id "0HN73HBN5I4SK" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-03 12:38:26.013 +03:30 [DBG] Connection id "0HN73HBN5I4SK" stopped.
2024-10-03 12:38:31.772 +03:30 [DBG] Connection id "0HN73HBN5I4SL" accepted.
2024-10-03 12:38:31.774 +03:30 [DBG] Connection id "0HN73HBN5I4SL" started.
2024-10-03 12:38:31.781 +03:30 [DBG] Connection 0HN73HBN5I4SL established using the following protocol: "Tls13"
2024-10-03 12:38:31.785 +03:30 [INF] Request starting HTTP/2 GET https://localhost:7016/swagger/index.html - null null
2024-10-03 12:38:31.790 +03:30 [INF] Request finished HTTP/2 GET https://localhost:7016/swagger/index.html - 200 null text/html;charset=utf-8 4.4626ms
2024-10-03 12:38:35.914 +03:30 [DBG] Connection id "0HN73HBN5I4SL" received FIN.
2024-10-03 12:38:35.916 +03:30 [DBG] Connection id "0HN73HBN5I4SL" is closed. The last processed stream ID was 1.
2024-10-03 12:38:35.917 +03:30 [DBG] The connection queue processing loop for 0HN73HBN5I4SL completed.
2024-10-03 12:38:35.918 +03:30 [DBG] Connection id "0HN73HBN5I4SL" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-03 12:38:35.927 +03:30 [DBG] Connection id "0HN73HBN5I4SL" stopped.
2024-10-03 12:38:38.116 +03:30 [DBG] Connection id "0HN73HBN5I4SM" accepted.
2024-10-03 12:38:38.117 +03:30 [DBG] Connection id "0HN73HBN5I4SM" started.
2024-10-03 12:38:38.121 +03:30 [DBG] Connection 0HN73HBN5I4SM established using the following protocol: "Tls13"
2024-10-03 12:38:38.124 +03:30 [INF] Request starting HTTP/2 GET https://localhost:7016/swagger/1.0/swagger.json - null null
2024-10-03 12:38:38.200 +03:30 [INF] Request finished HTTP/2 GET https://localhost:7016/swagger/1.0/swagger.json - 200 null application/json;charset=utf-8 75.5155ms
2024-10-03 12:38:45.881 +03:30 [DBG] Connection id "0HN73HBN5I4SM" received FIN.
2024-10-03 12:38:45.882 +03:30 [DBG] Connection id "0HN73HBN5I4SM" is closed. The last processed stream ID was 1.
2024-10-03 12:38:45.882 +03:30 [DBG] The connection queue processing loop for 0HN73HBN5I4SM completed.
2024-10-03 12:38:45.884 +03:30 [DBG] Connection id "0HN73HBN5I4SM" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-03 12:38:45.896 +03:30 [DBG] Connection id "0HN73HBN5I4SM" stopped.
2024-10-03 12:39:00.203 +03:30 [DBG] Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-10-03 12:39:00.280 +03:30 [DBG] Hosting starting
2024-10-03 12:39:00.315 +03:30 [INF] User profile is available. Using 'C:\Users\Ideapad 5\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-10-03 12:39:00.325 +03:30 [DBG] Reading data from file 'C:\Users\Ideapad 5\AppData\Local\ASP.NET\DataProtection-Keys\key-52a418f1-ba52-4a49-af2f-b85b42d29af6.xml'.
2024-10-03 12:39:00.345 +03:30 [DBG] Found key {52a418f1-ba52-4a49-af2f-b85b42d29af6}.
2024-10-03 12:39:00.358 +03:30 [DBG] Considering key {52a418f1-ba52-4a49-af2f-b85b42d29af6} with expiration date 2024-12-10 16:42:49Z as default key.
2024-10-03 12:39:00.362 +03:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-10-03 12:39:00.364 +03:30 [DBG] Decrypting secret element using Windows DPAPI.
2024-10-03 12:39:00.367 +03:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-10-03 12:39:00.372 +03:30 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-10-03 12:39:00.375 +03:30 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-10-03 12:39:00.378 +03:30 [DBG] Using key {52a418f1-ba52-4a49-af2f-b85b42d29af6} as the default key.
2024-10-03 12:39:00.380 +03:30 [DBG] Key ring with default key {52a418f1-ba52-4a49-af2f-b85b42d29af6} was loaded during application startup.
2024-10-03 12:39:00.646 +03:30 [INF] Now listening on: https://localhost:7016
2024-10-03 12:39:00.648 +03:30 [INF] Now listening on: http://localhost:5232
2024-10-03 12:39:00.649 +03:30 [DBG] Loaded hosting startup assembly Cityinfo.API
2024-10-03 12:39:00.651 +03:30 [INF] Application started. Press Ctrl+C to shut down.
2024-10-03 12:39:00.652 +03:30 [INF] Hosting environment: Development
2024-10-03 12:39:00.654 +03:30 [INF] Content root path: C:\Users\Ideapad 5\source\repos\Cityinfo.API\Cityinfo.API
2024-10-03 12:39:00.655 +03:30 [DBG] Hosting started
2024-10-03 12:39:00.681 +03:30 [DBG] Connection id "0HN73HC2J1CTB" received FIN.
2024-10-03 12:39:00.693 +03:30 [DBG] Connection id "0HN73HC2J1CTB" accepted.
2024-10-03 12:39:00.696 +03:30 [DBG] Connection id "0HN73HC2J1CTB" started.
2024-10-03 12:39:00.740 +03:30 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-10-03 12:39:00.840 +03:30 [DBG] Connection id "0HN73HC2J1CTB" stopped.
2024-10-03 12:39:00.846 +03:30 [DBG] Connection id "0HN73HC2J1CTB" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-03 12:39:01.285 +03:30 [DBG] Connection id "0HN73HC2J1CTC" accepted.
2024-10-03 12:39:01.294 +03:30 [DBG] Connection id "0HN73HC2J1CTC" started.
2024-10-03 12:39:01.495 +03:30 [DBG] Connection 0HN73HC2J1CTC established using the following protocol: "Tls13"
2024-10-03 12:39:01.623 +03:30 [INF] Request starting HTTP/2 GET https://localhost:7016/swagger/index.html - null null
2024-10-03 12:39:01.630 +03:30 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-10-03 12:39:01.976 +03:30 [INF] Request finished HTTP/2 GET https://localhost:7016/swagger/index.html - 200 null text/html;charset=utf-8 354.9582ms
2024-10-03 12:39:02.272 +03:30 [INF] Request starting HTTP/2 GET https://localhost:7016/swagger/1.0/swagger.json - null null
2024-10-03 12:39:02.414 +03:30 [WRN] An error occurred while trying to create a DataContractSerializer for the type 'Cityinfo.API.Models.ResponseError'.
System.Runtime.Serialization.InvalidDataContractException: Type 'Cityinfo.API.Models.ResponseError' cannot be serialized. Consider marking it with the DataContractAttribute attribute, and marking all of its members you want serialized with the DataMemberAttribute attribute. Alternatively, you can ensure that the type is public and has a parameterless constructor - all public members of the type will then be serialized, and no attributes will be required.
   at System.Runtime.Serialization.DataContracts.DataContract.DataContractCriticalHelper.ThrowInvalidDataContractException(String message, Type type)
   at System.Runtime.Serialization.DataContracts.DataContract.DataContractCriticalHelper.CreateDataContract(Type type)
   at System.Runtime.Serialization.DataContracts.DataContract.DataContractCriticalHelper.CreateDataContract(Int32 id, RuntimeTypeHandle typeHandle, Type type)
   at System.Runtime.Serialization.DataContracts.DataContract.DataContractCriticalHelper.GetDataContractSkipValidation(Int32 id, RuntimeTypeHandle typeHandle, Type type)
   at System.Runtime.Serialization.DataContracts.DataContract.GetDataContract(RuntimeTypeHandle typeHandle)
   at System.Runtime.Serialization.XsdDataContractExporter.GetRootElementName(Type type)
   at Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter.CreateSerializer(Type type)
2024-10-03 12:39:03.065 +03:30 [INF] Request finished HTTP/2 GET https://localhost:7016/swagger/1.0/swagger.json - 200 null application/json;charset=utf-8 793.5101ms
2024-10-03 12:39:04.285 +03:30 [DBG] Connection id "0HN73HC2J1CTC" received FIN.
2024-10-03 12:39:04.291 +03:30 [DBG] The connection queue processing loop for 0HN73HC2J1CTC completed.
2024-10-03 12:39:04.297 +03:30 [DBG] Connection id "0HN73HC2J1CTC" is closed. The last processed stream ID was 3.
2024-10-03 12:39:04.300 +03:30 [DBG] Connection id "0HN73HC2J1CTC" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-03 12:39:04.306 +03:30 [DBG] Connection id "0HN73HC2J1CTC" stopped.
2024-10-03 12:39:30.680 +03:30 [DBG] Connection id "0HN73HC2J1CTD" accepted.
2024-10-03 12:39:30.686 +03:30 [DBG] Connection id "0HN73HC2J1CTD" started.
2024-10-03 12:39:30.697 +03:30 [DBG] Connection 0HN73HC2J1CTD established using the following protocol: "Tls13"
2024-10-03 12:39:30.702 +03:30 [INF] Request starting HTTP/2 GET https://localhost:7016/swagger/index.html - null null
2024-10-03 12:39:30.708 +03:30 [INF] Request finished HTTP/2 GET https://localhost:7016/swagger/index.html - 200 null text/html;charset=utf-8 6.3523ms
2024-10-03 12:39:31.188 +03:30 [INF] Request starting HTTP/2 GET https://localhost:7016/swagger/1.0/swagger.json - null null
2024-10-03 12:39:31.258 +03:30 [INF] Request finished HTTP/2 GET https://localhost:7016/swagger/1.0/swagger.json - 200 null application/json;charset=utf-8 70.1233ms
2024-10-03 12:39:39.884 +03:30 [DBG] Connection id "0HN73HC2J1CTD" received FIN.
2024-10-03 12:39:39.886 +03:30 [DBG] Connection id "0HN73HC2J1CTD" is closed. The last processed stream ID was 3.
2024-10-03 12:39:39.886 +03:30 [DBG] The connection queue processing loop for 0HN73HC2J1CTD completed.
2024-10-03 12:39:39.888 +03:30 [DBG] Connection id "0HN73HC2J1CTD" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-03 12:39:39.899 +03:30 [DBG] Connection id "0HN73HC2J1CTD" stopped.
2024-10-03 12:39:55.343 +03:30 [DBG] Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-10-03 12:39:55.411 +03:30 [DBG] Hosting starting
2024-10-03 12:39:55.457 +03:30 [INF] User profile is available. Using 'C:\Users\Ideapad 5\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-10-03 12:39:55.471 +03:30 [DBG] Reading data from file 'C:\Users\Ideapad 5\AppData\Local\ASP.NET\DataProtection-Keys\key-52a418f1-ba52-4a49-af2f-b85b42d29af6.xml'.
2024-10-03 12:39:55.484 +03:30 [DBG] Found key {52a418f1-ba52-4a49-af2f-b85b42d29af6}.
2024-10-03 12:39:55.499 +03:30 [DBG] Considering key {52a418f1-ba52-4a49-af2f-b85b42d29af6} with expiration date 2024-12-10 16:42:49Z as default key.
2024-10-03 12:39:55.505 +03:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-10-03 12:39:55.508 +03:30 [DBG] Decrypting secret element using Windows DPAPI.
2024-10-03 12:39:55.512 +03:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-10-03 12:39:55.519 +03:30 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-10-03 12:39:55.523 +03:30 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-10-03 12:39:55.527 +03:30 [DBG] Using key {52a418f1-ba52-4a49-af2f-b85b42d29af6} as the default key.
2024-10-03 12:39:55.529 +03:30 [DBG] Key ring with default key {52a418f1-ba52-4a49-af2f-b85b42d29af6} was loaded during application startup.
2024-10-03 12:39:55.762 +03:30 [INF] Now listening on: https://localhost:7016
2024-10-03 12:39:55.778 +03:30 [INF] Now listening on: http://localhost:5232
2024-10-03 12:39:55.781 +03:30 [DBG] Loaded hosting startup assembly Cityinfo.API
2024-10-03 12:39:55.782 +03:30 [INF] Application started. Press Ctrl+C to shut down.
2024-10-03 12:39:55.785 +03:30 [INF] Hosting environment: Development
2024-10-03 12:39:55.787 +03:30 [INF] Content root path: C:\Users\Ideapad 5\source\repos\Cityinfo.API\Cityinfo.API
2024-10-03 12:39:55.788 +03:30 [DBG] Hosting started
2024-10-03 12:39:55.805 +03:30 [DBG] Connection id "0HN73HCJ0O5FO" accepted.
2024-10-03 12:39:55.809 +03:30 [DBG] Connection id "0HN73HCJ0O5FO" started.
2024-10-03 12:39:55.900 +03:30 [DBG] Connection 0HN73HCJ0O5FO established using the following protocol: "Tls13"
2024-10-03 12:39:55.992 +03:30 [DBG] Connection id "0HN73HCJ0O5FP" accepted.
2024-10-03 12:39:55.994 +03:30 [DBG] Connection id "0HN73HCJ0O5FP" started.
2024-10-03 12:39:55.996 +03:30 [INF] Request starting HTTP/2 GET https://localhost:7016/swagger/index.html - null null
2024-10-03 12:39:56.000 +03:30 [DBG] Connection 0HN73HCJ0O5FP established using the following protocol: "Tls13"
2024-10-03 12:39:56.004 +03:30 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-10-03 12:39:56.381 +03:30 [INF] Request finished HTTP/2 GET https://localhost:7016/swagger/index.html - 200 null text/html;charset=utf-8 386.5616ms
2024-10-03 12:39:56.575 +03:30 [INF] Request starting HTTP/2 GET https://localhost:7016/swagger/1.0/swagger.json - null null
2024-10-03 12:39:56.656 +03:30 [WRN] An error occurred while trying to create a DataContractSerializer for the type 'Cityinfo.API.Models.ResponseError'.
System.Runtime.Serialization.InvalidDataContractException: Type 'Cityinfo.API.Models.ResponseError' cannot be serialized. Consider marking it with the DataContractAttribute attribute, and marking all of its members you want serialized with the DataMemberAttribute attribute. Alternatively, you can ensure that the type is public and has a parameterless constructor - all public members of the type will then be serialized, and no attributes will be required.
   at System.Runtime.Serialization.DataContracts.DataContract.DataContractCriticalHelper.ThrowInvalidDataContractException(String message, Type type)
   at System.Runtime.Serialization.DataContracts.DataContract.DataContractCriticalHelper.CreateDataContract(Type type)
   at System.Runtime.Serialization.DataContracts.DataContract.DataContractCriticalHelper.CreateDataContract(Int32 id, RuntimeTypeHandle typeHandle, Type type)
   at System.Runtime.Serialization.DataContracts.DataContract.DataContractCriticalHelper.GetDataContractSkipValidation(Int32 id, RuntimeTypeHandle typeHandle, Type type)
   at System.Runtime.Serialization.DataContracts.DataContract.GetDataContract(RuntimeTypeHandle typeHandle)
   at System.Runtime.Serialization.XsdDataContractExporter.GetRootElementName(Type type)
   at Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter.CreateSerializer(Type type)
2024-10-03 12:39:57.441 +03:30 [INF] Request finished HTTP/2 GET https://localhost:7016/swagger/1.0/swagger.json - 200 null application/json;charset=utf-8 865.5233ms
2024-10-03 12:39:59.898 +03:30 [DBG] Connection id "0HN73HCJ0O5FP" received FIN.
2024-10-03 12:39:59.898 +03:30 [DBG] Connection id "0HN73HCJ0O5FO" received FIN.
2024-10-03 12:39:59.906 +03:30 [DBG] The connection queue processing loop for 0HN73HCJ0O5FP completed.
2024-10-03 12:39:59.906 +03:30 [DBG] The connection queue processing loop for 0HN73HCJ0O5FO completed.
2024-10-03 12:39:59.910 +03:30 [DBG] Connection id "0HN73HCJ0O5FP" is closed. The last processed stream ID was 0.
2024-10-03 12:39:59.910 +03:30 [DBG] Connection id "0HN73HCJ0O5FO" is closed. The last processed stream ID was 3.
2024-10-03 12:39:59.912 +03:30 [DBG] Connection id "0HN73HCJ0O5FP" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-03 12:39:59.913 +03:30 [DBG] Connection id "0HN73HCJ0O5FO" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-03 12:39:59.935 +03:30 [DBG] Connection id "0HN73HCJ0O5FP" stopped.
2024-10-03 12:39:59.935 +03:30 [DBG] Connection id "0HN73HCJ0O5FO" stopped.
2024-10-03 12:40:27.386 +03:30 [DBG] Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-10-03 12:40:27.463 +03:30 [DBG] Hosting starting
2024-10-03 12:40:27.512 +03:30 [INF] User profile is available. Using 'C:\Users\Ideapad 5\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-10-03 12:40:27.527 +03:30 [DBG] Reading data from file 'C:\Users\Ideapad 5\AppData\Local\ASP.NET\DataProtection-Keys\key-52a418f1-ba52-4a49-af2f-b85b42d29af6.xml'.
2024-10-03 12:40:27.540 +03:30 [DBG] Found key {52a418f1-ba52-4a49-af2f-b85b42d29af6}.
2024-10-03 12:40:27.555 +03:30 [DBG] Considering key {52a418f1-ba52-4a49-af2f-b85b42d29af6} with expiration date 2024-12-10 16:42:49Z as default key.
2024-10-03 12:40:27.560 +03:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-10-03 12:40:27.565 +03:30 [DBG] Decrypting secret element using Windows DPAPI.
2024-10-03 12:40:27.569 +03:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-10-03 12:40:27.575 +03:30 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-10-03 12:40:27.578 +03:30 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-10-03 12:40:27.583 +03:30 [DBG] Using key {52a418f1-ba52-4a49-af2f-b85b42d29af6} as the default key.
2024-10-03 12:40:27.586 +03:30 [DBG] Key ring with default key {52a418f1-ba52-4a49-af2f-b85b42d29af6} was loaded during application startup.
2024-10-03 12:40:28.028 +03:30 [INF] Now listening on: https://localhost:7016
2024-10-03 12:40:28.043 +03:30 [INF] Now listening on: http://localhost:5232
2024-10-03 12:40:28.053 +03:30 [DBG] Loaded hosting startup assembly Cityinfo.API
2024-10-03 12:40:28.055 +03:30 [INF] Application started. Press Ctrl+C to shut down.
2024-10-03 12:40:28.057 +03:30 [INF] Hosting environment: Development
2024-10-03 12:40:28.058 +03:30 [INF] Content root path: C:\Users\Ideapad 5\source\repos\Cityinfo.API\Cityinfo.API
2024-10-03 12:40:28.060 +03:30 [DBG] Hosting started
2024-10-03 12:40:28.154 +03:30 [DBG] Connection id "0HN73HCSL87C4" accepted.
2024-10-03 12:40:28.157 +03:30 [DBG] Connection id "0HN73HCSL87C4" started.
2024-10-03 12:40:28.200 +03:30 [DBG] Connection id "0HN73HCSL87C5" accepted.
2024-10-03 12:40:28.202 +03:30 [DBG] Connection id "0HN73HCSL87C5" started.
2024-10-03 12:40:28.234 +03:30 [DBG] Connection id "0HN73HCSL87C5" received FIN.
2024-10-03 12:40:28.268 +03:30 [DBG] Connection 0HN73HCSL87C5 established using the following protocol: "Tls13"
2024-10-03 12:40:28.268 +03:30 [DBG] Connection 0HN73HCSL87C4 established using the following protocol: "Tls13"
2024-10-03 12:40:28.312 +03:30 [DBG] Connection id "0HN73HCSL87C5" is closed. The last processed stream ID was 0.
2024-10-03 12:40:28.315 +03:30 [DBG] Connection id "0HN73HCSL87C5" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-03 12:40:28.322 +03:30 [DBG] The connection queue processing loop for 0HN73HCSL87C5 completed.
2024-10-03 12:40:28.335 +03:30 [DBG] Connection id "0HN73HCSL87C5" stopped.
2024-10-03 12:40:28.380 +03:30 [INF] Request starting HTTP/2 GET https://localhost:7016/swagger/index.html - null null
2024-10-03 12:40:28.389 +03:30 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-10-03 12:40:28.732 +03:30 [INF] Request finished HTTP/2 GET https://localhost:7016/swagger/index.html - 200 null text/html;charset=utf-8 354.6469ms
2024-10-03 12:40:28.911 +03:30 [INF] Request starting HTTP/2 GET https://localhost:7016/swagger/1.0/swagger.json - null null
2024-10-03 12:40:28.990 +03:30 [WRN] An error occurred while trying to create a DataContractSerializer for the type 'Cityinfo.API.Models.ResponseError'.
System.Runtime.Serialization.InvalidDataContractException: Type 'Cityinfo.API.Models.ResponseError' cannot be serialized. Consider marking it with the DataContractAttribute attribute, and marking all of its members you want serialized with the DataMemberAttribute attribute. Alternatively, you can ensure that the type is public and has a parameterless constructor - all public members of the type will then be serialized, and no attributes will be required.
   at System.Runtime.Serialization.DataContracts.DataContract.DataContractCriticalHelper.ThrowInvalidDataContractException(String message, Type type)
   at System.Runtime.Serialization.DataContracts.DataContract.DataContractCriticalHelper.CreateDataContract(Type type)
   at System.Runtime.Serialization.DataContracts.DataContract.DataContractCriticalHelper.CreateDataContract(Int32 id, RuntimeTypeHandle typeHandle, Type type)
   at System.Runtime.Serialization.DataContracts.DataContract.DataContractCriticalHelper.GetDataContractSkipValidation(Int32 id, RuntimeTypeHandle typeHandle, Type type)
   at System.Runtime.Serialization.DataContracts.DataContract.GetDataContract(RuntimeTypeHandle typeHandle)
   at System.Runtime.Serialization.XsdDataContractExporter.GetRootElementName(Type type)
   at Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter.CreateSerializer(Type type)
2024-10-03 12:40:29.774 +03:30 [INF] Request finished HTTP/2 GET https://localhost:7016/swagger/1.0/swagger.json - 200 null application/json;charset=utf-8 862.3189ms
2024-10-03 12:40:29.945 +03:30 [DBG] Connection id "0HN73HCSL87C4" received FIN.
2024-10-03 12:40:29.947 +03:30 [DBG] Connection id "0HN73HCSL87C4" is closed. The last processed stream ID was 3.
2024-10-03 12:40:29.947 +03:30 [DBG] The connection queue processing loop for 0HN73HCSL87C4 completed.
2024-10-03 12:40:29.949 +03:30 [DBG] Connection id "0HN73HCSL87C4" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-03 12:40:29.961 +03:30 [DBG] Connection id "0HN73HCSL87C4" stopped.
2024-10-03 12:40:58.026 +03:30 [DBG] Connection id "0HN73HCSL87C6" accepted.
2024-10-03 12:40:58.035 +03:30 [DBG] Connection id "0HN73HCSL87C6" started.
2024-10-03 12:40:58.042 +03:30 [DBG] Connection 0HN73HCSL87C6 established using the following protocol: "Tls13"
2024-10-03 12:40:58.047 +03:30 [INF] Request starting HTTP/2 POST https://localhost:7016/api/v1/users/signup - application/json-patch+json 56
2024-10-03 12:40:58.054 +03:30 [DBG] POST requests are not supported
2024-10-03 12:40:58.130 +03:30 [DBG] 1 candidate(s) found for the request path '/api/v1/users/signup'
2024-10-03 12:40:58.137 +03:30 [DBG] Endpoint 'Cityinfo.API.Controllers.UsersController.Signup (Cityinfo.API)' with route pattern 'api/v{version:apiVersion}/users/signup' is valid for the request path '/api/v1/users/signup'
2024-10-03 12:40:58.142 +03:30 [DBG] Request matched endpoint 'Cityinfo.API.Controllers.UsersController.Signup (Cityinfo.API)'
2024-10-03 12:40:58.237 +03:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-10-03 12:40:58.241 +03:30 [INF] Executing endpoint 'Cityinfo.API.Controllers.UsersController.Signup (Cityinfo.API)'
2024-10-03 12:40:58.276 +03:30 [INF] Route matched with {action = "Signup", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Signup(Cityinfo.API.Models.RegisterRequest) on controller Cityinfo.API.Controllers.UsersController (Cityinfo.API).
2024-10-03 12:40:58.280 +03:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-03 12:40:58.281 +03:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-03 12:40:58.285 +03:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2024-10-03 12:40:58.287 +03:30 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-03 12:40:58.289 +03:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2024-10-03 12:40:58.294 +03:30 [DBG] Executing controller factory for controller Cityinfo.API.Controllers.UsersController (Cityinfo.API)
2024-10-03 12:40:58.493 +03:30 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-10-03 12:40:58.656 +03:30 [DBG] Executed controller factory for controller Cityinfo.API.Controllers.UsersController (Cityinfo.API)
2024-10-03 12:40:58.663 +03:30 [DBG] Attempting to bind parameter 'registerRequest' of type 'Cityinfo.API.Models.RegisterRequest' ...
2024-10-03 12:40:58.667 +03:30 [DBG] Attempting to bind parameter 'registerRequest' of type 'Cityinfo.API.Models.RegisterRequest' using the name '' in request data ...
2024-10-03 12:40:58.671 +03:30 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2024-10-03 12:40:58.673 +03:30 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2024-10-03 12:40:58.694 +03:30 [DBG] Connection id "0HN73HCSL87C6", Request id "0HN73HCSL87C6:00000001": started reading request body.
2024-10-03 12:40:58.696 +03:30 [DBG] Connection id "0HN73HCSL87C6", Request id "0HN73HCSL87C6:00000001": done reading request body.
2024-10-03 12:40:58.806 +03:30 [DBG] Done attempting to bind parameter 'registerRequest' of type 'Cityinfo.API.Models.RegisterRequest'.
2024-10-03 12:40:58.808 +03:30 [DBG] Done attempting to bind parameter 'registerRequest' of type 'Cityinfo.API.Models.RegisterRequest'.
2024-10-03 12:40:58.809 +03:30 [DBG] Attempting to validate the bound parameter 'registerRequest' of type 'Cityinfo.API.Models.RegisterRequest' ...
2024-10-03 12:40:58.820 +03:30 [DBG] Done attempting to validate the bound parameter 'registerRequest' of type 'Cityinfo.API.Models.RegisterRequest'.
2024-10-03 12:40:58.832 +03:30 [INF] Executing action method Cityinfo.API.Controllers.UsersController.Signup (Cityinfo.API) - Validation state: "Valid"
2024-10-03 12:40:59.875 +03:30 [DBG] Entity Framework Core 8.0.8 initialized 'CityInfoDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.8' with options: None
2024-10-03 12:40:59.925 +03:30 [DBG] Compiling query expression: 
'DbSet<User>()
    .Any(u => u.Name == __name_0)'
2024-10-03 12:41:00.148 +03:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Users AS u
                WHERE u.Name == @__name_0)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        Cityinfo.API.DbContexts.CityInfoDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-10-03 12:41:00.201 +03:30 [DBG] Creating DbConnection.
2024-10-03 12:41:00.220 +03:30 [DBG] Created DbConnection. (17ms).
2024-10-03 12:41:00.227 +03:30 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-10-03 12:41:00.256 +03:30 [DBG] Opened connection to database 'main' on server 'C:\Users\Ideapad 5\source\repos\Cityinfo.API\Cityinfo.API\CityInfo.db'.
2024-10-03 12:41:00.269 +03:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-03 12:41:00.278 +03:30 [DBG] Created DbCommand for 'ExecuteReader' (9ms).
2024-10-03 12:41:00.286 +03:30 [DBG] Initialized DbCommand for 'ExecuteReader' (18ms).
2024-10-03 12:41:00.298 +03:30 [DBG] Executing DbCommand [Parameters=[@__name_0='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Users" AS "u"
    WHERE "u"."Name" = @__name_0)
2024-10-03 12:41:00.334 +03:30 [INF] Executed DbCommand (38ms) [Parameters=[@__name_0='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Users" AS "u"
    WHERE "u"."Name" = @__name_0)
2024-10-03 12:41:00.351 +03:30 [DBG] Closing data reader to 'main' on server 'C:\Users\Ideapad 5\source\repos\Cityinfo.API\Cityinfo.API\CityInfo.db'.
2024-10-03 12:41:00.360 +03:30 [DBG] A data reader for 'main' on server 'C:\Users\Ideapad 5\source\repos\Cityinfo.API\Cityinfo.API\CityInfo.db' is being disposed after spending 15ms reading results.
2024-10-03 12:41:00.368 +03:30 [DBG] Closing connection to database 'main' on server 'C:\Users\Ideapad 5\source\repos\Cityinfo.API\Cityinfo.API\CityInfo.db'.
2024-10-03 12:41:00.373 +03:30 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (5ms).
2024-10-03 12:41:00.705 +03:30 [DBG] 'CityInfoDbContext' generated a temporary value for the property 'User.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-03 12:41:00.751 +03:30 [DBG] Context 'CityInfoDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-03 12:41:00.758 +03:30 [DBG] SaveChanges starting for 'CityInfoDbContext'.
2024-10-03 12:41:00.764 +03:30 [DBG] DetectChanges starting for 'CityInfoDbContext'.
2024-10-03 12:41:00.780 +03:30 [DBG] DetectChanges completed for 'CityInfoDbContext'.
2024-10-03 12:41:00.849 +03:30 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-10-03 12:41:00.851 +03:30 [DBG] Opened connection to database 'main' on server 'C:\Users\Ideapad 5\source\repos\Cityinfo.API\Cityinfo.API\CityInfo.db'.
2024-10-03 12:41:00.856 +03:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-03 12:41:00.857 +03:30 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-10-03 12:41:00.862 +03:30 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2024-10-03 12:41:00.864 +03:30 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 10), @p1='?' (Size = 60), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Users" ("Name", "Password", "Role")
VALUES (@p0, @p1, @p2)
RETURNING "Id";
2024-10-03 12:41:00.868 +03:30 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (Size = 10), @p1='?' (Size = 60), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Users" ("Name", "Password", "Role")
VALUES (@p0, @p1, @p2)
RETURNING "Id";
2024-10-03 12:41:00.883 +03:30 [DBG] The foreign key property 'User.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-10-03 12:41:00.893 +03:30 [DBG] Closing data reader to 'main' on server 'C:\Users\Ideapad 5\source\repos\Cityinfo.API\Cityinfo.API\CityInfo.db'.
2024-10-03 12:41:00.895 +03:30 [DBG] A data reader for 'main' on server 'C:\Users\Ideapad 5\source\repos\Cityinfo.API\Cityinfo.API\CityInfo.db' is being disposed after spending 24ms reading results.
2024-10-03 12:41:00.897 +03:30 [DBG] Closing connection to database 'main' on server 'C:\Users\Ideapad 5\source\repos\Cityinfo.API\Cityinfo.API\CityInfo.db'.
2024-10-03 12:41:00.899 +03:30 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (1ms).
2024-10-03 12:41:00.915 +03:30 [DBG] An entity of type 'User' tracked by 'CityInfoDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-03 12:41:00.919 +03:30 [DBG] SaveChanges completed for 'CityInfoDbContext' with 1 entities written to the database.
2024-10-03 12:41:00.969 +03:30 [INF] Executed action method Cityinfo.API.Controllers.UsersController.Signup (Cityinfo.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 2131.8027ms.
2024-10-03 12:41:00.976 +03:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-10-03 12:41:00.982 +03:30 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2024-10-03 12:41:00.984 +03:30 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2024-10-03 12:41:00.986 +03:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-10-03 12:41:00.987 +03:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-10-03 12:41:00.989 +03:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-10-03 12:41:00.991 +03:30 [INF] Executing OkObjectResult, writing value of type 'Cityinfo.API.Models.UserResponse'.
2024-10-03 12:41:01.046 +03:30 [INF] Executed action Cityinfo.API.Controllers.UsersController.Signup (Cityinfo.API) in 2751.1584ms
2024-10-03 12:41:01.048 +03:30 [INF] Executed endpoint 'Cityinfo.API.Controllers.UsersController.Signup (Cityinfo.API)'
2024-10-03 12:41:01.052 +03:30 [DBG] 'CityInfoDbContext' disposed.
2024-10-03 12:41:01.057 +03:30 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2024-10-03 12:41:01.060 +03:30 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (2ms).
2024-10-03 12:41:01.062 +03:30 [INF] Request finished HTTP/2 POST https://localhost:7016/api/v1/users/signup - 200 37 application/json; charset=utf-8 3015.1581ms
2024-10-03 12:41:10.023 +03:30 [DBG] Connection id "0HN73HCSL87C6" received FIN.
2024-10-03 12:41:10.025 +03:30 [DBG] Connection id "0HN73HCSL87C6" is closed. The last processed stream ID was 1.
2024-10-03 12:41:10.025 +03:30 [DBG] The connection queue processing loop for 0HN73HCSL87C6 completed.
2024-10-03 12:41:10.026 +03:30 [DBG] Connection id "0HN73HCSL87C6" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-03 12:41:10.037 +03:30 [DBG] Connection id "0HN73HCSL87C6" stopped.
2024-10-03 12:56:36.964 +03:30 [DBG] Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-10-03 12:56:37.066 +03:30 [DBG] Hosting starting
2024-10-03 12:56:37.102 +03:30 [INF] User profile is available. Using 'C:\Users\Ideapad 5\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-10-03 12:56:37.113 +03:30 [DBG] Reading data from file 'C:\Users\Ideapad 5\AppData\Local\ASP.NET\DataProtection-Keys\key-52a418f1-ba52-4a49-af2f-b85b42d29af6.xml'.
2024-10-03 12:56:37.133 +03:30 [DBG] Found key {52a418f1-ba52-4a49-af2f-b85b42d29af6}.
2024-10-03 12:56:37.149 +03:30 [DBG] Considering key {52a418f1-ba52-4a49-af2f-b85b42d29af6} with expiration date 2024-12-10 16:42:49Z as default key.
2024-10-03 12:56:37.154 +03:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-10-03 12:56:37.158 +03:30 [DBG] Decrypting secret element using Windows DPAPI.
2024-10-03 12:56:37.160 +03:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-10-03 12:56:37.169 +03:30 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-10-03 12:56:37.171 +03:30 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-10-03 12:56:37.175 +03:30 [DBG] Using key {52a418f1-ba52-4a49-af2f-b85b42d29af6} as the default key.
2024-10-03 12:56:37.177 +03:30 [DBG] Key ring with default key {52a418f1-ba52-4a49-af2f-b85b42d29af6} was loaded during application startup.
2024-10-03 12:56:37.527 +03:30 [INF] Now listening on: https://localhost:7016
2024-10-03 12:56:37.529 +03:30 [INF] Now listening on: http://localhost:5232
2024-10-03 12:56:37.533 +03:30 [DBG] Loaded hosting startup assembly Cityinfo.API
2024-10-03 12:56:37.535 +03:30 [INF] Application started. Press Ctrl+C to shut down.
2024-10-03 12:56:37.537 +03:30 [INF] Hosting environment: Development
2024-10-03 12:56:37.540 +03:30 [INF] Content root path: C:\Users\Ideapad 5\source\repos\Cityinfo.API\Cityinfo.API
2024-10-03 12:56:37.542 +03:30 [DBG] Hosting started
2024-10-03 12:56:38.447 +03:30 [DBG] Connection id "0HN73HLTQLKBA" accepted.
2024-10-03 12:56:38.453 +03:30 [DBG] Connection id "0HN73HLTQLKBA" started.
2024-10-03 12:56:38.836 +03:30 [DBG] Connection 0HN73HLTQLKBA established using the following protocol: "Tls13"
2024-10-03 12:56:39.006 +03:30 [INF] Request starting HTTP/2 GET https://localhost:7016/swagger/index.html - null null
2024-10-03 12:56:39.013 +03:30 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-10-03 12:56:39.542 +03:30 [INF] Request finished HTTP/2 GET https://localhost:7016/swagger/index.html - 200 null text/html;charset=utf-8 537.949ms
2024-10-03 12:56:39.818 +03:30 [INF] Request starting HTTP/2 GET https://localhost:7016/swagger/1.0/swagger.json - null null
2024-10-03 12:56:39.926 +03:30 [WRN] An error occurred while trying to create a DataContractSerializer for the type 'Cityinfo.API.Models.ResponseError'.
System.Runtime.Serialization.InvalidDataContractException: Type 'Cityinfo.API.Models.ResponseError' cannot be serialized. Consider marking it with the DataContractAttribute attribute, and marking all of its members you want serialized with the DataMemberAttribute attribute. Alternatively, you can ensure that the type is public and has a parameterless constructor - all public members of the type will then be serialized, and no attributes will be required.
   at System.Runtime.Serialization.DataContracts.DataContract.DataContractCriticalHelper.ThrowInvalidDataContractException(String message, Type type)
   at System.Runtime.Serialization.DataContracts.DataContract.DataContractCriticalHelper.CreateDataContract(Type type)
   at System.Runtime.Serialization.DataContracts.DataContract.DataContractCriticalHelper.CreateDataContract(Int32 id, RuntimeTypeHandle typeHandle, Type type)
   at System.Runtime.Serialization.DataContracts.DataContract.DataContractCriticalHelper.GetDataContractSkipValidation(Int32 id, RuntimeTypeHandle typeHandle, Type type)
   at System.Runtime.Serialization.DataContracts.DataContract.GetDataContract(RuntimeTypeHandle typeHandle)
   at System.Runtime.Serialization.XsdDataContractExporter.GetRootElementName(Type type)
   at Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter.CreateSerializer(Type type)
2024-10-03 12:56:40.278 +03:30 [INF] Request finished HTTP/2 GET https://localhost:7016/swagger/1.0/swagger.json - 200 null application/json;charset=utf-8 459.6511ms
2024-10-03 12:56:42.181 +03:30 [DBG] Connection id "0HN73HLTQLKBA" received FIN.
2024-10-03 12:56:42.187 +03:30 [DBG] The connection queue processing loop for 0HN73HLTQLKBA completed.
2024-10-03 12:56:42.191 +03:30 [DBG] Connection id "0HN73HLTQLKBA" is closed. The last processed stream ID was 3.
2024-10-03 12:56:42.194 +03:30 [DBG] Connection id "0HN73HLTQLKBA" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-03 12:56:42.216 +03:30 [DBG] Connection id "0HN73HLTQLKBA" stopped.
2024-10-03 12:56:46.307 +03:30 [DBG] Connection id "0HN73HLTQLKBB" accepted.
2024-10-03 12:56:46.308 +03:30 [DBG] Connection id "0HN73HLTQLKBB" started.
2024-10-03 12:56:46.316 +03:30 [DBG] Connection 0HN73HLTQLKBB established using the following protocol: "Tls13"
2024-10-03 12:56:46.320 +03:30 [INF] Request starting HTTP/2 POST https://localhost:7016/api/v1/users/login - application/json-patch+json 52
2024-10-03 12:56:46.327 +03:30 [DBG] POST requests are not supported
2024-10-03 12:56:46.431 +03:30 [DBG] 1 candidate(s) found for the request path '/api/v1/users/login'
2024-10-03 12:56:46.438 +03:30 [DBG] Endpoint 'Cityinfo.API.Controllers.UsersController.Login (Cityinfo.API)' with route pattern 'api/v{version:apiVersion}/users/login' is valid for the request path '/api/v1/users/login'
2024-10-03 12:56:46.446 +03:30 [DBG] Request matched endpoint 'Cityinfo.API.Controllers.UsersController.Login (Cityinfo.API)'
2024-10-03 12:56:46.735 +03:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-10-03 12:56:46.742 +03:30 [INF] Executing endpoint 'Cityinfo.API.Controllers.UsersController.Login (Cityinfo.API)'
2024-10-03 12:56:46.802 +03:30 [INF] Route matched with {action = "Login", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Cityinfo.API.Models.RegisterRequest) on controller Cityinfo.API.Controllers.UsersController (Cityinfo.API).
2024-10-03 12:56:46.806 +03:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-03 12:56:46.808 +03:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-03 12:56:46.811 +03:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2024-10-03 12:56:46.815 +03:30 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-03 12:56:46.817 +03:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2024-10-03 12:56:46.822 +03:30 [DBG] Executing controller factory for controller Cityinfo.API.Controllers.UsersController (Cityinfo.API)
2024-10-03 12:56:47.141 +03:30 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-10-03 12:56:47.414 +03:30 [DBG] Executed controller factory for controller Cityinfo.API.Controllers.UsersController (Cityinfo.API)
2024-10-03 12:56:47.425 +03:30 [DBG] Attempting to bind parameter 'registerRequest' of type 'Cityinfo.API.Models.RegisterRequest' ...
2024-10-03 12:56:47.432 +03:30 [DBG] Attempting to bind parameter 'registerRequest' of type 'Cityinfo.API.Models.RegisterRequest' using the name '' in request data ...
2024-10-03 12:56:47.437 +03:30 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2024-10-03 12:56:47.440 +03:30 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2024-10-03 12:57:07.884 +03:30 [DBG] Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-10-03 12:57:07.961 +03:30 [DBG] Hosting starting
2024-10-03 12:57:08.007 +03:30 [INF] User profile is available. Using 'C:\Users\Ideapad 5\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-10-03 12:57:08.017 +03:30 [DBG] Reading data from file 'C:\Users\Ideapad 5\AppData\Local\ASP.NET\DataProtection-Keys\key-52a418f1-ba52-4a49-af2f-b85b42d29af6.xml'.
2024-10-03 12:57:08.029 +03:30 [DBG] Found key {52a418f1-ba52-4a49-af2f-b85b42d29af6}.
2024-10-03 12:57:08.045 +03:30 [DBG] Considering key {52a418f1-ba52-4a49-af2f-b85b42d29af6} with expiration date 2024-12-10 16:42:49Z as default key.
2024-10-03 12:57:08.051 +03:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-10-03 12:57:08.054 +03:30 [DBG] Decrypting secret element using Windows DPAPI.
2024-10-03 12:57:08.057 +03:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-10-03 12:57:08.065 +03:30 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-10-03 12:57:08.069 +03:30 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-10-03 12:57:08.072 +03:30 [DBG] Using key {52a418f1-ba52-4a49-af2f-b85b42d29af6} as the default key.
2024-10-03 12:57:08.074 +03:30 [DBG] Key ring with default key {52a418f1-ba52-4a49-af2f-b85b42d29af6} was loaded during application startup.
2024-10-03 12:57:08.274 +03:30 [INF] Now listening on: https://localhost:7016
2024-10-03 12:57:08.275 +03:30 [INF] Now listening on: http://localhost:5232
2024-10-03 12:57:08.276 +03:30 [DBG] Loaded hosting startup assembly Cityinfo.API
2024-10-03 12:57:08.277 +03:30 [INF] Application started. Press Ctrl+C to shut down.
2024-10-03 12:57:08.279 +03:30 [INF] Hosting environment: Development
2024-10-03 12:57:08.280 +03:30 [INF] Content root path: C:\Users\Ideapad 5\source\repos\Cityinfo.API\Cityinfo.API
2024-10-03 12:57:08.280 +03:30 [DBG] Hosting started
2024-10-03 12:57:08.671 +03:30 [DBG] Connection id "0HN73HM6QTR7L" received FIN.
2024-10-03 12:57:08.679 +03:30 [DBG] Connection id "0HN73HM6QTR7L" accepted.
2024-10-03 12:57:08.682 +03:30 [DBG] Connection id "0HN73HM6QTR7L" started.
2024-10-03 12:57:08.705 +03:30 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-10-03 12:57:08.767 +03:30 [DBG] Connection id "0HN73HM6QTR7L" stopped.
2024-10-03 12:57:08.772 +03:30 [DBG] Connection id "0HN73HM6QTR7L" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-03 12:57:09.002 +03:30 [DBG] Connection id "0HN73HM6QTR7M" accepted.
2024-10-03 12:57:09.004 +03:30 [DBG] Connection id "0HN73HM6QTR7M" started.
2024-10-03 12:57:09.123 +03:30 [DBG] Connection 0HN73HM6QTR7M established using the following protocol: "Tls13"
2024-10-03 12:57:09.235 +03:30 [INF] Request starting HTTP/2 GET https://localhost:7016/swagger/index.html - null null
2024-10-03 12:57:09.239 +03:30 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-10-03 12:57:09.523 +03:30 [INF] Request finished HTTP/2 GET https://localhost:7016/swagger/index.html - 200 null text/html;charset=utf-8 289.6795ms
2024-10-03 12:57:09.679 +03:30 [INF] Request starting HTTP/2 GET https://localhost:7016/swagger/1.0/swagger.json - null null
2024-10-03 12:57:09.748 +03:30 [WRN] An error occurred while trying to create a DataContractSerializer for the type 'Cityinfo.API.Models.ResponseError'.
System.Runtime.Serialization.InvalidDataContractException: Type 'Cityinfo.API.Models.ResponseError' cannot be serialized. Consider marking it with the DataContractAttribute attribute, and marking all of its members you want serialized with the DataMemberAttribute attribute. Alternatively, you can ensure that the type is public and has a parameterless constructor - all public members of the type will then be serialized, and no attributes will be required.
   at System.Runtime.Serialization.DataContracts.DataContract.DataContractCriticalHelper.ThrowInvalidDataContractException(String message, Type type)
   at System.Runtime.Serialization.DataContracts.DataContract.DataContractCriticalHelper.CreateDataContract(Type type)
   at System.Runtime.Serialization.DataContracts.DataContract.DataContractCriticalHelper.CreateDataContract(Int32 id, RuntimeTypeHandle typeHandle, Type type)
   at System.Runtime.Serialization.DataContracts.DataContract.DataContractCriticalHelper.GetDataContractSkipValidation(Int32 id, RuntimeTypeHandle typeHandle, Type type)
   at System.Runtime.Serialization.DataContracts.DataContract.GetDataContract(RuntimeTypeHandle typeHandle)
   at System.Runtime.Serialization.XsdDataContractExporter.GetRootElementName(Type type)
   at Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter.CreateSerializer(Type type)
2024-10-03 12:57:10.028 +03:30 [INF] Request finished HTTP/2 GET https://localhost:7016/swagger/1.0/swagger.json - 200 null application/json;charset=utf-8 348.6999ms
2024-10-03 12:57:12.212 +03:30 [DBG] Connection id "0HN73HM6QTR7M" received FIN.
2024-10-03 12:57:12.217 +03:30 [DBG] The connection queue processing loop for 0HN73HM6QTR7M completed.
2024-10-03 12:57:12.220 +03:30 [DBG] Connection id "0HN73HM6QTR7M" is closed. The last processed stream ID was 3.
2024-10-03 12:57:12.222 +03:30 [DBG] Connection id "0HN73HM6QTR7M" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-03 12:57:12.227 +03:30 [DBG] Connection id "0HN73HM6QTR7M" stopped.
2024-10-03 12:57:14.401 +03:30 [DBG] Connection id "0HN73HM6QTR7N" accepted.
2024-10-03 12:57:14.403 +03:30 [DBG] Connection id "0HN73HM6QTR7N" started.
2024-10-03 12:57:14.411 +03:30 [DBG] Connection 0HN73HM6QTR7N established using the following protocol: "Tls13"
2024-10-03 12:57:14.416 +03:30 [INF] Request starting HTTP/2 POST https://localhost:7016/api/v1/users/login - application/json-patch+json 52
2024-10-03 12:57:14.423 +03:30 [DBG] POST requests are not supported
2024-10-03 12:57:14.569 +03:30 [DBG] 1 candidate(s) found for the request path '/api/v1/users/login'
2024-10-03 12:57:14.578 +03:30 [DBG] Endpoint 'Cityinfo.API.Controllers.UsersController.Login (Cityinfo.API)' with route pattern 'api/v{version:apiVersion}/users/login' is valid for the request path '/api/v1/users/login'
2024-10-03 12:57:14.586 +03:30 [DBG] Request matched endpoint 'Cityinfo.API.Controllers.UsersController.Login (Cityinfo.API)'
2024-10-03 12:57:14.695 +03:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-10-03 12:57:14.701 +03:30 [INF] Executing endpoint 'Cityinfo.API.Controllers.UsersController.Login (Cityinfo.API)'
2024-10-03 12:57:14.738 +03:30 [INF] Route matched with {action = "Login", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Cityinfo.API.Models.RegisterRequest) on controller Cityinfo.API.Controllers.UsersController (Cityinfo.API).
2024-10-03 12:57:14.743 +03:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-03 12:57:14.745 +03:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-03 12:57:14.748 +03:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2024-10-03 12:57:14.750 +03:30 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-03 12:57:14.752 +03:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2024-10-03 12:57:14.755 +03:30 [DBG] Executing controller factory for controller Cityinfo.API.Controllers.UsersController (Cityinfo.API)
2024-10-03 12:57:14.959 +03:30 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-10-03 12:57:15.162 +03:30 [DBG] Executed controller factory for controller Cityinfo.API.Controllers.UsersController (Cityinfo.API)
2024-10-03 12:57:15.168 +03:30 [DBG] Attempting to bind parameter 'registerRequest' of type 'Cityinfo.API.Models.RegisterRequest' ...
2024-10-03 12:57:15.173 +03:30 [DBG] Attempting to bind parameter 'registerRequest' of type 'Cityinfo.API.Models.RegisterRequest' using the name '' in request data ...
2024-10-03 12:57:15.176 +03:30 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2024-10-03 12:57:15.178 +03:30 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2024-10-03 12:57:15.202 +03:30 [DBG] Connection id "0HN73HM6QTR7N", Request id "0HN73HM6QTR7N:00000001": started reading request body.
2024-10-03 12:57:15.204 +03:30 [DBG] Connection id "0HN73HM6QTR7N", Request id "0HN73HM6QTR7N:00000001": done reading request body.
2024-10-03 12:57:15.314 +03:30 [DBG] Done attempting to bind parameter 'registerRequest' of type 'Cityinfo.API.Models.RegisterRequest'.
2024-10-03 12:57:15.316 +03:30 [DBG] Done attempting to bind parameter 'registerRequest' of type 'Cityinfo.API.Models.RegisterRequest'.
2024-10-03 12:57:15.318 +03:30 [DBG] Attempting to validate the bound parameter 'registerRequest' of type 'Cityinfo.API.Models.RegisterRequest' ...
2024-10-03 12:57:15.326 +03:30 [DBG] Done attempting to validate the bound parameter 'registerRequest' of type 'Cityinfo.API.Models.RegisterRequest'.
2024-10-03 12:57:15.342 +03:30 [INF] Executing action method Cityinfo.API.Controllers.UsersController.Login (Cityinfo.API) - Validation state: "Valid"
2024-10-03 12:57:16.547 +03:30 [DBG] Entity Framework Core 8.0.8 initialized 'CityInfoDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.8' with options: None
2024-10-03 12:57:16.614 +03:30 [DBG] Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(u => u.Name == __name_0)'
2024-10-03 12:57:16.915 +03:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.Name (string) Required MaxLength(50), 1], [Property: User.Password (string) Required, 2], [Property: User.Role (Role) Required, 3] }
            SELECT TOP(1) u.Id, u.Name, u.Password, u.Role
            FROM Users AS u
            WHERE u.Name == @__name_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        Cityinfo.API.DbContexts.CityInfoDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-10-03 12:57:16.991 +03:30 [DBG] Creating DbConnection.
2024-10-03 12:57:17.019 +03:30 [DBG] Created DbConnection. (25ms).
2024-10-03 12:57:17.026 +03:30 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-10-03 12:57:17.067 +03:30 [DBG] Opened connection to database 'main' on server 'C:\Users\Ideapad 5\source\repos\Cityinfo.API\Cityinfo.API\CityInfo.db'.
2024-10-03 12:57:17.078 +03:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-03 12:57:17.086 +03:30 [DBG] Created DbCommand for 'ExecuteReader' (8ms).
2024-10-03 12:57:17.094 +03:30 [DBG] Initialized DbCommand for 'ExecuteReader' (16ms).
2024-10-03 12:57:17.108 +03:30 [DBG] Executing DbCommand [Parameters=[@__name_0='?' (Size = 6)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."Name", "u"."Password", "u"."Role"
FROM "Users" AS "u"
WHERE "u"."Name" = @__name_0
LIMIT 1
2024-10-03 12:57:17.142 +03:30 [INF] Executed DbCommand (39ms) [Parameters=[@__name_0='?' (Size = 6)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."Name", "u"."Password", "u"."Role"
FROM "Users" AS "u"
WHERE "u"."Name" = @__name_0
LIMIT 1
2024-10-03 12:57:17.157 +03:30 [DBG] Closing data reader to 'main' on server 'C:\Users\Ideapad 5\source\repos\Cityinfo.API\Cityinfo.API\CityInfo.db'.
2024-10-03 12:57:17.167 +03:30 [DBG] A data reader for 'main' on server 'C:\Users\Ideapad 5\source\repos\Cityinfo.API\Cityinfo.API\CityInfo.db' is being disposed after spending 11ms reading results.
2024-10-03 12:57:17.174 +03:30 [DBG] Closing connection to database 'main' on server 'C:\Users\Ideapad 5\source\repos\Cityinfo.API\Cityinfo.API\CityInfo.db'.
2024-10-03 12:57:17.181 +03:30 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (6ms).
2024-10-03 12:57:17.188 +03:30 [INF] Executed action method Cityinfo.API.Controllers.UsersController.Login (Cityinfo.API), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 1840.3356ms.
2024-10-03 12:57:17.194 +03:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-10-03 12:57:17.200 +03:30 [DBG] No information found on request to perform content negotiation.
2024-10-03 12:57:17.201 +03:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-10-03 12:57:17.202 +03:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-10-03 12:57:17.204 +03:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-10-03 12:57:17.207 +03:30 [INF] Executing BadRequestObjectResult, writing value of type 'Cityinfo.API.Models.ResponseError'.
2024-10-03 12:57:17.268 +03:30 [INF] Executed action Cityinfo.API.Controllers.UsersController.Login (Cityinfo.API) in 2510.2587ms
2024-10-03 12:57:17.271 +03:30 [INF] Executed endpoint 'Cityinfo.API.Controllers.UsersController.Login (Cityinfo.API)'
2024-10-03 12:57:17.275 +03:30 [DBG] 'CityInfoDbContext' disposed.
2024-10-03 12:57:17.283 +03:30 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2024-10-03 12:57:17.286 +03:30 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (3ms).
2024-10-03 12:57:17.288 +03:30 [INF] Request finished HTTP/2 POST https://localhost:7016/api/v1/users/login - 400 61 application/json; charset=utf-8 2871.7257ms
2024-10-03 12:57:22.229 +03:30 [DBG] Connection id "0HN73HM6QTR7N" received FIN.
2024-10-03 12:57:22.231 +03:30 [DBG] Connection id "0HN73HM6QTR7N" is closed. The last processed stream ID was 1.
2024-10-03 12:57:22.231 +03:30 [DBG] The connection queue processing loop for 0HN73HM6QTR7N completed.
2024-10-03 12:57:22.234 +03:30 [DBG] Connection id "0HN73HM6QTR7N" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-03 12:57:22.248 +03:30 [DBG] Connection id "0HN73HM6QTR7N" stopped.
2024-10-03 12:57:56.694 +03:30 [DBG] Connection id "0HN73HM6QTR7O" accepted.
2024-10-03 12:57:56.702 +03:30 [DBG] Connection id "0HN73HM6QTR7O" started.
2024-10-03 12:57:56.708 +03:30 [DBG] Connection 0HN73HM6QTR7O established using the following protocol: "Tls13"
2024-10-03 12:57:56.715 +03:30 [INF] Request starting HTTP/2 POST https://localhost:7016/api/v1/users/login - application/json-patch+json 53
2024-10-03 12:57:56.722 +03:30 [DBG] POST requests are not supported
2024-10-03 12:57:56.725 +03:30 [DBG] 1 candidate(s) found for the request path '/api/v1/users/login'
2024-10-03 12:57:56.726 +03:30 [DBG] Endpoint 'Cityinfo.API.Controllers.UsersController.Login (Cityinfo.API)' with route pattern 'api/v{version:apiVersion}/users/login' is valid for the request path '/api/v1/users/login'
2024-10-03 12:57:56.728 +03:30 [DBG] Request matched endpoint 'Cityinfo.API.Controllers.UsersController.Login (Cityinfo.API)'
2024-10-03 12:57:56.730 +03:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-10-03 12:57:56.731 +03:30 [INF] Executing endpoint 'Cityinfo.API.Controllers.UsersController.Login (Cityinfo.API)'
2024-10-03 12:57:56.734 +03:30 [INF] Route matched with {action = "Login", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Cityinfo.API.Models.RegisterRequest) on controller Cityinfo.API.Controllers.UsersController (Cityinfo.API).
2024-10-03 12:57:56.735 +03:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-03 12:57:56.738 +03:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-03 12:57:56.739 +03:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2024-10-03 12:57:56.741 +03:30 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-03 12:57:56.742 +03:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2024-10-03 12:57:56.745 +03:30 [DBG] Executing controller factory for controller Cityinfo.API.Controllers.UsersController (Cityinfo.API)
2024-10-03 12:57:56.747 +03:30 [DBG] Executed controller factory for controller Cityinfo.API.Controllers.UsersController (Cityinfo.API)
2024-10-03 12:57:56.749 +03:30 [DBG] Attempting to bind parameter 'registerRequest' of type 'Cityinfo.API.Models.RegisterRequest' ...
2024-10-03 12:57:56.751 +03:30 [DBG] Attempting to bind parameter 'registerRequest' of type 'Cityinfo.API.Models.RegisterRequest' using the name '' in request data ...
2024-10-03 12:57:56.752 +03:30 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2024-10-03 12:57:56.754 +03:30 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2024-10-03 12:57:56.755 +03:30 [DBG] Connection id "0HN73HM6QTR7O", Request id "0HN73HM6QTR7O:00000001": started reading request body.
2024-10-03 12:57:56.756 +03:30 [DBG] Connection id "0HN73HM6QTR7O", Request id "0HN73HM6QTR7O:00000001": done reading request body.
2024-10-03 12:57:56.757 +03:30 [DBG] Done attempting to bind parameter 'registerRequest' of type 'Cityinfo.API.Models.RegisterRequest'.
2024-10-03 12:57:56.758 +03:30 [DBG] Done attempting to bind parameter 'registerRequest' of type 'Cityinfo.API.Models.RegisterRequest'.
2024-10-03 12:57:56.759 +03:30 [DBG] Attempting to validate the bound parameter 'registerRequest' of type 'Cityinfo.API.Models.RegisterRequest' ...
2024-10-03 12:57:56.761 +03:30 [DBG] Done attempting to validate the bound parameter 'registerRequest' of type 'Cityinfo.API.Models.RegisterRequest'.
2024-10-03 12:57:56.762 +03:30 [INF] Executing action method Cityinfo.API.Controllers.UsersController.Login (Cityinfo.API) - Validation state: "Valid"
2024-10-03 12:57:56.787 +03:30 [DBG] Entity Framework Core 8.0.8 initialized 'CityInfoDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.8' with options: None
2024-10-03 12:57:56.794 +03:30 [DBG] Creating DbConnection.
2024-10-03 12:57:56.795 +03:30 [DBG] Created DbConnection. (1ms).
2024-10-03 12:57:56.797 +03:30 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-10-03 12:57:56.798 +03:30 [DBG] Opened connection to database 'main' on server 'C:\Users\Ideapad 5\source\repos\Cityinfo.API\Cityinfo.API\CityInfo.db'.
2024-10-03 12:57:56.801 +03:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-03 12:57:56.803 +03:30 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-10-03 12:57:56.804 +03:30 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-10-03 12:57:56.806 +03:30 [DBG] Executing DbCommand [Parameters=[@__name_0='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."Name", "u"."Password", "u"."Role"
FROM "Users" AS "u"
WHERE "u"."Name" = @__name_0
LIMIT 1
2024-10-03 12:57:56.809 +03:30 [INF] Executed DbCommand (3ms) [Parameters=[@__name_0='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."Name", "u"."Password", "u"."Role"
FROM "Users" AS "u"
WHERE "u"."Name" = @__name_0
LIMIT 1
2024-10-03 12:57:56.841 +03:30 [DBG] Context 'CityInfoDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-03 12:57:56.878 +03:30 [DBG] Closing data reader to 'main' on server 'C:\Users\Ideapad 5\source\repos\Cityinfo.API\Cityinfo.API\CityInfo.db'.
2024-10-03 12:57:56.881 +03:30 [DBG] A data reader for 'main' on server 'C:\Users\Ideapad 5\source\repos\Cityinfo.API\Cityinfo.API\CityInfo.db' is being disposed after spending 67ms reading results.
2024-10-03 12:57:56.883 +03:30 [DBG] Closing connection to database 'main' on server 'C:\Users\Ideapad 5\source\repos\Cityinfo.API\Cityinfo.API\CityInfo.db'.
2024-10-03 12:57:56.885 +03:30 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (2ms).
2024-10-03 12:57:57.211 +03:30 [INF] Executed action method Cityinfo.API.Controllers.UsersController.Login (Cityinfo.API), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 447.1462ms.
2024-10-03 12:57:57.214 +03:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-10-03 12:57:57.218 +03:30 [DBG] No information found on request to perform content negotiation.
2024-10-03 12:57:57.220 +03:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-10-03 12:57:57.222 +03:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-10-03 12:57:57.223 +03:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-10-03 12:57:57.225 +03:30 [INF] Executing BadRequestObjectResult, writing value of type 'Cityinfo.API.Models.ResponseError'.
2024-10-03 12:57:57.227 +03:30 [INF] Executed action Cityinfo.API.Controllers.UsersController.Login (Cityinfo.API) in 482.1397ms
2024-10-03 12:57:57.229 +03:30 [INF] Executed endpoint 'Cityinfo.API.Controllers.UsersController.Login (Cityinfo.API)'
2024-10-03 12:57:57.231 +03:30 [DBG] 'CityInfoDbContext' disposed.
2024-10-03 12:57:57.233 +03:30 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2024-10-03 12:57:57.235 +03:30 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (2ms).
2024-10-03 12:57:57.237 +03:30 [INF] Request finished HTTP/2 POST https://localhost:7016/api/v1/users/login - 400 61 application/json; charset=utf-8 522.4204ms
2024-10-03 12:57:57.270 +03:30 [DBG] Connection id "0HN73HM6QTR7O" received FIN.
2024-10-03 12:57:57.271 +03:30 [DBG] Connection id "0HN73HM6QTR7O" is closed. The last processed stream ID was 1.
2024-10-03 12:57:57.272 +03:30 [DBG] The connection queue processing loop for 0HN73HM6QTR7O completed.
2024-10-03 12:57:57.273 +03:30 [DBG] Connection id "0HN73HM6QTR7O" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-03 12:57:57.280 +03:30 [DBG] Connection id "0HN73HM6QTR7O" stopped.
2024-10-03 12:58:04.039 +03:30 [DBG] Connection id "0HN73HM6QTR7P" accepted.
2024-10-03 12:58:04.040 +03:30 [DBG] Connection id "0HN73HM6QTR7P" started.
2024-10-03 12:58:04.046 +03:30 [DBG] Connection 0HN73HM6QTR7P established using the following protocol: "Tls13"
2024-10-03 12:58:04.049 +03:30 [INF] Request starting HTTP/2 POST https://localhost:7016/api/v1/users/login - application/json-patch+json 53
2024-10-03 12:58:04.052 +03:30 [DBG] POST requests are not supported
2024-10-03 12:58:04.053 +03:30 [DBG] 1 candidate(s) found for the request path '/api/v1/users/login'
2024-10-03 12:58:04.055 +03:30 [DBG] Endpoint 'Cityinfo.API.Controllers.UsersController.Login (Cityinfo.API)' with route pattern 'api/v{version:apiVersion}/users/login' is valid for the request path '/api/v1/users/login'
2024-10-03 12:58:04.056 +03:30 [DBG] Request matched endpoint 'Cityinfo.API.Controllers.UsersController.Login (Cityinfo.API)'
2024-10-03 12:58:04.058 +03:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-10-03 12:58:04.059 +03:30 [INF] Executing endpoint 'Cityinfo.API.Controllers.UsersController.Login (Cityinfo.API)'
2024-10-03 12:58:04.061 +03:30 [INF] Route matched with {action = "Login", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Cityinfo.API.Models.RegisterRequest) on controller Cityinfo.API.Controllers.UsersController (Cityinfo.API).
2024-10-03 12:58:04.063 +03:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-03 12:58:04.065 +03:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-03 12:58:04.068 +03:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2024-10-03 12:58:04.070 +03:30 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-03 12:58:04.072 +03:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2024-10-03 12:58:04.074 +03:30 [DBG] Executing controller factory for controller Cityinfo.API.Controllers.UsersController (Cityinfo.API)
2024-10-03 12:58:04.077 +03:30 [DBG] Executed controller factory for controller Cityinfo.API.Controllers.UsersController (Cityinfo.API)
2024-10-03 12:58:04.078 +03:30 [DBG] Attempting to bind parameter 'registerRequest' of type 'Cityinfo.API.Models.RegisterRequest' ...
2024-10-03 12:58:04.080 +03:30 [DBG] Attempting to bind parameter 'registerRequest' of type 'Cityinfo.API.Models.RegisterRequest' using the name '' in request data ...
2024-10-03 12:58:04.083 +03:30 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2024-10-03 12:58:04.084 +03:30 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2024-10-03 12:58:04.085 +03:30 [DBG] Connection id "0HN73HM6QTR7P", Request id "0HN73HM6QTR7P:00000001": started reading request body.
2024-10-03 12:58:04.086 +03:30 [DBG] Connection id "0HN73HM6QTR7P", Request id "0HN73HM6QTR7P:00000001": done reading request body.
2024-10-03 12:58:04.088 +03:30 [DBG] Done attempting to bind parameter 'registerRequest' of type 'Cityinfo.API.Models.RegisterRequest'.
2024-10-03 12:58:04.090 +03:30 [DBG] Done attempting to bind parameter 'registerRequest' of type 'Cityinfo.API.Models.RegisterRequest'.
2024-10-03 12:58:04.092 +03:30 [DBG] Attempting to validate the bound parameter 'registerRequest' of type 'Cityinfo.API.Models.RegisterRequest' ...
2024-10-03 12:58:04.094 +03:30 [DBG] Done attempting to validate the bound parameter 'registerRequest' of type 'Cityinfo.API.Models.RegisterRequest'.
2024-10-03 12:58:04.096 +03:30 [INF] Executing action method Cityinfo.API.Controllers.UsersController.Login (Cityinfo.API) - Validation state: "Valid"
2024-10-03 12:58:04.120 +03:30 [DBG] Entity Framework Core 8.0.8 initialized 'CityInfoDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.8' with options: None
2024-10-03 12:58:04.124 +03:30 [DBG] Creating DbConnection.
2024-10-03 12:58:04.125 +03:30 [DBG] Created DbConnection. (0ms).
2024-10-03 12:58:04.126 +03:30 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-10-03 12:58:04.127 +03:30 [DBG] Opened connection to database 'main' on server 'C:\Users\Ideapad 5\source\repos\Cityinfo.API\Cityinfo.API\CityInfo.db'.
2024-10-03 12:58:04.128 +03:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-03 12:58:04.129 +03:30 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-10-03 12:58:04.130 +03:30 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-10-03 12:58:04.132 +03:30 [DBG] Executing DbCommand [Parameters=[@__name_0='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."Name", "u"."Password", "u"."Role"
FROM "Users" AS "u"
WHERE "u"."Name" = @__name_0
LIMIT 1
2024-10-03 12:58:04.134 +03:30 [INF] Executed DbCommand (2ms) [Parameters=[@__name_0='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."Name", "u"."Password", "u"."Role"
FROM "Users" AS "u"
WHERE "u"."Name" = @__name_0
LIMIT 1
2024-10-03 12:58:04.136 +03:30 [DBG] Context 'CityInfoDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-03 12:58:04.137 +03:30 [DBG] Closing data reader to 'main' on server 'C:\Users\Ideapad 5\source\repos\Cityinfo.API\Cityinfo.API\CityInfo.db'.
2024-10-03 12:58:04.138 +03:30 [DBG] A data reader for 'main' on server 'C:\Users\Ideapad 5\source\repos\Cityinfo.API\Cityinfo.API\CityInfo.db' is being disposed after spending 2ms reading results.
2024-10-03 12:58:04.139 +03:30 [DBG] Closing connection to database 'main' on server 'C:\Users\Ideapad 5\source\repos\Cityinfo.API\Cityinfo.API\CityInfo.db'.
2024-10-03 12:58:04.140 +03:30 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (0ms).
2024-10-03 12:58:04.461 +03:30 [INF] Executed action method Cityinfo.API.Controllers.UsersController.Login (Cityinfo.API), returned result Microsoft.AspNetCore.Mvc.NoContentResult in 362.273ms.
2024-10-03 12:58:04.466 +03:30 [INF] Executing StatusCodeResult, setting HTTP status code 204
2024-10-03 12:58:04.467 +03:30 [INF] Executed action Cityinfo.API.Controllers.UsersController.Login (Cityinfo.API) in 392.2075ms
2024-10-03 12:58:04.468 +03:30 [INF] Executed endpoint 'Cityinfo.API.Controllers.UsersController.Login (Cityinfo.API)'
2024-10-03 12:58:04.469 +03:30 [DBG] 'CityInfoDbContext' disposed.
2024-10-03 12:58:04.471 +03:30 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2024-10-03 12:58:04.473 +03:30 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (1ms).
2024-10-03 12:58:04.475 +03:30 [INF] Request finished HTTP/2 POST https://localhost:7016/api/v1/users/login - 204 null null 425.7806ms
2024-10-03 12:58:07.283 +03:30 [DBG] Connection id "0HN73HM6QTR7P" received FIN.
2024-10-03 12:58:07.284 +03:30 [DBG] Connection id "0HN73HM6QTR7P" is closed. The last processed stream ID was 1.
2024-10-03 12:58:07.284 +03:30 [DBG] The connection queue processing loop for 0HN73HM6QTR7P completed.
2024-10-03 12:58:07.286 +03:30 [DBG] Connection id "0HN73HM6QTR7P" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-03 12:58:07.300 +03:30 [DBG] Connection id "0HN73HM6QTR7P" stopped.
2024-10-03 13:00:52.521 +03:30 [DBG] Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-10-03 13:00:52.652 +03:30 [DBG] Hosting starting
2024-10-03 13:00:52.682 +03:30 [INF] User profile is available. Using 'C:\Users\Ideapad 5\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-10-03 13:00:52.698 +03:30 [DBG] Reading data from file 'C:\Users\Ideapad 5\AppData\Local\ASP.NET\DataProtection-Keys\key-52a418f1-ba52-4a49-af2f-b85b42d29af6.xml'.
2024-10-03 13:00:52.724 +03:30 [DBG] Found key {52a418f1-ba52-4a49-af2f-b85b42d29af6}.
2024-10-03 13:00:52.740 +03:30 [DBG] Considering key {52a418f1-ba52-4a49-af2f-b85b42d29af6} with expiration date 2024-12-10 16:42:49Z as default key.
2024-10-03 13:00:52.743 +03:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-10-03 13:00:52.746 +03:30 [DBG] Decrypting secret element using Windows DPAPI.
2024-10-03 13:00:52.748 +03:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-10-03 13:00:52.755 +03:30 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-10-03 13:00:52.757 +03:30 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-10-03 13:00:52.760 +03:30 [DBG] Using key {52a418f1-ba52-4a49-af2f-b85b42d29af6} as the default key.
2024-10-03 13:00:52.764 +03:30 [DBG] Key ring with default key {52a418f1-ba52-4a49-af2f-b85b42d29af6} was loaded during application startup.
2024-10-03 13:00:52.968 +03:30 [INF] Now listening on: https://localhost:7016
2024-10-03 13:00:52.969 +03:30 [INF] Now listening on: http://localhost:5232
2024-10-03 13:00:52.971 +03:30 [DBG] Loaded hosting startup assembly Cityinfo.API
2024-10-03 13:00:52.973 +03:30 [INF] Application started. Press Ctrl+C to shut down.
2024-10-03 13:00:52.975 +03:30 [INF] Hosting environment: Development
2024-10-03 13:00:52.977 +03:30 [INF] Content root path: C:\Users\Ideapad 5\source\repos\Cityinfo.API\Cityinfo.API
2024-10-03 13:00:52.979 +03:30 [DBG] Hosting started
2024-10-03 13:00:53.020 +03:30 [DBG] Connection id "0HN73HO9MFOLB" received FIN.
2024-10-03 13:00:53.031 +03:30 [DBG] Connection id "0HN73HO9MFOLB" accepted.
2024-10-03 13:00:53.035 +03:30 [DBG] Connection id "0HN73HO9MFOLB" started.
2024-10-03 13:00:53.061 +03:30 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-10-03 13:00:53.108 +03:30 [DBG] Connection id "0HN73HO9MFOLB" stopped.
2024-10-03 13:00:53.112 +03:30 [DBG] Connection id "0HN73HO9MFOLB" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-03 13:00:53.408 +03:30 [DBG] Connection id "0HN73HO9MFOLC" accepted.
2024-10-03 13:00:53.409 +03:30 [DBG] Connection id "0HN73HO9MFOLC" started.
2024-10-03 13:00:53.453 +03:30 [DBG] Connection 0HN73HO9MFOLC established using the following protocol: "Tls13"
2024-10-03 13:00:53.536 +03:30 [INF] Request starting HTTP/2 GET https://localhost:7016/swagger/index.html - null null
2024-10-03 13:00:53.550 +03:30 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-10-03 13:00:53.793 +03:30 [INF] Request finished HTTP/2 GET https://localhost:7016/swagger/index.html - 200 null text/html;charset=utf-8 259.2284ms
2024-10-03 13:00:53.978 +03:30 [INF] Request starting HTTP/2 GET https://localhost:7016/swagger/1.0/swagger.json - null null
2024-10-03 13:00:54.047 +03:30 [WRN] An error occurred while trying to create a DataContractSerializer for the type 'Cityinfo.API.Models.ResponseError'.
System.Runtime.Serialization.InvalidDataContractException: Type 'Cityinfo.API.Models.ResponseError' cannot be serialized. Consider marking it with the DataContractAttribute attribute, and marking all of its members you want serialized with the DataMemberAttribute attribute. Alternatively, you can ensure that the type is public and has a parameterless constructor - all public members of the type will then be serialized, and no attributes will be required.
   at System.Runtime.Serialization.DataContracts.DataContract.DataContractCriticalHelper.ThrowInvalidDataContractException(String message, Type type)
   at System.Runtime.Serialization.DataContracts.DataContract.DataContractCriticalHelper.CreateDataContract(Type type)
   at System.Runtime.Serialization.DataContracts.DataContract.DataContractCriticalHelper.CreateDataContract(Int32 id, RuntimeTypeHandle typeHandle, Type type)
   at System.Runtime.Serialization.DataContracts.DataContract.DataContractCriticalHelper.GetDataContractSkipValidation(Int32 id, RuntimeTypeHandle typeHandle, Type type)
   at System.Runtime.Serialization.DataContracts.DataContract.GetDataContract(RuntimeTypeHandle typeHandle)
   at System.Runtime.Serialization.XsdDataContractExporter.GetRootElementName(Type type)
   at Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter.CreateSerializer(Type type)
2024-10-03 13:00:54.253 +03:30 [INF] Request finished HTTP/2 GET https://localhost:7016/swagger/1.0/swagger.json - 200 null application/json;charset=utf-8 275.2724ms
2024-10-03 13:00:57.571 +03:30 [DBG] Connection id "0HN73HO9MFOLC" received FIN.
2024-10-03 13:00:57.575 +03:30 [DBG] The connection queue processing loop for 0HN73HO9MFOLC completed.
2024-10-03 13:00:57.577 +03:30 [DBG] Connection id "0HN73HO9MFOLC" is closed. The last processed stream ID was 3.
2024-10-03 13:00:57.579 +03:30 [DBG] Connection id "0HN73HO9MFOLC" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-03 13:00:57.580 +03:30 [DBG] Connection id "0HN73HO9MFOLC" stopped.
2024-10-03 13:01:17.563 +03:30 [INF] Application is shutting down...
2024-10-03 13:01:17.566 +03:30 [DBG] Hosting stopping
2024-10-03 13:01:17.583 +03:30 [DBG] Hosting stopped
