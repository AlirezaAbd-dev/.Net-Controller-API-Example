2024-10-04 11:33:48.255 +03:30 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-10-04 11:33:48.730 +03:30 [DBG] Entity Framework Core 8.0.8 initialized 'CityInfoDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.8' with options: None
2024-10-04 11:33:49.262 +03:30 [DBG] 'CityInfoDbContext' disposed.
2024-10-04 11:36:14.953 +03:30 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-10-04 11:36:15.361 +03:30 [DBG] Entity Framework Core 8.0.8 initialized 'CityInfoDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.8' with options: None
2024-10-04 11:36:15.377 +03:30 [DBG] Creating DbConnection.
2024-10-04 11:36:15.390 +03:30 [DBG] Created DbConnection. (11ms).
2024-10-04 11:36:15.395 +03:30 [DBG] Migrating using database 'main' on server 'CityInfo.db'.
2024-10-04 11:36:15.401 +03:30 [DBG] Creating DbConnection.
2024-10-04 11:36:15.403 +03:30 [DBG] Created DbConnection. (2ms).
2024-10-04 11:36:15.406 +03:30 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-10-04 11:36:15.423 +03:30 [DBG] Opened connection to database 'main' on server 'C:\Users\Ideapad 5\source\repos\Cityinfo.API\Cityinfo.API\CityInfo.db'.
2024-10-04 11:36:15.432 +03:30 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2024-10-04 11:36:15.437 +03:30 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (1ms).
2024-10-04 11:36:15.444 +03:30 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-10-04 11:36:15.451 +03:30 [DBG] Created DbCommand for 'ExecuteScalar' (6ms).
2024-10-04 11:36:15.456 +03:30 [DBG] Initialized DbCommand for 'ExecuteScalar' (12ms).
2024-10-04 11:36:15.458 +03:30 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-10-04 11:36:15.461 +03:30 [DBG] Opened connection to database 'main' on server 'C:\Users\Ideapad 5\source\repos\Cityinfo.API\Cityinfo.API\CityInfo.db'.
2024-10-04 11:36:15.467 +03:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2024-10-04 11:36:15.490 +03:30 [INF] Executed DbCommand (23ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2024-10-04 11:36:15.493 +03:30 [DBG] Closing connection to database 'main' on server 'C:\Users\Ideapad 5\source\repos\Cityinfo.API\Cityinfo.API\CityInfo.db'.
2024-10-04 11:36:15.497 +03:30 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (3ms).
2024-10-04 11:36:15.500 +03:30 [DBG] Creating DbConnection.
2024-10-04 11:36:15.501 +03:30 [DBG] Created DbConnection. (0ms).
2024-10-04 11:36:15.502 +03:30 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-10-04 11:36:15.506 +03:30 [DBG] Opened connection to database 'main' on server 'C:\Users\Ideapad 5\source\repos\Cityinfo.API\Cityinfo.API\CityInfo.db'.
2024-10-04 11:36:15.508 +03:30 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2024-10-04 11:36:15.510 +03:30 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (1ms).
2024-10-04 11:36:15.511 +03:30 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-10-04 11:36:15.512 +03:30 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-10-04 11:36:15.513 +03:30 [DBG] Initialized DbCommand for 'ExecuteScalar' (2ms).
2024-10-04 11:36:15.514 +03:30 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-10-04 11:36:15.515 +03:30 [DBG] Opened connection to database 'main' on server 'C:\Users\Ideapad 5\source\repos\Cityinfo.API\Cityinfo.API\CityInfo.db'.
2024-10-04 11:36:15.517 +03:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2024-10-04 11:36:15.519 +03:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2024-10-04 11:36:15.522 +03:30 [DBG] Closing connection to database 'main' on server 'C:\Users\Ideapad 5\source\repos\Cityinfo.API\Cityinfo.API\CityInfo.db'.
2024-10-04 11:36:15.524 +03:30 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (1ms).
2024-10-04 11:36:15.537 +03:30 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-10-04 11:36:15.539 +03:30 [DBG] Opened connection to database 'main' on server 'C:\Users\Ideapad 5\source\repos\Cityinfo.API\Cityinfo.API\CityInfo.db'.
2024-10-04 11:36:15.541 +03:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-04 11:36:15.542 +03:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-10-04 11:36:15.543 +03:30 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-10-04 11:36:15.544 +03:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-10-04 11:36:15.548 +03:30 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-10-04 11:36:15.553 +03:30 [DBG] Closing data reader to 'main' on server 'C:\Users\Ideapad 5\source\repos\Cityinfo.API\Cityinfo.API\CityInfo.db'.
2024-10-04 11:36:15.555 +03:30 [DBG] A data reader for 'main' on server 'C:\Users\Ideapad 5\source\repos\Cityinfo.API\Cityinfo.API\CityInfo.db' is being disposed after spending 3ms reading results.
2024-10-04 11:36:15.557 +03:30 [DBG] Closing connection to database 'main' on server 'C:\Users\Ideapad 5\source\repos\Cityinfo.API\Cityinfo.API\CityInfo.db'.
2024-10-04 11:36:15.560 +03:30 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (3ms).
2024-10-04 11:36:15.573 +03:30 [INF] Applying migration '20241004080349_userRelationToCity'.
2024-10-04 11:36:15.619 +03:30 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-10-04 11:36:15.621 +03:30 [DBG] Opened connection to database 'main' on server 'C:\Users\Ideapad 5\source\repos\Cityinfo.API\Cityinfo.API\CityInfo.db'.
2024-10-04 11:36:15.625 +03:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-10-04 11:36:15.628 +03:30 [DBG] Began transaction with isolation level 'Serializable'.
2024-10-04 11:36:15.631 +03:30 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-10-04 11:36:15.632 +03:30 [DBG] Created DbCommand for 'ExecuteNonQuery' (1ms).
2024-10-04 11:36:15.633 +03:30 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (2ms).
2024-10-04 11:36:15.635 +03:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Cities" ADD "UserId" INTEGER NOT NULL DEFAULT 0;
2024-10-04 11:36:15.637 +03:30 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Cities" ADD "UserId" INTEGER NOT NULL DEFAULT 0;
2024-10-04 11:36:15.640 +03:30 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-10-04 11:36:15.641 +03:30 [DBG] Created DbCommand for 'ExecuteNonQuery' (1ms).
2024-10-04 11:36:15.642 +03:30 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (2ms).
2024-10-04 11:36:15.644 +03:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
UPDATE "Cities" SET "UserId" = 0
WHERE "Id" = 2;
SELECT changes();
2024-10-04 11:36:15.647 +03:30 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
UPDATE "Cities" SET "UserId" = 0
WHERE "Id" = 2;
SELECT changes();
2024-10-04 11:36:15.649 +03:30 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-10-04 11:36:15.650 +03:30 [DBG] Created DbCommand for 'ExecuteNonQuery' (1ms).
2024-10-04 11:36:15.651 +03:30 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (2ms).
2024-10-04 11:36:15.653 +03:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
UPDATE "Cities" SET "UserId" = 0
WHERE "Id" = 3;
SELECT changes();
2024-10-04 11:36:15.655 +03:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
UPDATE "Cities" SET "UserId" = 0
WHERE "Id" = 3;
SELECT changes();
2024-10-04 11:36:15.657 +03:30 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-10-04 11:36:15.658 +03:30 [DBG] Created DbCommand for 'ExecuteNonQuery' (1ms).
2024-10-04 11:36:15.660 +03:30 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (2ms).
2024-10-04 11:36:15.661 +03:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
UPDATE "Cities" SET "UserId" = 0
WHERE "Id" = 4;
SELECT changes();
2024-10-04 11:36:15.663 +03:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
UPDATE "Cities" SET "UserId" = 0
WHERE "Id" = 4;
SELECT changes();
2024-10-04 11:36:15.668 +03:30 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-10-04 11:36:15.669 +03:30 [DBG] Created DbCommand for 'ExecuteNonQuery' (1ms).
2024-10-04 11:36:15.671 +03:30 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (3ms).
2024-10-04 11:36:15.672 +03:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Cities_UserId" ON "Cities" ("UserId");
2024-10-04 11:36:15.675 +03:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Cities_UserId" ON "Cities" ("UserId");
2024-10-04 11:36:15.676 +03:30 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-10-04 11:36:15.677 +03:30 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-10-04 11:36:15.678 +03:30 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (2ms).
2024-10-04 11:36:15.680 +03:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "ef_temp_Cities" (
    "Id" INTEGER NOT NULL CONSTRAINT "PK_Cities" PRIMARY KEY AUTOINCREMENT,
    "Description" TEXT NULL,
    "Name" TEXT NOT NULL,
    "UserId" INTEGER NOT NULL,
    CONSTRAINT "FK_Cities_Users_UserId" FOREIGN KEY ("UserId") REFERENCES "Users" ("Id") ON DELETE CASCADE
);
2024-10-04 11:36:15.682 +03:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "ef_temp_Cities" (
    "Id" INTEGER NOT NULL CONSTRAINT "PK_Cities" PRIMARY KEY AUTOINCREMENT,
    "Description" TEXT NULL,
    "Name" TEXT NOT NULL,
    "UserId" INTEGER NOT NULL,
    CONSTRAINT "FK_Cities_Users_UserId" FOREIGN KEY ("UserId") REFERENCES "Users" ("Id") ON DELETE CASCADE
);
2024-10-04 11:36:15.683 +03:30 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-10-04 11:36:15.684 +03:30 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-10-04 11:36:15.686 +03:30 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (2ms).
2024-10-04 11:36:15.688 +03:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ef_temp_Cities" ("Id", "Description", "Name", "UserId")
SELECT "Id", "Description", "Name", "UserId"
FROM "Cities";
2024-10-04 11:36:15.692 +03:30 [ERR] Failed executing DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ef_temp_Cities" ("Id", "Description", "Name", "UserId")
SELECT "Id", "Description", "Name", "UserId"
FROM "Cities";
2024-10-04 11:36:15.697 +03:30 [DBG] Disposing transaction.
2024-10-04 11:36:15.699 +03:30 [DBG] Closing connection to database 'main' on server 'C:\Users\Ideapad 5\source\repos\Cityinfo.API\Cityinfo.API\CityInfo.db'.
2024-10-04 11:36:15.700 +03:30 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (1ms).
2024-10-04 11:36:15.703 +03:30 [DBG] 'CityInfoDbContext' disposed.
2024-10-04 11:36:15.704 +03:30 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2024-10-04 11:36:15.706 +03:30 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (1ms).
2024-10-04 11:37:53.873 +03:30 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-10-04 11:37:54.308 +03:30 [DBG] Entity Framework Core 8.0.8 initialized 'CityInfoDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.8' with options: None
2024-10-04 11:37:54.837 +03:30 [DBG] 'CityInfoDbContext' disposed.
2024-10-04 11:38:41.805 +03:30 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-10-04 11:38:42.199 +03:30 [DBG] Entity Framework Core 8.0.8 initialized 'CityInfoDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.8' with options: None
2024-10-04 11:38:42.211 +03:30 [DBG] Creating DbConnection.
2024-10-04 11:38:42.220 +03:30 [DBG] Created DbConnection. (6ms).
2024-10-04 11:38:42.226 +03:30 [DBG] Migrating using database 'main' on server 'CityInfo.db'.
2024-10-04 11:38:42.230 +03:30 [DBG] Creating DbConnection.
2024-10-04 11:38:42.234 +03:30 [DBG] Created DbConnection. (3ms).
2024-10-04 11:38:42.238 +03:30 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-10-04 11:38:42.245 +03:30 [DBG] Opened connection to database 'main' on server 'C:\Users\Ideapad 5\source\repos\Cityinfo.API\Cityinfo.API\CityInfo.db'.
2024-10-04 11:38:42.250 +03:30 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2024-10-04 11:38:42.255 +03:30 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (2ms).
2024-10-04 11:38:42.263 +03:30 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-10-04 11:38:42.269 +03:30 [DBG] Created DbCommand for 'ExecuteScalar' (5ms).
2024-10-04 11:38:42.272 +03:30 [DBG] Initialized DbCommand for 'ExecuteScalar' (9ms).
2024-10-04 11:38:42.273 +03:30 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-10-04 11:38:42.277 +03:30 [DBG] Opened connection to database 'main' on server 'C:\Users\Ideapad 5\source\repos\Cityinfo.API\Cityinfo.API\CityInfo.db'.
2024-10-04 11:38:42.284 +03:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2024-10-04 11:38:42.305 +03:30 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2024-10-04 11:38:42.310 +03:30 [DBG] Closing connection to database 'main' on server 'C:\Users\Ideapad 5\source\repos\Cityinfo.API\Cityinfo.API\CityInfo.db'.
2024-10-04 11:38:42.315 +03:30 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (4ms).
2024-10-04 11:38:42.317 +03:30 [DBG] Creating DbConnection.
2024-10-04 11:38:42.318 +03:30 [DBG] Created DbConnection. (0ms).
2024-10-04 11:38:42.319 +03:30 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-10-04 11:38:42.320 +03:30 [DBG] Opened connection to database 'main' on server 'C:\Users\Ideapad 5\source\repos\Cityinfo.API\Cityinfo.API\CityInfo.db'.
2024-10-04 11:38:42.322 +03:30 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2024-10-04 11:38:42.323 +03:30 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (1ms).
2024-10-04 11:38:42.325 +03:30 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-10-04 11:38:42.326 +03:30 [DBG] Created DbCommand for 'ExecuteScalar' (1ms).
2024-10-04 11:38:42.328 +03:30 [DBG] Initialized DbCommand for 'ExecuteScalar' (3ms).
2024-10-04 11:38:42.329 +03:30 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-10-04 11:38:42.331 +03:30 [DBG] Opened connection to database 'main' on server 'C:\Users\Ideapad 5\source\repos\Cityinfo.API\Cityinfo.API\CityInfo.db'.
2024-10-04 11:38:42.332 +03:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2024-10-04 11:38:42.334 +03:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2024-10-04 11:38:42.335 +03:30 [DBG] Closing connection to database 'main' on server 'C:\Users\Ideapad 5\source\repos\Cityinfo.API\Cityinfo.API\CityInfo.db'.
2024-10-04 11:38:42.336 +03:30 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (1ms).
2024-10-04 11:38:42.350 +03:30 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-10-04 11:38:42.352 +03:30 [DBG] Opened connection to database 'main' on server 'C:\Users\Ideapad 5\source\repos\Cityinfo.API\Cityinfo.API\CityInfo.db'.
2024-10-04 11:38:42.354 +03:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-04 11:38:42.356 +03:30 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-10-04 11:38:42.357 +03:30 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-10-04 11:38:42.360 +03:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-10-04 11:38:42.363 +03:30 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-10-04 11:38:42.366 +03:30 [DBG] Closing data reader to 'main' on server 'C:\Users\Ideapad 5\source\repos\Cityinfo.API\Cityinfo.API\CityInfo.db'.
2024-10-04 11:38:42.369 +03:30 [DBG] A data reader for 'main' on server 'C:\Users\Ideapad 5\source\repos\Cityinfo.API\Cityinfo.API\CityInfo.db' is being disposed after spending 3ms reading results.
2024-10-04 11:38:42.371 +03:30 [DBG] Closing connection to database 'main' on server 'C:\Users\Ideapad 5\source\repos\Cityinfo.API\Cityinfo.API\CityInfo.db'.
2024-10-04 11:38:42.372 +03:30 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (0ms).
2024-10-04 11:38:42.386 +03:30 [INF] Applying migration '20241004080349_userRelationToCity'.
2024-10-04 11:38:42.427 +03:30 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-10-04 11:38:42.429 +03:30 [DBG] Opened connection to database 'main' on server 'C:\Users\Ideapad 5\source\repos\Cityinfo.API\Cityinfo.API\CityInfo.db'.
2024-10-04 11:38:42.431 +03:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-10-04 11:38:42.436 +03:30 [DBG] Began transaction with isolation level 'Serializable'.
2024-10-04 11:38:42.440 +03:30 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-10-04 11:38:42.442 +03:30 [DBG] Created DbCommand for 'ExecuteNonQuery' (1ms).
2024-10-04 11:38:42.443 +03:30 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (3ms).
2024-10-04 11:38:42.444 +03:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Cities" ADD "UserId" INTEGER NOT NULL DEFAULT 0;
2024-10-04 11:38:42.447 +03:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Cities" ADD "UserId" INTEGER NOT NULL DEFAULT 0;
2024-10-04 11:38:42.449 +03:30 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-10-04 11:38:42.450 +03:30 [DBG] Created DbCommand for 'ExecuteNonQuery' (1ms).
2024-10-04 11:38:42.453 +03:30 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (4ms).
2024-10-04 11:38:42.455 +03:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
UPDATE "Cities" SET "UserId" = 0
WHERE "Id" = 2;
SELECT changes();
2024-10-04 11:38:42.457 +03:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
UPDATE "Cities" SET "UserId" = 0
WHERE "Id" = 2;
SELECT changes();
2024-10-04 11:38:42.459 +03:30 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-10-04 11:38:42.460 +03:30 [DBG] Created DbCommand for 'ExecuteNonQuery' (1ms).
2024-10-04 11:38:42.461 +03:30 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (2ms).
2024-10-04 11:38:42.462 +03:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
UPDATE "Cities" SET "UserId" = 0
WHERE "Id" = 3;
SELECT changes();
2024-10-04 11:38:42.464 +03:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
UPDATE "Cities" SET "UserId" = 0
WHERE "Id" = 3;
SELECT changes();
2024-10-04 11:38:42.466 +03:30 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-10-04 11:38:42.469 +03:30 [DBG] Created DbCommand for 'ExecuteNonQuery' (2ms).
2024-10-04 11:38:42.470 +03:30 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (4ms).
2024-10-04 11:38:42.471 +03:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
UPDATE "Cities" SET "UserId" = 0
WHERE "Id" = 4;
SELECT changes();
2024-10-04 11:38:42.472 +03:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
UPDATE "Cities" SET "UserId" = 0
WHERE "Id" = 4;
SELECT changes();
2024-10-04 11:38:42.474 +03:30 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-10-04 11:38:42.475 +03:30 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-10-04 11:38:42.476 +03:30 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (2ms).
2024-10-04 11:38:42.477 +03:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Cities_UserId" ON "Cities" ("UserId");
2024-10-04 11:38:42.479 +03:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Cities_UserId" ON "Cities" ("UserId");
2024-10-04 11:38:42.481 +03:30 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-10-04 11:38:42.482 +03:30 [DBG] Created DbCommand for 'ExecuteNonQuery' (1ms).
2024-10-04 11:38:42.484 +03:30 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (3ms).
2024-10-04 11:38:42.485 +03:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "ef_temp_Cities" (
    "Id" INTEGER NOT NULL CONSTRAINT "PK_Cities" PRIMARY KEY AUTOINCREMENT,
    "Description" TEXT NULL,
    "Name" TEXT NOT NULL,
    "UserId" INTEGER NOT NULL,
    CONSTRAINT "FK_Cities_Users_UserId" FOREIGN KEY ("UserId") REFERENCES "Users" ("Id") ON DELETE CASCADE
);
2024-10-04 11:38:42.488 +03:30 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "ef_temp_Cities" (
    "Id" INTEGER NOT NULL CONSTRAINT "PK_Cities" PRIMARY KEY AUTOINCREMENT,
    "Description" TEXT NULL,
    "Name" TEXT NOT NULL,
    "UserId" INTEGER NOT NULL,
    CONSTRAINT "FK_Cities_Users_UserId" FOREIGN KEY ("UserId") REFERENCES "Users" ("Id") ON DELETE CASCADE
);
2024-10-04 11:38:42.491 +03:30 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-10-04 11:38:42.491 +03:30 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-10-04 11:38:42.493 +03:30 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (2ms).
2024-10-04 11:38:42.494 +03:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ef_temp_Cities" ("Id", "Description", "Name", "UserId")
SELECT "Id", "Description", "Name", "UserId"
FROM "Cities";
2024-10-04 11:38:42.499 +03:30 [ERR] Failed executing DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ef_temp_Cities" ("Id", "Description", "Name", "UserId")
SELECT "Id", "Description", "Name", "UserId"
FROM "Cities";
2024-10-04 11:38:42.502 +03:30 [DBG] Disposing transaction.
2024-10-04 11:38:42.504 +03:30 [DBG] Closing connection to database 'main' on server 'C:\Users\Ideapad 5\source\repos\Cityinfo.API\Cityinfo.API\CityInfo.db'.
2024-10-04 11:38:42.505 +03:30 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (1ms).
2024-10-04 11:38:42.508 +03:30 [DBG] 'CityInfoDbContext' disposed.
2024-10-04 11:38:42.511 +03:30 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2024-10-04 11:38:42.512 +03:30 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (1ms).
2024-10-04 11:43:28.681 +03:30 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-10-04 11:43:29.208 +03:30 [DBG] Entity Framework Core 8.0.8 initialized 'CityInfoDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.8' with options: None
2024-10-04 11:43:29.230 +03:30 [DBG] Creating DbConnection.
2024-10-04 11:43:29.239 +03:30 [DBG] Created DbConnection. (8ms).
2024-10-04 11:43:29.245 +03:30 [DBG] Migrating using database 'main' on server 'CityInfo.db'.
2024-10-04 11:43:29.253 +03:30 [DBG] Creating DbConnection.
2024-10-04 11:43:29.257 +03:30 [DBG] Created DbConnection. (3ms).
2024-10-04 11:43:29.260 +03:30 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-10-04 11:43:29.275 +03:30 [DBG] Opened connection to database 'main' on server 'C:\Users\Ideapad 5\source\repos\Cityinfo.API\Cityinfo.API\CityInfo.db'.
2024-10-04 11:43:29.284 +03:30 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2024-10-04 11:43:29.291 +03:30 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (3ms).
2024-10-04 11:43:29.300 +03:30 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-10-04 11:43:29.308 +03:30 [DBG] Created DbCommand for 'ExecuteScalar' (7ms).
2024-10-04 11:43:29.311 +03:30 [DBG] Initialized DbCommand for 'ExecuteScalar' (12ms).
2024-10-04 11:43:29.313 +03:30 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-10-04 11:43:29.316 +03:30 [DBG] Opened connection to database 'main' on server 'C:\Users\Ideapad 5\source\repos\Cityinfo.API\Cityinfo.API\CityInfo.db'.
2024-10-04 11:43:29.323 +03:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2024-10-04 11:43:29.343 +03:30 [INF] Executed DbCommand (20ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2024-10-04 11:43:29.348 +03:30 [DBG] Closing connection to database 'main' on server 'C:\Users\Ideapad 5\source\repos\Cityinfo.API\Cityinfo.API\CityInfo.db'.
2024-10-04 11:43:29.351 +03:30 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (3ms).
2024-10-04 11:43:29.354 +03:30 [DBG] Creating DbConnection.
2024-10-04 11:43:29.355 +03:30 [DBG] Created DbConnection. (1ms).
2024-10-04 11:43:29.356 +03:30 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-10-04 11:43:29.358 +03:30 [DBG] Opened connection to database 'main' on server 'C:\Users\Ideapad 5\source\repos\Cityinfo.API\Cityinfo.API\CityInfo.db'.
2024-10-04 11:43:29.359 +03:30 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2024-10-04 11:43:29.360 +03:30 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (1ms).
2024-10-04 11:43:29.362 +03:30 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-10-04 11:43:29.363 +03:30 [DBG] Created DbCommand for 'ExecuteScalar' (1ms).
2024-10-04 11:43:29.365 +03:30 [DBG] Initialized DbCommand for 'ExecuteScalar' (2ms).
2024-10-04 11:43:29.366 +03:30 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-10-04 11:43:29.367 +03:30 [DBG] Opened connection to database 'main' on server 'C:\Users\Ideapad 5\source\repos\Cityinfo.API\Cityinfo.API\CityInfo.db'.
2024-10-04 11:43:29.371 +03:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2024-10-04 11:43:29.373 +03:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2024-10-04 11:43:29.375 +03:30 [DBG] Closing connection to database 'main' on server 'C:\Users\Ideapad 5\source\repos\Cityinfo.API\Cityinfo.API\CityInfo.db'.
2024-10-04 11:43:29.376 +03:30 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (1ms).
2024-10-04 11:43:29.390 +03:30 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-10-04 11:43:29.392 +03:30 [DBG] Opened connection to database 'main' on server 'C:\Users\Ideapad 5\source\repos\Cityinfo.API\Cityinfo.API\CityInfo.db'.
2024-10-04 11:43:29.393 +03:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-04 11:43:29.395 +03:30 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-10-04 11:43:29.396 +03:30 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-10-04 11:43:29.397 +03:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-10-04 11:43:29.401 +03:30 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-10-04 11:43:29.405 +03:30 [DBG] Closing data reader to 'main' on server 'C:\Users\Ideapad 5\source\repos\Cityinfo.API\Cityinfo.API\CityInfo.db'.
2024-10-04 11:43:29.409 +03:30 [DBG] A data reader for 'main' on server 'C:\Users\Ideapad 5\source\repos\Cityinfo.API\Cityinfo.API\CityInfo.db' is being disposed after spending 4ms reading results.
2024-10-04 11:43:29.410 +03:30 [DBG] Closing connection to database 'main' on server 'C:\Users\Ideapad 5\source\repos\Cityinfo.API\Cityinfo.API\CityInfo.db'.
2024-10-04 11:43:29.412 +03:30 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (1ms).
2024-10-04 11:43:29.430 +03:30 [INF] Applying migration '20241004080349_userRelationToCity'.
2024-10-04 11:43:29.483 +03:30 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-10-04 11:43:29.484 +03:30 [DBG] Opened connection to database 'main' on server 'C:\Users\Ideapad 5\source\repos\Cityinfo.API\Cityinfo.API\CityInfo.db'.
2024-10-04 11:43:29.487 +03:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-10-04 11:43:29.490 +03:30 [DBG] Began transaction with isolation level 'Serializable'.
2024-10-04 11:43:29.493 +03:30 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-10-04 11:43:29.493 +03:30 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-10-04 11:43:29.495 +03:30 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (2ms).
2024-10-04 11:43:29.497 +03:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Cities" ADD "UserId" INTEGER NOT NULL DEFAULT 0;
2024-10-04 11:43:29.500 +03:30 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Cities" ADD "UserId" INTEGER NOT NULL DEFAULT 0;
2024-10-04 11:43:29.502 +03:30 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-10-04 11:43:29.503 +03:30 [DBG] Created DbCommand for 'ExecuteNonQuery' (1ms).
2024-10-04 11:43:29.504 +03:30 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (2ms).
2024-10-04 11:43:29.505 +03:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
UPDATE "Cities" SET "UserId" = 0
WHERE "Id" = 2;
SELECT changes();
2024-10-04 11:43:29.508 +03:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
UPDATE "Cities" SET "UserId" = 0
WHERE "Id" = 2;
SELECT changes();
2024-10-04 11:43:29.512 +03:30 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-10-04 11:43:29.513 +03:30 [DBG] Created DbCommand for 'ExecuteNonQuery' (1ms).
2024-10-04 11:43:29.515 +03:30 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (2ms).
2024-10-04 11:43:29.516 +03:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
UPDATE "Cities" SET "UserId" = 0
WHERE "Id" = 3;
SELECT changes();
2024-10-04 11:43:29.518 +03:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
UPDATE "Cities" SET "UserId" = 0
WHERE "Id" = 3;
SELECT changes();
2024-10-04 11:43:29.521 +03:30 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-10-04 11:43:29.522 +03:30 [DBG] Created DbCommand for 'ExecuteNonQuery' (1ms).
2024-10-04 11:43:29.524 +03:30 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (3ms).
2024-10-04 11:43:29.525 +03:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
UPDATE "Cities" SET "UserId" = 0
WHERE "Id" = 4;
SELECT changes();
2024-10-04 11:43:29.528 +03:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
UPDATE "Cities" SET "UserId" = 0
WHERE "Id" = 4;
SELECT changes();
2024-10-04 11:43:29.530 +03:30 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-10-04 11:43:29.531 +03:30 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-10-04 11:43:29.532 +03:30 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (1ms).
2024-10-04 11:43:29.533 +03:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Cities_UserId" ON "Cities" ("UserId");
2024-10-04 11:43:29.535 +03:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Cities_UserId" ON "Cities" ("UserId");
2024-10-04 11:43:29.537 +03:30 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-10-04 11:43:29.540 +03:30 [DBG] Created DbCommand for 'ExecuteNonQuery' (2ms).
2024-10-04 11:43:29.543 +03:30 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (5ms).
2024-10-04 11:43:29.544 +03:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "ef_temp_Cities" (
    "Id" INTEGER NOT NULL CONSTRAINT "PK_Cities" PRIMARY KEY AUTOINCREMENT,
    "Description" TEXT NULL,
    "Name" TEXT NOT NULL,
    "UserId" INTEGER NOT NULL,
    CONSTRAINT "FK_Cities_Users_UserId" FOREIGN KEY ("UserId") REFERENCES "Users" ("Id") ON DELETE CASCADE
);
2024-10-04 11:43:29.546 +03:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "ef_temp_Cities" (
    "Id" INTEGER NOT NULL CONSTRAINT "PK_Cities" PRIMARY KEY AUTOINCREMENT,
    "Description" TEXT NULL,
    "Name" TEXT NOT NULL,
    "UserId" INTEGER NOT NULL,
    CONSTRAINT "FK_Cities_Users_UserId" FOREIGN KEY ("UserId") REFERENCES "Users" ("Id") ON DELETE CASCADE
);
2024-10-04 11:43:29.549 +03:30 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-10-04 11:43:29.550 +03:30 [DBG] Created DbCommand for 'ExecuteNonQuery' (1ms).
2024-10-04 11:43:29.551 +03:30 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (2ms).
2024-10-04 11:43:29.552 +03:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ef_temp_Cities" ("Id", "Description", "Name", "UserId")
SELECT "Id", "Description", "Name", "UserId"
FROM "Cities";
2024-10-04 11:43:29.554 +03:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ef_temp_Cities" ("Id", "Description", "Name", "UserId")
SELECT "Id", "Description", "Name", "UserId"
FROM "Cities";
2024-10-04 11:43:29.558 +03:30 [DBG] Committing transaction.
2024-10-04 11:43:29.562 +03:30 [DBG] Committed transaction.
2024-10-04 11:43:29.564 +03:30 [DBG] Disposing transaction.
2024-10-04 11:43:29.565 +03:30 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-10-04 11:43:29.567 +03:30 [DBG] Created DbCommand for 'ExecuteNonQuery' (1ms).
2024-10-04 11:43:29.568 +03:30 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (2ms).
2024-10-04 11:43:29.569 +03:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
PRAGMA foreign_keys = 0;
2024-10-04 11:43:29.574 +03:30 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
PRAGMA foreign_keys = 0;
2024-10-04 11:43:29.576 +03:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-10-04 11:43:29.577 +03:30 [DBG] Began transaction with isolation level 'Serializable'.
2024-10-04 11:43:29.578 +03:30 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-10-04 11:43:29.579 +03:30 [DBG] Created DbCommand for 'ExecuteNonQuery' (1ms).
2024-10-04 11:43:29.580 +03:30 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (2ms).
2024-10-04 11:43:29.581 +03:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP TABLE "Cities";
2024-10-04 11:43:29.583 +03:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP TABLE "Cities";
2024-10-04 11:43:29.585 +03:30 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-10-04 11:43:29.588 +03:30 [DBG] Created DbCommand for 'ExecuteNonQuery' (2ms).
2024-10-04 11:43:29.589 +03:30 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (3ms).
2024-10-04 11:43:29.590 +03:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "ef_temp_Cities" RENAME TO "Cities";
2024-10-04 11:43:29.592 +03:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "ef_temp_Cities" RENAME TO "Cities";
2024-10-04 11:43:29.594 +03:30 [DBG] Committing transaction.
2024-10-04 11:43:29.596 +03:30 [DBG] Committed transaction.
2024-10-04 11:43:29.597 +03:30 [DBG] Disposing transaction.
2024-10-04 11:43:29.598 +03:30 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-10-04 11:43:29.599 +03:30 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-10-04 11:43:29.600 +03:30 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (1ms).
2024-10-04 11:43:29.601 +03:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
PRAGMA foreign_keys = 1;
2024-10-04 11:43:29.606 +03:30 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
PRAGMA foreign_keys = 1;
2024-10-04 11:43:29.608 +03:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-10-04 11:43:29.609 +03:30 [DBG] Began transaction with isolation level 'Serializable'.
2024-10-04 11:43:29.610 +03:30 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-10-04 11:43:29.611 +03:30 [DBG] Created DbCommand for 'ExecuteNonQuery' (1ms).
2024-10-04 11:43:29.612 +03:30 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (2ms).
2024-10-04 11:43:29.613 +03:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Cities_UserId" ON "Cities" ("UserId");
2024-10-04 11:43:29.615 +03:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Cities_UserId" ON "Cities" ("UserId");
2024-10-04 11:43:29.617 +03:30 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-10-04 11:43:29.620 +03:30 [DBG] Created DbCommand for 'ExecuteNonQuery' (2ms).
2024-10-04 11:43:29.621 +03:30 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (3ms).
2024-10-04 11:43:29.622 +03:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20241004080349_userRelationToCity', '8.0.8');
2024-10-04 11:43:29.624 +03:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20241004080349_userRelationToCity', '8.0.8');
2024-10-04 11:43:29.626 +03:30 [DBG] Committing transaction.
2024-10-04 11:43:29.628 +03:30 [DBG] Committed transaction.
2024-10-04 11:43:29.629 +03:30 [DBG] Disposing transaction.
2024-10-04 11:43:29.630 +03:30 [DBG] Closing connection to database 'main' on server 'C:\Users\Ideapad 5\source\repos\Cityinfo.API\Cityinfo.API\CityInfo.db'.
2024-10-04 11:43:29.631 +03:30 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (1ms).
2024-10-04 11:43:29.633 +03:30 [INF] Applying migration '20241004080754_CitySeedDataChanged'.
2024-10-04 11:43:29.641 +03:30 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-10-04 11:43:29.643 +03:30 [DBG] Opened connection to database 'main' on server 'C:\Users\Ideapad 5\source\repos\Cityinfo.API\Cityinfo.API\CityInfo.db'.
2024-10-04 11:43:29.644 +03:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-10-04 11:43:29.646 +03:30 [DBG] Began transaction with isolation level 'Serializable'.
2024-10-04 11:43:29.647 +03:30 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-10-04 11:43:29.648 +03:30 [DBG] Created DbCommand for 'ExecuteNonQuery' (1ms).
2024-10-04 11:43:29.651 +03:30 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (3ms).
2024-10-04 11:43:29.652 +03:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
UPDATE "Cities" SET "UserId" = 1
WHERE "Id" = 2;
SELECT changes();
2024-10-04 11:43:29.654 +03:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
UPDATE "Cities" SET "UserId" = 1
WHERE "Id" = 2;
SELECT changes();
2024-10-04 11:43:29.656 +03:30 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-10-04 11:43:29.657 +03:30 [DBG] Created DbCommand for 'ExecuteNonQuery' (1ms).
2024-10-04 11:43:29.658 +03:30 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (2ms).
2024-10-04 11:43:29.659 +03:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
UPDATE "Cities" SET "UserId" = 1
WHERE "Id" = 3;
SELECT changes();
2024-10-04 11:43:29.662 +03:30 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
UPDATE "Cities" SET "UserId" = 1
WHERE "Id" = 3;
SELECT changes();
2024-10-04 11:43:29.666 +03:30 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-10-04 11:43:29.669 +03:30 [DBG] Created DbCommand for 'ExecuteNonQuery' (3ms).
2024-10-04 11:43:29.671 +03:30 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (5ms).
2024-10-04 11:43:29.672 +03:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
UPDATE "Cities" SET "UserId" = 1
WHERE "Id" = 4;
SELECT changes();
2024-10-04 11:43:29.675 +03:30 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
UPDATE "Cities" SET "UserId" = 1
WHERE "Id" = 4;
SELECT changes();
2024-10-04 11:43:29.677 +03:30 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-10-04 11:43:29.678 +03:30 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-10-04 11:43:29.681 +03:30 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (3ms).
2024-10-04 11:43:29.682 +03:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20241004080754_CitySeedDataChanged', '8.0.8');
2024-10-04 11:43:29.684 +03:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20241004080754_CitySeedDataChanged', '8.0.8');
2024-10-04 11:43:29.687 +03:30 [DBG] Committing transaction.
2024-10-04 11:43:29.688 +03:30 [DBG] Committed transaction.
2024-10-04 11:43:29.689 +03:30 [DBG] Disposing transaction.
2024-10-04 11:43:29.690 +03:30 [DBG] Closing connection to database 'main' on server 'C:\Users\Ideapad 5\source\repos\Cityinfo.API\Cityinfo.API\CityInfo.db'.
2024-10-04 11:43:29.691 +03:30 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (1ms).
2024-10-04 11:43:29.694 +03:30 [DBG] 'CityInfoDbContext' disposed.
2024-10-04 11:43:29.699 +03:30 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2024-10-04 11:43:29.700 +03:30 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (1ms).
2024-10-04 11:44:01.950 +03:30 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-10-04 11:44:02.534 +03:30 [DBG] Entity Framework Core 8.0.8 initialized 'CityInfoDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.8' with options: None
2024-10-04 11:44:02.551 +03:30 [DBG] Creating DbConnection.
2024-10-04 11:44:02.560 +03:30 [DBG] Created DbConnection. (7ms).
2024-10-04 11:44:02.566 +03:30 [DBG] Migrating using database 'main' on server 'CityInfo.db'.
2024-10-04 11:44:02.570 +03:30 [DBG] Creating DbConnection.
2024-10-04 11:44:02.573 +03:30 [DBG] Created DbConnection. (2ms).
2024-10-04 11:44:02.576 +03:30 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-10-04 11:44:02.584 +03:30 [DBG] Opened connection to database 'main' on server 'C:\Users\Ideapad 5\source\repos\Cityinfo.API\Cityinfo.API\CityInfo.db'.
2024-10-04 11:44:02.588 +03:30 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2024-10-04 11:44:02.596 +03:30 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (3ms).
2024-10-04 11:44:02.603 +03:30 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-10-04 11:44:02.608 +03:30 [DBG] Created DbCommand for 'ExecuteScalar' (4ms).
2024-10-04 11:44:02.612 +03:30 [DBG] Initialized DbCommand for 'ExecuteScalar' (10ms).
2024-10-04 11:44:02.613 +03:30 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-10-04 11:44:02.616 +03:30 [DBG] Opened connection to database 'main' on server 'C:\Users\Ideapad 5\source\repos\Cityinfo.API\Cityinfo.API\CityInfo.db'.
2024-10-04 11:44:02.622 +03:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2024-10-04 11:44:02.640 +03:30 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2024-10-04 11:44:02.645 +03:30 [DBG] Closing connection to database 'main' on server 'C:\Users\Ideapad 5\source\repos\Cityinfo.API\Cityinfo.API\CityInfo.db'.
2024-10-04 11:44:02.648 +03:30 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (3ms).
2024-10-04 11:44:02.652 +03:30 [DBG] Creating DbConnection.
2024-10-04 11:44:02.655 +03:30 [DBG] Created DbConnection. (3ms).
2024-10-04 11:44:02.656 +03:30 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-10-04 11:44:02.658 +03:30 [DBG] Opened connection to database 'main' on server 'C:\Users\Ideapad 5\source\repos\Cityinfo.API\Cityinfo.API\CityInfo.db'.
2024-10-04 11:44:02.660 +03:30 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2024-10-04 11:44:02.661 +03:30 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (1ms).
2024-10-04 11:44:02.662 +03:30 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-10-04 11:44:02.664 +03:30 [DBG] Created DbCommand for 'ExecuteScalar' (1ms).
2024-10-04 11:44:02.665 +03:30 [DBG] Initialized DbCommand for 'ExecuteScalar' (2ms).
2024-10-04 11:44:02.666 +03:30 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-10-04 11:44:02.668 +03:30 [DBG] Opened connection to database 'main' on server 'C:\Users\Ideapad 5\source\repos\Cityinfo.API\Cityinfo.API\CityInfo.db'.
2024-10-04 11:44:02.670 +03:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2024-10-04 11:44:02.672 +03:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2024-10-04 11:44:02.674 +03:30 [DBG] Closing connection to database 'main' on server 'C:\Users\Ideapad 5\source\repos\Cityinfo.API\Cityinfo.API\CityInfo.db'.
2024-10-04 11:44:02.675 +03:30 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (1ms).
2024-10-04 11:44:02.693 +03:30 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-10-04 11:44:02.695 +03:30 [DBG] Opened connection to database 'main' on server 'C:\Users\Ideapad 5\source\repos\Cityinfo.API\Cityinfo.API\CityInfo.db'.
2024-10-04 11:44:02.697 +03:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-04 11:44:02.698 +03:30 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-10-04 11:44:02.700 +03:30 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-10-04 11:44:02.701 +03:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-10-04 11:44:02.704 +03:30 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-10-04 11:44:02.708 +03:30 [DBG] Closing data reader to 'main' on server 'C:\Users\Ideapad 5\source\repos\Cityinfo.API\Cityinfo.API\CityInfo.db'.
2024-10-04 11:44:02.710 +03:30 [DBG] A data reader for 'main' on server 'C:\Users\Ideapad 5\source\repos\Cityinfo.API\Cityinfo.API\CityInfo.db' is being disposed after spending 3ms reading results.
2024-10-04 11:44:02.712 +03:30 [DBG] Closing connection to database 'main' on server 'C:\Users\Ideapad 5\source\repos\Cityinfo.API\Cityinfo.API\CityInfo.db'.
2024-10-04 11:44:02.715 +03:30 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (3ms).
2024-10-04 11:44:02.728 +03:30 [INF] No migrations were applied. The database is already up to date.
2024-10-04 11:44:02.731 +03:30 [DBG] 'CityInfoDbContext' disposed.
2024-10-04 11:44:02.734 +03:30 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2024-10-04 11:44:02.735 +03:30 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (1ms).
2024-10-04 12:02:38.448 +03:30 [DBG] Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-10-04 12:02:38.515 +03:30 [DBG] Hosting starting
2024-10-04 12:02:38.547 +03:30 [INF] User profile is available. Using 'C:\Users\Ideapad 5\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-10-04 12:02:38.556 +03:30 [DBG] Reading data from file 'C:\Users\Ideapad 5\AppData\Local\ASP.NET\DataProtection-Keys\key-52a418f1-ba52-4a49-af2f-b85b42d29af6.xml'.
2024-10-04 12:02:38.763 +03:30 [DBG] Found key {52a418f1-ba52-4a49-af2f-b85b42d29af6}.
2024-10-04 12:02:38.783 +03:30 [DBG] Considering key {52a418f1-ba52-4a49-af2f-b85b42d29af6} with expiration date 2024-12-10 16:42:49Z as default key.
2024-10-04 12:02:38.789 +03:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-10-04 12:02:38.793 +03:30 [DBG] Decrypting secret element using Windows DPAPI.
2024-10-04 12:02:38.796 +03:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-10-04 12:02:38.803 +03:30 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-10-04 12:02:38.805 +03:30 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-10-04 12:02:38.808 +03:30 [DBG] Using key {52a418f1-ba52-4a49-af2f-b85b42d29af6} as the default key.
2024-10-04 12:02:38.810 +03:30 [DBG] Key ring with default key {52a418f1-ba52-4a49-af2f-b85b42d29af6} was loaded during application startup.
2024-10-04 12:02:39.306 +03:30 [INF] Now listening on: https://localhost:7016
2024-10-04 12:02:39.308 +03:30 [INF] Now listening on: http://localhost:5232
2024-10-04 12:02:39.309 +03:30 [DBG] Loaded hosting startup assembly Cityinfo.API
2024-10-04 12:02:39.310 +03:30 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2024-10-04 12:02:39.310 +03:30 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-10-04 12:02:39.311 +03:30 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-10-04 12:02:39.379 +03:30 [WRN] An error occurred while trying to create a DataContractSerializer for the type 'Cityinfo.API.Models.ResponseError'.
System.Runtime.Serialization.InvalidDataContractException: Type 'Cityinfo.API.Models.ResponseError' cannot be serialized. Consider marking it with the DataContractAttribute attribute, and marking all of its members you want serialized with the DataMemberAttribute attribute. Alternatively, you can ensure that the type is public and has a parameterless constructor - all public members of the type will then be serialized, and no attributes will be required.
   at System.Runtime.Serialization.DataContracts.DataContract.DataContractCriticalHelper.ThrowInvalidDataContractException(String message, Type type)
   at System.Runtime.Serialization.DataContracts.DataContract.DataContractCriticalHelper.CreateDataContract(Type type)
   at System.Runtime.Serialization.DataContracts.DataContract.DataContractCriticalHelper.CreateDataContract(Int32 id, RuntimeTypeHandle typeHandle, Type type)
   at System.Runtime.Serialization.DataContracts.DataContract.DataContractCriticalHelper.GetDataContractSkipValidation(Int32 id, RuntimeTypeHandle typeHandle, Type type)
   at System.Runtime.Serialization.DataContracts.DataContract.GetDataContract(RuntimeTypeHandle typeHandle)
   at System.Runtime.Serialization.XsdDataContractExporter.GetRootElementName(Type type)
   at Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter.CreateSerializer(Type type)
2024-10-04 12:02:39.511 +03:30 [INF] Application started. Press Ctrl+C to shut down.
2024-10-04 12:02:39.512 +03:30 [INF] Hosting environment: Development
2024-10-04 12:02:39.513 +03:30 [INF] Content root path: C:\Users\Ideapad 5\source\repos\Cityinfo.API\Cityinfo.API
2024-10-04 12:02:39.514 +03:30 [DBG] Hosting started
2024-10-04 12:02:39.697 +03:30 [DBG] Connection id "0HN749SDQ5MJ2" accepted.
2024-10-04 12:02:39.700 +03:30 [DBG] Connection id "0HN749SDQ5MJ2" started.
2024-10-04 12:02:39.709 +03:30 [DBG] Connection id "0HN749SDQ5MJ3" accepted.
2024-10-04 12:02:39.710 +03:30 [DBG] Connection id "0HN749SDQ5MJ3" started.
2024-10-04 12:02:39.727 +03:30 [DBG] Connection id "0HN749SDQ5MJ2" received FIN.
2024-10-04 12:02:39.727 +03:30 [DBG] Connection id "0HN749SDQ5MJ3" received FIN.
2024-10-04 12:02:39.737 +03:30 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-10-04 12:02:39.737 +03:30 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-10-04 12:02:39.744 +03:30 [DBG] Connection id "0HN749SDQ5MJ3" stopped.
2024-10-04 12:02:39.744 +03:30 [DBG] Connection id "0HN749SDQ5MJ2" stopped.
2024-10-04 12:02:39.748 +03:30 [DBG] Connection id "0HN749SDQ5MJ3" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-04 12:02:39.748 +03:30 [DBG] Connection id "0HN749SDQ5MJ2" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-04 12:02:41.629 +03:30 [DBG] Connection id "0HN749SDQ5MJ4" accepted.
2024-10-04 12:02:41.632 +03:30 [DBG] Connection id "0HN749SDQ5MJ4" started.
2024-10-04 12:02:41.788 +03:30 [DBG] Connection 0HN749SDQ5MJ4 established using the following protocol: "Tls13"
2024-10-04 12:02:41.937 +03:30 [INF] Request starting HTTP/2 GET https://localhost:7016/swagger/index.html - null null
2024-10-04 12:02:42.172 +03:30 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-10-04 12:02:42.298 +03:30 [DBG] Response markup is scheduled to include Browser Link script injection.
2024-10-04 12:02:42.301 +03:30 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-10-04 12:02:42.330 +03:30 [DBG] Response markup was updated to include Browser Link script injection.
2024-10-04 12:02:42.333 +03:30 [DBG] Response markup was updated to include browser refresh script injection.
2024-10-04 12:02:42.340 +03:30 [INF] Request finished HTTP/2 GET https://localhost:7016/swagger/index.html - 200 null text/html;charset=utf-8 415.8233ms
2024-10-04 12:02:43.131 +03:30 [INF] Request starting HTTP/2 GET https://localhost:7016/_vs/browserLink - null null
2024-10-04 12:02:43.131 +03:30 [INF] Request starting HTTP/2 GET https://localhost:7016/_framework/aspnetcore-browser-refresh.js - null null
2024-10-04 12:02:43.158 +03:30 [INF] Request finished HTTP/2 GET https://localhost:7016/_framework/aspnetcore-browser-refresh.js - 200 13760 application/javascript; charset=utf-8 28.112ms
2024-10-04 12:02:43.232 +03:30 [INF] Request finished HTTP/2 GET https://localhost:7016/_vs/browserLink - 200 null text/javascript; charset=UTF-8 101.595ms
2024-10-04 12:02:43.336 +03:30 [INF] Request starting HTTP/2 GET https://localhost:7016/swagger/1.0/swagger.json - null null
2024-10-04 12:02:43.493 +03:30 [INF] Request finished HTTP/2 GET https://localhost:7016/swagger/1.0/swagger.json - 200 null application/json;charset=utf-8 156.8347ms
2024-10-04 12:02:45.370 +03:30 [DBG] Connection id "0HN749SDQ5MJ4" received FIN.
2024-10-04 12:02:45.375 +03:30 [DBG] The connection queue processing loop for 0HN749SDQ5MJ4 completed.
2024-10-04 12:02:45.378 +03:30 [DBG] Connection id "0HN749SDQ5MJ4" is closed. The last processed stream ID was 7.
2024-10-04 12:02:45.380 +03:30 [DBG] Connection id "0HN749SDQ5MJ4" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-04 12:02:45.383 +03:30 [DBG] Connection id "0HN749SDQ5MJ4" stopped.
2024-10-04 12:02:57.720 +03:30 [DBG] Connection id "0HN749SDQ5MJ5" accepted.
2024-10-04 12:02:57.721 +03:30 [DBG] Connection id "0HN749SDQ5MJ5" started.
2024-10-04 12:02:57.728 +03:30 [DBG] Connection 0HN749SDQ5MJ5 established using the following protocol: "Tls13"
2024-10-04 12:02:57.732 +03:30 [INF] Request starting HTTP/2 POST https://localhost:7016/api/v1/users/login - application/json-patch+json 53
2024-10-04 12:02:57.737 +03:30 [DBG] POST requests are not supported
2024-10-04 12:02:57.800 +03:30 [DBG] 1 candidate(s) found for the request path '/api/v1/users/login'
2024-10-04 12:02:57.804 +03:30 [DBG] Endpoint 'Cityinfo.API.Controllers.UsersController.Login (Cityinfo.API)' with route pattern 'api/v{version:apiVersion}/users/login' is valid for the request path '/api/v1/users/login'
2024-10-04 12:02:57.810 +03:30 [DBG] Request matched endpoint 'Cityinfo.API.Controllers.UsersController.Login (Cityinfo.API)'
2024-10-04 12:02:57.888 +03:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-10-04 12:02:57.892 +03:30 [INF] Executing endpoint 'Cityinfo.API.Controllers.UsersController.Login (Cityinfo.API)'
2024-10-04 12:02:57.922 +03:30 [INF] Route matched with {action = "Login", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Cityinfo.API.Models.RegisterRequest) on controller Cityinfo.API.Controllers.UsersController (Cityinfo.API).
2024-10-04 12:02:57.926 +03:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-04 12:02:57.927 +03:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-04 12:02:57.929 +03:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2024-10-04 12:02:57.931 +03:30 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-04 12:02:57.933 +03:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2024-10-04 12:02:57.937 +03:30 [DBG] Executing controller factory for controller Cityinfo.API.Controllers.UsersController (Cityinfo.API)
2024-10-04 12:02:58.108 +03:30 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-10-04 12:02:58.216 +03:30 [DBG] Executed controller factory for controller Cityinfo.API.Controllers.UsersController (Cityinfo.API)
2024-10-04 12:02:58.223 +03:30 [DBG] Attempting to bind parameter 'registerRequest' of type 'Cityinfo.API.Models.RegisterRequest' ...
2024-10-04 12:02:58.226 +03:30 [DBG] Attempting to bind parameter 'registerRequest' of type 'Cityinfo.API.Models.RegisterRequest' using the name '' in request data ...
2024-10-04 12:02:58.231 +03:30 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2024-10-04 12:02:58.234 +03:30 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2024-10-04 12:02:58.253 +03:30 [DBG] Connection id "0HN749SDQ5MJ5", Request id "0HN749SDQ5MJ5:00000001": started reading request body.
2024-10-04 12:02:58.255 +03:30 [DBG] Connection id "0HN749SDQ5MJ5", Request id "0HN749SDQ5MJ5:00000001": done reading request body.
2024-10-04 12:02:58.331 +03:30 [DBG] Done attempting to bind parameter 'registerRequest' of type 'Cityinfo.API.Models.RegisterRequest'.
2024-10-04 12:02:58.333 +03:30 [DBG] Done attempting to bind parameter 'registerRequest' of type 'Cityinfo.API.Models.RegisterRequest'.
2024-10-04 12:02:58.334 +03:30 [DBG] Attempting to validate the bound parameter 'registerRequest' of type 'Cityinfo.API.Models.RegisterRequest' ...
2024-10-04 12:02:58.342 +03:30 [DBG] Done attempting to validate the bound parameter 'registerRequest' of type 'Cityinfo.API.Models.RegisterRequest'.
2024-10-04 12:02:59.023 +03:30 [DBG] Entity Framework Core 8.0.8 initialized 'CityInfoDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.8' with options: None
2024-10-04 12:02:59.058 +03:30 [DBG] Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(u => u.Name == __name_0)'
2024-10-04 12:02:59.229 +03:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.Name (string) Required MaxLength(50), 1], [Property: User.Password (string) Required, 2], [Property: User.Role (Role) Required, 3] }
            SELECT TOP(1) u.Id, u.Name, u.Password, u.Role
            FROM Users AS u
            WHERE u.Name == @__name_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        Cityinfo.API.DbContexts.CityInfoDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-10-04 12:02:59.263 +03:30 [DBG] Creating DbConnection.
2024-10-04 12:02:59.279 +03:30 [DBG] Created DbConnection. (15ms).
2024-10-04 12:02:59.285 +03:30 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-10-04 12:02:59.307 +03:30 [DBG] Opened connection to database 'main' on server 'C:\Users\Ideapad 5\source\repos\Cityinfo.API\Cityinfo.API\CityInfo.db'.
2024-10-04 12:02:59.315 +03:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-04 12:02:59.320 +03:30 [DBG] Created DbCommand for 'ExecuteReader' (6ms).
2024-10-04 12:02:59.324 +03:30 [DBG] Initialized DbCommand for 'ExecuteReader' (10ms).
2024-10-04 12:02:59.335 +03:30 [DBG] Executing DbCommand [Parameters=[@__name_0='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."Name", "u"."Password", "u"."Role"
FROM "Users" AS "u"
WHERE "u"."Name" = @__name_0
LIMIT 1
2024-10-04 12:02:59.359 +03:30 [INF] Executed DbCommand (27ms) [Parameters=[@__name_0='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."Name", "u"."Password", "u"."Role"
FROM "Users" AS "u"
WHERE "u"."Name" = @__name_0
LIMIT 1
2024-10-04 12:02:59.386 +03:30 [DBG] Context 'CityInfoDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-04 12:02:59.406 +03:30 [DBG] Closing data reader to 'main' on server 'C:\Users\Ideapad 5\source\repos\Cityinfo.API\Cityinfo.API\CityInfo.db'.
2024-10-04 12:02:59.413 +03:30 [DBG] A data reader for 'main' on server 'C:\Users\Ideapad 5\source\repos\Cityinfo.API\Cityinfo.API\CityInfo.db' is being disposed after spending 46ms reading results.
2024-10-04 12:02:59.417 +03:30 [DBG] Closing connection to database 'main' on server 'C:\Users\Ideapad 5\source\repos\Cityinfo.API\Cityinfo.API\CityInfo.db'.
2024-10-04 12:02:59.422 +03:30 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (4ms).
2024-10-04 12:02:59.787 +03:30 [INF] Executing StatusCodeResult, setting HTTP status code 204
2024-10-04 12:02:59.792 +03:30 [INF] Executed action Cityinfo.API.Controllers.UsersController.Login (Cityinfo.API) in 1854.5596ms
2024-10-04 12:02:59.793 +03:30 [INF] Executed endpoint 'Cityinfo.API.Controllers.UsersController.Login (Cityinfo.API)'
2024-10-04 12:02:59.799 +03:30 [DBG] 'CityInfoDbContext' disposed.
2024-10-04 12:02:59.804 +03:30 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2024-10-04 12:02:59.807 +03:30 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (2ms).
2024-10-04 12:02:59.810 +03:30 [INF] Request finished HTTP/2 POST https://localhost:7016/api/v1/users/login - 204 null null 2077.7261ms
2024-10-04 12:03:06.202 +03:30 [DBG] Connection id "0HN749SDQ5MJ5" received FIN.
2024-10-04 12:03:06.204 +03:30 [DBG] Connection id "0HN749SDQ5MJ5" is closed. The last processed stream ID was 1.
2024-10-04 12:03:06.205 +03:30 [DBG] The connection queue processing loop for 0HN749SDQ5MJ5 completed.
2024-10-04 12:03:06.206 +03:30 [DBG] Connection id "0HN749SDQ5MJ5" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-04 12:03:06.209 +03:30 [DBG] Connection id "0HN749SDQ5MJ5" stopped.
2024-10-04 12:03:18.751 +03:30 [DBG] Connection id "0HN749SDQ5MJ6" accepted.
2024-10-04 12:03:18.752 +03:30 [DBG] Connection id "0HN749SDQ5MJ6" started.
2024-10-04 12:03:18.758 +03:30 [DBG] Connection 0HN749SDQ5MJ6 established using the following protocol: "Tls13"
2024-10-04 12:03:18.760 +03:30 [INF] Request starting HTTP/2 GET https://localhost:7016/api/v1/cities - null null
2024-10-04 12:03:18.764 +03:30 [DBG] The request path  does not match the path filter
2024-10-04 12:03:18.766 +03:30 [DBG] 1 candidate(s) found for the request path '/api/v1/cities'
2024-10-04 12:03:18.767 +03:30 [DBG] Endpoint 'Cityinfo.API.Controllers.CitiesController.GetCities (Cityinfo.API)' with route pattern 'api/v{version:apiVersion}/cities' is valid for the request path '/api/v1/cities'
2024-10-04 12:03:18.769 +03:30 [DBG] Request matched endpoint 'Cityinfo.API.Controllers.CitiesController.GetCities (Cityinfo.API)'
2024-10-04 12:03:18.807 +03:30 [DBG] Successfully validated the token.
2024-10-04 12:03:18.810 +03:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-10-04 12:03:18.817 +03:30 [DBG] Authorization was successful.
2024-10-04 12:03:18.818 +03:30 [INF] Executing endpoint 'Cityinfo.API.Controllers.CitiesController.GetCities (Cityinfo.API)'
2024-10-04 12:03:18.823 +03:30 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Cityinfo.API.Models.CityWithoutPointOfInterestDto]]] GetCities() on controller Cityinfo.API.Controllers.CitiesController (Cityinfo.API).
2024-10-04 12:03:18.824 +03:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-04 12:03:18.825 +03:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-04 12:03:18.827 +03:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2024-10-04 12:03:18.828 +03:30 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-04 12:03:18.829 +03:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2024-10-04 12:03:18.832 +03:30 [DBG] Executing controller factory for controller Cityinfo.API.Controllers.CitiesController (Cityinfo.API)
2024-10-04 12:03:18.834 +03:30 [DBG] Executed controller factory for controller Cityinfo.API.Controllers.CitiesController (Cityinfo.API)
2024-10-04 12:04:16.119 +03:30 [DBG] Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-10-04 12:04:16.165 +03:30 [DBG] Hosting starting
2024-10-04 12:04:16.186 +03:30 [INF] User profile is available. Using 'C:\Users\Ideapad 5\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-10-04 12:04:16.192 +03:30 [DBG] Reading data from file 'C:\Users\Ideapad 5\AppData\Local\ASP.NET\DataProtection-Keys\key-52a418f1-ba52-4a49-af2f-b85b42d29af6.xml'.
2024-10-04 12:04:16.215 +03:30 [DBG] Found key {52a418f1-ba52-4a49-af2f-b85b42d29af6}.
2024-10-04 12:04:16.228 +03:30 [DBG] Considering key {52a418f1-ba52-4a49-af2f-b85b42d29af6} with expiration date 2024-12-10 16:42:49Z as default key.
2024-10-04 12:04:16.232 +03:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-10-04 12:04:16.234 +03:30 [DBG] Decrypting secret element using Windows DPAPI.
2024-10-04 12:04:16.236 +03:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-10-04 12:04:16.242 +03:30 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-10-04 12:04:16.245 +03:30 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-10-04 12:04:16.247 +03:30 [DBG] Using key {52a418f1-ba52-4a49-af2f-b85b42d29af6} as the default key.
2024-10-04 12:04:16.249 +03:30 [DBG] Key ring with default key {52a418f1-ba52-4a49-af2f-b85b42d29af6} was loaded during application startup.
2024-10-04 12:04:16.396 +03:30 [INF] Now listening on: https://localhost:7016
2024-10-04 12:04:16.397 +03:30 [INF] Now listening on: http://localhost:5232
2024-10-04 12:04:16.398 +03:30 [DBG] Loaded hosting startup assembly Cityinfo.API
2024-10-04 12:04:16.399 +03:30 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2024-10-04 12:04:16.401 +03:30 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-10-04 12:04:16.402 +03:30 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-10-04 12:04:16.433 +03:30 [WRN] An error occurred while trying to create a DataContractSerializer for the type 'Cityinfo.API.Models.ResponseError'.
System.Runtime.Serialization.InvalidDataContractException: Type 'Cityinfo.API.Models.ResponseError' cannot be serialized. Consider marking it with the DataContractAttribute attribute, and marking all of its members you want serialized with the DataMemberAttribute attribute. Alternatively, you can ensure that the type is public and has a parameterless constructor - all public members of the type will then be serialized, and no attributes will be required.
   at System.Runtime.Serialization.DataContracts.DataContract.DataContractCriticalHelper.ThrowInvalidDataContractException(String message, Type type)
   at System.Runtime.Serialization.DataContracts.DataContract.DataContractCriticalHelper.CreateDataContract(Type type)
   at System.Runtime.Serialization.DataContracts.DataContract.DataContractCriticalHelper.CreateDataContract(Int32 id, RuntimeTypeHandle typeHandle, Type type)
   at System.Runtime.Serialization.DataContracts.DataContract.DataContractCriticalHelper.GetDataContractSkipValidation(Int32 id, RuntimeTypeHandle typeHandle, Type type)
   at System.Runtime.Serialization.DataContracts.DataContract.GetDataContract(RuntimeTypeHandle typeHandle)
   at System.Runtime.Serialization.XsdDataContractExporter.GetRootElementName(Type type)
   at Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter.CreateSerializer(Type type)
2024-10-04 12:04:16.489 +03:30 [INF] Application started. Press Ctrl+C to shut down.
2024-10-04 12:04:16.490 +03:30 [INF] Hosting environment: Development
2024-10-04 12:04:16.491 +03:30 [INF] Content root path: C:\Users\Ideapad 5\source\repos\Cityinfo.API\Cityinfo.API
2024-10-04 12:04:16.492 +03:30 [DBG] Hosting started
2024-10-04 12:04:16.828 +03:30 [DBG] Connection id "0HN749TAOFG7M" accepted.
2024-10-04 12:04:16.829 +03:30 [DBG] Connection id "0HN749TAOFG7M" started.
2024-10-04 12:04:16.833 +03:30 [DBG] Connection id "0HN749TAOFG7N" accepted.
2024-10-04 12:04:16.835 +03:30 [DBG] Connection id "0HN749TAOFG7N" started.
2024-10-04 12:04:16.849 +03:30 [DBG] Connection id "0HN749TAOFG7N" received FIN.
2024-10-04 12:04:16.849 +03:30 [DBG] Connection id "0HN749TAOFG7M" received FIN.
2024-10-04 12:04:16.853 +03:30 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-10-04 12:04:16.853 +03:30 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-10-04 12:04:16.859 +03:30 [DBG] Connection id "0HN749TAOFG7M" stopped.
2024-10-04 12:04:16.859 +03:30 [DBG] Connection id "0HN749TAOFG7N" stopped.
2024-10-04 12:04:16.863 +03:30 [DBG] Connection id "0HN749TAOFG7M" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-04 12:04:16.865 +03:30 [DBG] Connection id "0HN749TAOFG7N" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-04 12:04:17.098 +03:30 [DBG] Connection id "0HN749TAOFG7O" accepted.
2024-10-04 12:04:17.100 +03:30 [DBG] Connection id "0HN749TAOFG7O" started.
2024-10-04 12:04:17.132 +03:30 [DBG] Connection 0HN749TAOFG7O established using the following protocol: "Tls13"
2024-10-04 12:04:17.184 +03:30 [INF] Request starting HTTP/2 GET https://localhost:7016/swagger/index.html - null null
2024-10-04 12:04:17.273 +03:30 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-10-04 12:04:17.352 +03:30 [DBG] Response markup is scheduled to include Browser Link script injection.
2024-10-04 12:04:17.354 +03:30 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-10-04 12:04:17.368 +03:30 [DBG] Response markup was updated to include Browser Link script injection.
2024-10-04 12:04:17.369 +03:30 [DBG] Response markup was updated to include browser refresh script injection.
2024-10-04 12:04:17.372 +03:30 [INF] Request finished HTTP/2 GET https://localhost:7016/swagger/index.html - 200 null text/html;charset=utf-8 188.8518ms
2024-10-04 12:04:17.414 +03:30 [INF] Request starting HTTP/2 GET https://localhost:7016/_vs/browserLink - null null
2024-10-04 12:04:17.414 +03:30 [INF] Request starting HTTP/2 GET https://localhost:7016/_framework/aspnetcore-browser-refresh.js - null null
2024-10-04 12:04:17.424 +03:30 [INF] Request finished HTTP/2 GET https://localhost:7016/_framework/aspnetcore-browser-refresh.js - 200 13760 application/javascript; charset=utf-8 9.6538ms
2024-10-04 12:04:17.451 +03:30 [INF] Request finished HTTP/2 GET https://localhost:7016/_vs/browserLink - 200 null text/javascript; charset=UTF-8 36.3555ms
2024-10-04 12:04:17.588 +03:30 [INF] Request starting HTTP/2 GET https://localhost:7016/swagger/1.0/swagger.json - null null
2024-10-04 12:04:17.774 +03:30 [INF] Request finished HTTP/2 GET https://localhost:7016/swagger/1.0/swagger.json - 200 null application/json;charset=utf-8 185.5245ms
2024-10-04 12:04:21.381 +03:30 [DBG] Connection id "0HN749TAOFG7O" received FIN.
2024-10-04 12:04:21.384 +03:30 [DBG] The connection queue processing loop for 0HN749TAOFG7O completed.
2024-10-04 12:04:21.386 +03:30 [DBG] Connection id "0HN749TAOFG7O" is closed. The last processed stream ID was 7.
2024-10-04 12:04:21.388 +03:30 [DBG] Connection id "0HN749TAOFG7O" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-04 12:04:21.390 +03:30 [DBG] Connection id "0HN749TAOFG7O" stopped.
2024-10-04 12:04:24.007 +03:30 [DBG] Connection id "0HN749TAOFG7P" accepted.
2024-10-04 12:04:24.008 +03:30 [DBG] Connection id "0HN749TAOFG7P" started.
2024-10-04 12:04:24.012 +03:30 [DBG] Connection 0HN749TAOFG7P established using the following protocol: "Tls13"
2024-10-04 12:04:24.015 +03:30 [INF] Request starting HTTP/2 GET https://localhost:7016/api/v1/cities - null null
2024-10-04 12:04:24.018 +03:30 [DBG] The request path  does not match the path filter
2024-10-04 12:04:24.059 +03:30 [DBG] 1 candidate(s) found for the request path '/api/v1/cities'
2024-10-04 12:04:24.064 +03:30 [DBG] Endpoint 'Cityinfo.API.Controllers.CitiesController.GetCities (Cityinfo.API)' with route pattern 'api/v{version:apiVersion}/cities' is valid for the request path '/api/v1/cities'
2024-10-04 12:04:24.069 +03:30 [DBG] Request matched endpoint 'Cityinfo.API.Controllers.CitiesController.GetCities (Cityinfo.API)'
2024-10-04 12:04:24.144 +03:30 [DBG] Successfully validated the token.
2024-10-04 12:04:24.147 +03:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-10-04 12:04:24.154 +03:30 [DBG] Authorization was successful.
2024-10-04 12:04:24.156 +03:30 [INF] Executing endpoint 'Cityinfo.API.Controllers.CitiesController.GetCities (Cityinfo.API)'
2024-10-04 12:04:24.173 +03:30 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Cityinfo.API.Models.CityWithoutPointOfInterestDto]]] GetCities() on controller Cityinfo.API.Controllers.CitiesController (Cityinfo.API).
2024-10-04 12:04:24.176 +03:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-04 12:04:24.177 +03:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-04 12:04:24.179 +03:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2024-10-04 12:04:24.181 +03:30 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-04 12:04:24.183 +03:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2024-10-04 12:04:24.185 +03:30 [DBG] Executing controller factory for controller Cityinfo.API.Controllers.CitiesController (Cityinfo.API)
2024-10-04 12:04:24.259 +03:30 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-10-04 12:04:24.347 +03:30 [DBG] Executed controller factory for controller Cityinfo.API.Controllers.CitiesController (Cityinfo.API)
2024-10-04 12:04:24.354 +03:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-10-04 12:04:24.358 +03:30 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]' and explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'. The content types in the accept header must be a subset of the explicitly set content types.
2024-10-04 12:04:24.361 +03:30 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2024-10-04 12:04:24.364 +03:30 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-10-04 12:04:24.367 +03:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-10-04 12:04:24.368 +03:30 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2024-10-04 12:04:24.456 +03:30 [INF] Executed action Cityinfo.API.Controllers.CitiesController.GetCities (Cityinfo.API) in 269.0833ms
2024-10-04 12:04:24.458 +03:30 [INF] Executed endpoint 'Cityinfo.API.Controllers.CitiesController.GetCities (Cityinfo.API)'
2024-10-04 12:04:24.461 +03:30 [INF] Request finished HTTP/2 GET https://localhost:7016/api/v1/cities - 401 165 application/problem+json; charset=utf-8 445.4321ms
2024-10-04 12:04:31.390 +03:30 [DBG] Connection id "0HN749TAOFG7P" received FIN.
2024-10-04 12:04:31.391 +03:30 [DBG] Connection id "0HN749TAOFG7P" is closed. The last processed stream ID was 1.
2024-10-04 12:04:31.391 +03:30 [DBG] Connection id "0HN749TAOFG7P" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-04 12:04:31.394 +03:30 [DBG] The connection queue processing loop for 0HN749TAOFG7P completed.
2024-10-04 12:04:31.395 +03:30 [DBG] Connection id "0HN749TAOFG7P" stopped.
2024-10-04 12:04:50.772 +03:30 [DBG] Connection id "0HN749TAOFG7Q" accepted.
2024-10-04 12:04:50.773 +03:30 [DBG] Connection id "0HN749TAOFG7Q" started.
2024-10-04 12:04:50.778 +03:30 [DBG] Connection 0HN749TAOFG7Q established using the following protocol: "Tls13"
2024-10-04 12:04:50.781 +03:30 [INF] Request starting HTTP/2 POST https://localhost:7016/api/v1/users/login - application/json-patch+json 53
2024-10-04 12:04:50.783 +03:30 [DBG] POST requests are not supported
2024-10-04 12:04:50.785 +03:30 [DBG] 1 candidate(s) found for the request path '/api/v1/users/login'
2024-10-04 12:04:50.786 +03:30 [DBG] Endpoint 'Cityinfo.API.Controllers.UsersController.Login (Cityinfo.API)' with route pattern 'api/v{version:apiVersion}/users/login' is valid for the request path '/api/v1/users/login'
2024-10-04 12:04:50.788 +03:30 [DBG] Request matched endpoint 'Cityinfo.API.Controllers.UsersController.Login (Cityinfo.API)'
2024-10-04 12:04:50.791 +03:30 [DBG] Successfully validated the token.
2024-10-04 12:04:50.791 +03:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-10-04 12:04:50.792 +03:30 [INF] Executing endpoint 'Cityinfo.API.Controllers.UsersController.Login (Cityinfo.API)'
2024-10-04 12:04:50.799 +03:30 [INF] Route matched with {action = "Login", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Cityinfo.API.Models.RegisterRequest) on controller Cityinfo.API.Controllers.UsersController (Cityinfo.API).
2024-10-04 12:04:50.801 +03:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-04 12:04:50.802 +03:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-04 12:04:50.804 +03:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2024-10-04 12:04:50.806 +03:30 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-04 12:04:50.807 +03:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2024-10-04 12:04:50.809 +03:30 [DBG] Executing controller factory for controller Cityinfo.API.Controllers.UsersController (Cityinfo.API)
2024-10-04 12:04:50.815 +03:30 [DBG] Executed controller factory for controller Cityinfo.API.Controllers.UsersController (Cityinfo.API)
2024-10-04 12:04:50.819 +03:30 [DBG] Attempting to bind parameter 'registerRequest' of type 'Cityinfo.API.Models.RegisterRequest' ...
2024-10-04 12:04:50.822 +03:30 [DBG] Attempting to bind parameter 'registerRequest' of type 'Cityinfo.API.Models.RegisterRequest' using the name '' in request data ...
2024-10-04 12:04:50.823 +03:30 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2024-10-04 12:04:50.824 +03:30 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2024-10-04 12:04:50.828 +03:30 [DBG] Connection id "0HN749TAOFG7Q", Request id "0HN749TAOFG7Q:00000001": started reading request body.
2024-10-04 12:04:50.829 +03:30 [DBG] Connection id "0HN749TAOFG7Q", Request id "0HN749TAOFG7Q:00000001": done reading request body.
2024-10-04 12:04:50.844 +03:30 [DBG] Done attempting to bind parameter 'registerRequest' of type 'Cityinfo.API.Models.RegisterRequest'.
2024-10-04 12:04:50.846 +03:30 [DBG] Done attempting to bind parameter 'registerRequest' of type 'Cityinfo.API.Models.RegisterRequest'.
2024-10-04 12:04:50.849 +03:30 [DBG] Attempting to validate the bound parameter 'registerRequest' of type 'Cityinfo.API.Models.RegisterRequest' ...
2024-10-04 12:04:50.854 +03:30 [DBG] Done attempting to validate the bound parameter 'registerRequest' of type 'Cityinfo.API.Models.RegisterRequest'.
2024-10-04 12:04:51.281 +03:30 [DBG] Entity Framework Core 8.0.8 initialized 'CityInfoDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.8' with options: None
2024-10-04 12:04:51.303 +03:30 [DBG] Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(u => u.Name == __name_0)'
2024-10-04 12:04:51.424 +03:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.Name (string) Required MaxLength(50), 1], [Property: User.Password (string) Required, 2], [Property: User.Role (Role) Required, 3] }
            SELECT TOP(1) u.Id, u.Name, u.Password, u.Role
            FROM Users AS u
            WHERE u.Name == @__name_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        Cityinfo.API.DbContexts.CityInfoDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-10-04 12:04:51.447 +03:30 [DBG] Creating DbConnection.
2024-10-04 12:04:51.456 +03:30 [DBG] Created DbConnection. (7ms).
2024-10-04 12:04:51.459 +03:30 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-10-04 12:04:51.470 +03:30 [DBG] Opened connection to database 'main' on server 'C:\Users\Ideapad 5\source\repos\Cityinfo.API\Cityinfo.API\CityInfo.db'.
2024-10-04 12:04:51.476 +03:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-04 12:04:51.479 +03:30 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2024-10-04 12:04:51.483 +03:30 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2024-10-04 12:04:51.490 +03:30 [DBG] Executing DbCommand [Parameters=[@__name_0='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."Name", "u"."Password", "u"."Role"
FROM "Users" AS "u"
WHERE "u"."Name" = @__name_0
LIMIT 1
2024-10-04 12:04:51.505 +03:30 [INF] Executed DbCommand (16ms) [Parameters=[@__name_0='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."Name", "u"."Password", "u"."Role"
FROM "Users" AS "u"
WHERE "u"."Name" = @__name_0
LIMIT 1
2024-10-04 12:04:51.521 +03:30 [DBG] Context 'CityInfoDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-04 12:04:51.537 +03:30 [DBG] Closing data reader to 'main' on server 'C:\Users\Ideapad 5\source\repos\Cityinfo.API\Cityinfo.API\CityInfo.db'.
2024-10-04 12:04:51.542 +03:30 [DBG] A data reader for 'main' on server 'C:\Users\Ideapad 5\source\repos\Cityinfo.API\Cityinfo.API\CityInfo.db' is being disposed after spending 32ms reading results.
2024-10-04 12:04:51.546 +03:30 [DBG] Closing connection to database 'main' on server 'C:\Users\Ideapad 5\source\repos\Cityinfo.API\Cityinfo.API\CityInfo.db'.
2024-10-04 12:04:51.551 +03:30 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (4ms).
2024-10-04 12:04:51.857 +03:30 [INF] Executing StatusCodeResult, setting HTTP status code 204
2024-10-04 12:04:51.859 +03:30 [INF] Executed action Cityinfo.API.Controllers.UsersController.Login (Cityinfo.API) in 1049.5637ms
2024-10-04 12:04:51.860 +03:30 [INF] Executed endpoint 'Cityinfo.API.Controllers.UsersController.Login (Cityinfo.API)'
2024-10-04 12:04:51.862 +03:30 [DBG] 'CityInfoDbContext' disposed.
2024-10-04 12:04:51.866 +03:30 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2024-10-04 12:04:51.868 +03:30 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (1ms).
2024-10-04 12:04:51.870 +03:30 [INF] Request finished HTTP/2 POST https://localhost:7016/api/v1/users/login - 204 null null 1088.8618ms
2024-10-04 12:05:01.418 +03:30 [DBG] Connection id "0HN749TAOFG7Q" received FIN.
2024-10-04 12:05:01.421 +03:30 [DBG] Connection id "0HN749TAOFG7Q" is closed. The last processed stream ID was 1.
2024-10-04 12:05:01.421 +03:30 [DBG] The connection queue processing loop for 0HN749TAOFG7Q completed.
2024-10-04 12:05:01.422 +03:30 [DBG] Connection id "0HN749TAOFG7Q" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-04 12:05:01.434 +03:30 [DBG] Connection id "0HN749TAOFG7Q" stopped.
2024-10-04 12:05:02.602 +03:30 [DBG] Connection id "0HN749TAOFG7R" accepted.
2024-10-04 12:05:02.603 +03:30 [DBG] Connection id "0HN749TAOFG7R" started.
2024-10-04 12:05:02.606 +03:30 [DBG] Connection 0HN749TAOFG7R established using the following protocol: "Tls13"
2024-10-04 12:05:02.608 +03:30 [INF] Request starting HTTP/2 GET https://localhost:7016/api/v1/cities - null null
2024-10-04 12:05:02.611 +03:30 [DBG] The request path  does not match the path filter
2024-10-04 12:05:02.612 +03:30 [DBG] 1 candidate(s) found for the request path '/api/v1/cities'
2024-10-04 12:05:02.613 +03:30 [DBG] Endpoint 'Cityinfo.API.Controllers.CitiesController.GetCities (Cityinfo.API)' with route pattern 'api/v{version:apiVersion}/cities' is valid for the request path '/api/v1/cities'
2024-10-04 12:05:02.614 +03:30 [DBG] Request matched endpoint 'Cityinfo.API.Controllers.CitiesController.GetCities (Cityinfo.API)'
2024-10-04 12:05:02.622 +03:30 [DBG] Successfully validated the token.
2024-10-04 12:05:02.623 +03:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-10-04 12:05:02.626 +03:30 [DBG] Authorization was successful.
2024-10-04 12:05:02.626 +03:30 [INF] Executing endpoint 'Cityinfo.API.Controllers.CitiesController.GetCities (Cityinfo.API)'
2024-10-04 12:05:02.627 +03:30 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Cityinfo.API.Models.CityWithoutPointOfInterestDto]]] GetCities() on controller Cityinfo.API.Controllers.CitiesController (Cityinfo.API).
2024-10-04 12:05:02.628 +03:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-04 12:05:02.630 +03:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-04 12:05:02.632 +03:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2024-10-04 12:05:02.634 +03:30 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-04 12:05:02.635 +03:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2024-10-04 12:05:02.637 +03:30 [DBG] Executing controller factory for controller Cityinfo.API.Controllers.CitiesController (Cityinfo.API)
2024-10-04 12:05:02.639 +03:30 [DBG] Executed controller factory for controller Cityinfo.API.Controllers.CitiesController (Cityinfo.API)
2024-10-04 12:05:02.641 +03:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-10-04 12:05:02.643 +03:30 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]' and explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'. The content types in the accept header must be a subset of the explicitly set content types.
2024-10-04 12:05:02.646 +03:30 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2024-10-04 12:05:02.647 +03:30 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-10-04 12:05:02.649 +03:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-10-04 12:05:02.649 +03:30 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2024-10-04 12:05:02.651 +03:30 [INF] Executed action Cityinfo.API.Controllers.CitiesController.GetCities (Cityinfo.API) in 13.7927ms
2024-10-04 12:05:02.652 +03:30 [INF] Executed endpoint 'Cityinfo.API.Controllers.CitiesController.GetCities (Cityinfo.API)'
2024-10-04 12:05:02.653 +03:30 [INF] Request finished HTTP/2 GET https://localhost:7016/api/v1/cities - 401 165 application/problem+json; charset=utf-8 44.6531ms
2024-10-04 12:05:11.439 +03:30 [DBG] Connection id "0HN749TAOFG7R" received FIN.
2024-10-04 12:05:11.440 +03:30 [DBG] Connection id "0HN749TAOFG7R" is closed. The last processed stream ID was 1.
2024-10-04 12:05:11.440 +03:30 [DBG] The connection queue processing loop for 0HN749TAOFG7R completed.
2024-10-04 12:05:11.442 +03:30 [DBG] Connection id "0HN749TAOFG7R" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-04 12:05:11.452 +03:30 [DBG] Connection id "0HN749TAOFG7R" stopped.
2024-10-04 12:06:54.452 +03:30 [DBG] Connection id "0HN749TAOFG7S" accepted.
2024-10-04 12:06:54.454 +03:30 [DBG] Connection id "0HN749TAOFG7S" started.
2024-10-04 12:06:54.458 +03:30 [DBG] Connection 0HN749TAOFG7S established using the following protocol: "Tls13"
2024-10-04 12:06:54.460 +03:30 [INF] Request starting HTTP/2 GET https://localhost:7016/api/v1/cities - null null
2024-10-04 12:06:54.462 +03:30 [DBG] The request path  does not match the path filter
2024-10-04 12:06:54.463 +03:30 [DBG] 1 candidate(s) found for the request path '/api/v1/cities'
2024-10-04 12:06:54.464 +03:30 [DBG] Endpoint 'Cityinfo.API.Controllers.CitiesController.GetCities (Cityinfo.API)' with route pattern 'api/v{version:apiVersion}/cities' is valid for the request path '/api/v1/cities'
2024-10-04 12:06:54.466 +03:30 [DBG] Request matched endpoint 'Cityinfo.API.Controllers.CitiesController.GetCities (Cityinfo.API)'
2024-10-04 12:06:54.469 +03:30 [INF] Failed to validate the token.
System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.FormatException: IDX10400: Unable to decode: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64url encoded string.
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoder.Decode(ReadOnlySpan`1 strSpan, Span`1 output, Boolean needReplace, Int32 decodedLength)
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoder.Decode(ReadOnlySpan`1 strSpan, Span`1 output)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(ReadOnlySpan`1 strSpan, Int32 startIndex, Int32 length, Boolean createHeaderClaimSet)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
2024-10-04 12:06:54.473 +03:30 [INF] Bearer was not authenticated. Failure message: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
2024-10-04 12:06:54.475 +03:30 [DBG] Policy authentication schemes  did not succeed
2024-10-04 12:06:54.477 +03:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-10-04 12:06:54.480 +03:30 [INF] AuthenticationScheme: Bearer was challenged.
2024-10-04 12:06:54.481 +03:30 [INF] Request finished HTTP/2 GET https://localhost:7016/api/v1/cities - 401 0 null 21.4312ms
2024-10-04 12:07:01.586 +03:30 [DBG] Connection id "0HN749TAOFG7S" received FIN.
2024-10-04 12:07:01.587 +03:30 [DBG] Connection id "0HN749TAOFG7S" is closed. The last processed stream ID was 1.
2024-10-04 12:07:01.588 +03:30 [DBG] The connection queue processing loop for 0HN749TAOFG7S completed.
2024-10-04 12:07:01.589 +03:30 [DBG] Connection id "0HN749TAOFG7S" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-04 12:07:01.601 +03:30 [DBG] Connection id "0HN749TAOFG7S" stopped.
2024-10-04 12:07:05.636 +03:30 [DBG] Connection id "0HN749TAOFG7T" accepted.
2024-10-04 12:07:05.637 +03:30 [DBG] Connection id "0HN749TAOFG7T" started.
2024-10-04 12:07:05.640 +03:30 [DBG] Connection 0HN749TAOFG7T established using the following protocol: "Tls13"
2024-10-04 12:07:05.642 +03:30 [INF] Request starting HTTP/2 GET https://localhost:7016/api/v1/cities - null null
2024-10-04 12:07:05.645 +03:30 [DBG] The request path  does not match the path filter
2024-10-04 12:07:05.646 +03:30 [DBG] 1 candidate(s) found for the request path '/api/v1/cities'
2024-10-04 12:07:05.647 +03:30 [DBG] Endpoint 'Cityinfo.API.Controllers.CitiesController.GetCities (Cityinfo.API)' with route pattern 'api/v{version:apiVersion}/cities' is valid for the request path '/api/v1/cities'
2024-10-04 12:07:05.648 +03:30 [DBG] Request matched endpoint 'Cityinfo.API.Controllers.CitiesController.GetCities (Cityinfo.API)'
2024-10-04 12:07:05.649 +03:30 [DBG] Successfully validated the token.
2024-10-04 12:07:05.650 +03:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-10-04 12:07:05.652 +03:30 [DBG] Authorization was successful.
2024-10-04 12:07:05.652 +03:30 [INF] Executing endpoint 'Cityinfo.API.Controllers.CitiesController.GetCities (Cityinfo.API)'
2024-10-04 12:07:05.653 +03:30 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Cityinfo.API.Models.CityWithoutPointOfInterestDto]]] GetCities() on controller Cityinfo.API.Controllers.CitiesController (Cityinfo.API).
2024-10-04 12:07:05.655 +03:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-04 12:07:05.656 +03:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-04 12:07:05.658 +03:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2024-10-04 12:07:05.660 +03:30 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-04 12:07:05.661 +03:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2024-10-04 12:07:05.663 +03:30 [DBG] Executing controller factory for controller Cityinfo.API.Controllers.CitiesController (Cityinfo.API)
2024-10-04 12:07:05.666 +03:30 [DBG] Executed controller factory for controller Cityinfo.API.Controllers.CitiesController (Cityinfo.API)
2024-10-04 12:07:05.667 +03:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-10-04 12:07:05.669 +03:30 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]' and explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'. The content types in the accept header must be a subset of the explicitly set content types.
2024-10-04 12:07:05.671 +03:30 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2024-10-04 12:07:05.672 +03:30 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-10-04 12:07:05.675 +03:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-10-04 12:07:05.676 +03:30 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2024-10-04 12:07:05.677 +03:30 [INF] Executed action Cityinfo.API.Controllers.CitiesController.GetCities (Cityinfo.API) in 14.1416ms
2024-10-04 12:07:05.679 +03:30 [INF] Executed endpoint 'Cityinfo.API.Controllers.CitiesController.GetCities (Cityinfo.API)'
2024-10-04 12:07:05.680 +03:30 [INF] Request finished HTTP/2 GET https://localhost:7016/api/v1/cities - 401 165 application/problem+json; charset=utf-8 37.2916ms
2024-10-04 12:07:11.594 +03:30 [DBG] Connection id "0HN749TAOFG7T" received FIN.
2024-10-04 12:07:11.595 +03:30 [DBG] Connection id "0HN749TAOFG7T" is closed. The last processed stream ID was 1.
2024-10-04 12:07:11.595 +03:30 [DBG] The connection queue processing loop for 0HN749TAOFG7T completed.
2024-10-04 12:07:11.597 +03:30 [DBG] Connection id "0HN749TAOFG7T" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-04 12:07:11.609 +03:30 [DBG] Connection id "0HN749TAOFG7T" stopped.
2024-10-04 12:07:17.779 +03:30 [DBG] Connection id "0HN749TAOFG7U" received FIN.
2024-10-04 12:07:17.781 +03:30 [DBG] Connection id "0HN749TAOFG7U" accepted.
2024-10-04 12:07:17.782 +03:30 [DBG] Connection id "0HN749TAOFG7U" started.
2024-10-04 12:07:17.784 +03:30 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-10-04 12:07:17.786 +03:30 [DBG] Connection id "0HN749TAOFG7U" stopped.
2024-10-04 12:07:17.787 +03:30 [DBG] Connection id "0HN749TAOFG7U" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-04 12:07:17.807 +03:30 [DBG] Connection id "0HN749TAOFG7V" accepted.
2024-10-04 12:07:17.809 +03:30 [DBG] Connection id "0HN749TAOFG7V" started.
2024-10-04 12:07:17.813 +03:30 [DBG] Connection 0HN749TAOFG7V established using the following protocol: "Tls13"
2024-10-04 12:07:17.815 +03:30 [INF] Request starting HTTP/2 GET https://localhost:7016/swagger/index.html - null null
2024-10-04 12:07:17.823 +03:30 [DBG] Response markup is scheduled to include Browser Link script injection.
2024-10-04 12:07:17.823 +03:30 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-10-04 12:07:17.824 +03:30 [DBG] Response markup was updated to include Browser Link script injection.
2024-10-04 12:07:17.825 +03:30 [DBG] Response markup was updated to include browser refresh script injection.
2024-10-04 12:07:17.826 +03:30 [INF] Request finished HTTP/2 GET https://localhost:7016/swagger/index.html - 200 null text/html;charset=utf-8 11.3649ms
2024-10-04 12:07:17.862 +03:30 [INF] Request starting HTTP/2 GET https://localhost:7016/_vs/browserLink - null null
2024-10-04 12:07:17.862 +03:30 [INF] Request starting HTTP/2 GET https://localhost:7016/_framework/aspnetcore-browser-refresh.js - null null
2024-10-04 12:07:17.868 +03:30 [INF] Request finished HTTP/2 GET https://localhost:7016/_framework/aspnetcore-browser-refresh.js - 200 13760 application/javascript; charset=utf-8 5.9442ms
2024-10-04 12:07:17.874 +03:30 [INF] Request finished HTTP/2 GET https://localhost:7016/_vs/browserLink - 200 null text/javascript; charset=UTF-8 12.7428ms
2024-10-04 12:07:18.019 +03:30 [INF] Request starting HTTP/2 GET https://localhost:7016/swagger/1.0/swagger.json - null null
2024-10-04 12:07:18.034 +03:30 [INF] Request finished HTTP/2 GET https://localhost:7016/swagger/1.0/swagger.json - 200 null application/json;charset=utf-8 15.2953ms
2024-10-04 12:07:21.610 +03:30 [DBG] Connection id "0HN749TAOFG7V" received FIN.
2024-10-04 12:07:21.612 +03:30 [DBG] Connection id "0HN749TAOFG7V" is closed. The last processed stream ID was 7.
2024-10-04 12:07:21.613 +03:30 [DBG] The connection queue processing loop for 0HN749TAOFG7V completed.
2024-10-04 12:07:21.614 +03:30 [DBG] Connection id "0HN749TAOFG7V" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-04 12:07:21.625 +03:30 [DBG] Connection id "0HN749TAOFG7V" stopped.
2024-10-04 12:07:30.725 +03:30 [DBG] Connection id "0HN749TAOFG80" received FIN.
2024-10-04 12:07:30.727 +03:30 [DBG] Connection id "0HN749TAOFG80" accepted.
2024-10-04 12:07:30.728 +03:30 [DBG] Connection id "0HN749TAOFG80" started.
2024-10-04 12:07:30.729 +03:30 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-10-04 12:07:30.732 +03:30 [DBG] Connection id "0HN749TAOFG80" stopped.
2024-10-04 12:07:30.733 +03:30 [DBG] Connection id "0HN749TAOFG80" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-04 12:07:30.960 +03:30 [DBG] Connection id "0HN749TAOFG81" accepted.
2024-10-04 12:07:30.961 +03:30 [DBG] Connection id "0HN749TAOFG81" started.
2024-10-04 12:07:31.013 +03:30 [DBG] Connection 0HN749TAOFG81 established using the following protocol: "Tls13"
2024-10-04 12:07:31.014 +03:30 [INF] Request starting HTTP/2 GET https://localhost:7016/swagger/index.html - null null
2024-10-04 12:07:31.020 +03:30 [DBG] Response markup is scheduled to include Browser Link script injection.
2024-10-04 12:07:31.021 +03:30 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-10-04 12:07:31.022 +03:30 [DBG] Response markup was updated to include Browser Link script injection.
2024-10-04 12:07:31.023 +03:30 [DBG] Response markup was updated to include browser refresh script injection.
2024-10-04 12:07:31.023 +03:30 [INF] Request finished HTTP/2 GET https://localhost:7016/swagger/index.html - 200 null text/html;charset=utf-8 8.8346ms
2024-10-04 12:07:31.063 +03:30 [INF] Request starting HTTP/2 GET https://localhost:7016/_framework/aspnetcore-browser-refresh.js - null null
2024-10-04 12:07:31.068 +03:30 [INF] Request finished HTTP/2 GET https://localhost:7016/_framework/aspnetcore-browser-refresh.js - 200 13760 application/javascript; charset=utf-8 5.0945ms
2024-10-04 12:07:31.070 +03:30 [INF] Request starting HTTP/2 GET https://localhost:7016/_vs/browserLink - null null
2024-10-04 12:07:31.077 +03:30 [INF] Request finished HTTP/2 GET https://localhost:7016/_vs/browserLink - 200 null text/javascript; charset=UTF-8 7.1889ms
2024-10-04 12:07:31.177 +03:30 [INF] Request starting HTTP/2 GET https://localhost:7016/swagger/1.0/swagger.json - null null
2024-10-04 12:07:31.191 +03:30 [INF] Request finished HTTP/2 GET https://localhost:7016/swagger/1.0/swagger.json - 200 null application/json;charset=utf-8 13.8467ms
2024-10-04 12:07:32.485 +03:30 [DBG] Connection id "0HN749TAOFG81" received FIN.
2024-10-04 12:07:32.486 +03:30 [DBG] Connection id "0HN749TAOFG81" is closed. The last processed stream ID was 7.
2024-10-04 12:07:32.486 +03:30 [DBG] The connection queue processing loop for 0HN749TAOFG81 completed.
2024-10-04 12:07:32.487 +03:30 [DBG] Connection id "0HN749TAOFG81" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-04 12:07:32.494 +03:30 [DBG] Connection id "0HN749TAOFG81" stopped.
2024-10-04 12:07:48.949 +03:30 [DBG] Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-10-04 12:07:49.006 +03:30 [DBG] Hosting starting
2024-10-04 12:07:49.028 +03:30 [INF] User profile is available. Using 'C:\Users\Ideapad 5\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-10-04 12:07:49.039 +03:30 [DBG] Reading data from file 'C:\Users\Ideapad 5\AppData\Local\ASP.NET\DataProtection-Keys\key-52a418f1-ba52-4a49-af2f-b85b42d29af6.xml'.
2024-10-04 12:07:49.054 +03:30 [DBG] Found key {52a418f1-ba52-4a49-af2f-b85b42d29af6}.
2024-10-04 12:07:49.062 +03:30 [DBG] Considering key {52a418f1-ba52-4a49-af2f-b85b42d29af6} with expiration date 2024-12-10 16:42:49Z as default key.
2024-10-04 12:07:49.064 +03:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-10-04 12:07:49.066 +03:30 [DBG] Decrypting secret element using Windows DPAPI.
2024-10-04 12:07:49.068 +03:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-10-04 12:07:49.071 +03:30 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-10-04 12:07:49.072 +03:30 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-10-04 12:07:49.074 +03:30 [DBG] Using key {52a418f1-ba52-4a49-af2f-b85b42d29af6} as the default key.
2024-10-04 12:07:49.074 +03:30 [DBG] Key ring with default key {52a418f1-ba52-4a49-af2f-b85b42d29af6} was loaded during application startup.
2024-10-04 12:07:49.174 +03:30 [DBG] Loaded hosting startup assembly Cityinfo.API
2024-10-04 12:07:49.174 +03:30 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2024-10-04 12:07:49.174 +03:30 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-10-04 12:07:49.174 +03:30 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-10-04 12:07:49.242 +03:30 [INF] Request starting HTTP/2 GET https://localhost:44345/swagger - null null
2024-10-04 12:07:49.247 +03:30 [WRN] An error occurred while trying to create a DataContractSerializer for the type 'Cityinfo.API.Models.ResponseError'.
System.Runtime.Serialization.InvalidDataContractException: Type 'Cityinfo.API.Models.ResponseError' cannot be serialized. Consider marking it with the DataContractAttribute attribute, and marking all of its members you want serialized with the DataMemberAttribute attribute. Alternatively, you can ensure that the type is public and has a parameterless constructor - all public members of the type will then be serialized, and no attributes will be required.
   at System.Runtime.Serialization.DataContracts.DataContract.DataContractCriticalHelper.ThrowInvalidDataContractException(String message, Type type)
   at System.Runtime.Serialization.DataContracts.DataContract.DataContractCriticalHelper.CreateDataContract(Type type)
   at System.Runtime.Serialization.DataContracts.DataContract.DataContractCriticalHelper.CreateDataContract(Int32 id, RuntimeTypeHandle typeHandle, Type type)
   at System.Runtime.Serialization.DataContracts.DataContract.DataContractCriticalHelper.GetDataContractSkipValidation(Int32 id, RuntimeTypeHandle typeHandle, Type type)
   at System.Runtime.Serialization.DataContracts.DataContract.GetDataContract(RuntimeTypeHandle typeHandle)
   at System.Runtime.Serialization.XsdDataContractExporter.GetRootElementName(Type type)
   at Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter.CreateSerializer(Type type)
2024-10-04 12:07:49.382 +03:30 [INF] Application started. Press Ctrl+C to shut down.
2024-10-04 12:07:49.383 +03:30 [INF] Hosting environment: Development
2024-10-04 12:07:49.383 +03:30 [INF] Content root path: C:\Users\Ideapad 5\source\repos\Cityinfo.API\Cityinfo.API
2024-10-04 12:07:49.383 +03:30 [DBG] Hosting started
2024-10-04 12:07:49.398 +03:30 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-10-04 12:07:49.452 +03:30 [DBG] Connection ID "18230571300991008779" disconnecting.
2024-10-04 12:07:49.461 +03:30 [INF] Request starting HTTP/2 GET https://localhost:44345/swagger/index.html - null null
2024-10-04 12:07:49.462 +03:30 [INF] Request finished HTTP/2 GET https://localhost:44345/swagger - 301 null null 231.2209ms
2024-10-04 12:07:49.497 +03:30 [DBG] Response markup is scheduled to include Browser Link script injection.
2024-10-04 12:07:49.498 +03:30 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-10-04 12:07:49.509 +03:30 [DBG] Response markup was updated to include Browser Link script injection.
2024-10-04 12:07:49.509 +03:30 [DBG] Response markup was updated to include browser refresh script injection.
2024-10-04 12:07:49.510 +03:30 [INF] Request finished HTTP/2 GET https://localhost:44345/swagger/index.html - 200 null text/html;charset=utf-8 48.7042ms
2024-10-04 12:07:49.514 +03:30 [DBG] Connection ID "18302628886439002116" disconnecting.
2024-10-04 12:07:49.539 +03:30 [INF] Request starting HTTP/2 GET https://localhost:44345/swagger/swagger-ui.css - null null
2024-10-04 12:07:49.541 +03:30 [INF] Request starting HTTP/2 GET https://localhost:44345/swagger/swagger-ui-standalone-preset.js - null null
2024-10-04 12:07:49.541 +03:30 [INF] Request starting HTTP/2 GET https://localhost:44345/swagger/swagger-ui-bundle.js - null null
2024-10-04 12:07:49.542 +03:30 [INF] Request starting HTTP/2 GET https://localhost:44345/_vs/browserLink - null null
2024-10-04 12:07:49.545 +03:30 [INF] Request starting HTTP/2 GET https://localhost:44345/_framework/aspnetcore-browser-refresh.js - null null
2024-10-04 12:07:49.554 +03:30 [DBG] Connection ID "18302628886439002118" disconnecting.
2024-10-04 12:07:49.556 +03:30 [INF] Request finished HTTP/2 GET https://localhost:44345/_framework/aspnetcore-browser-refresh.js - 200 13760 application/javascript; charset=utf-8 9.264ms
2024-10-04 12:07:49.593 +03:30 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2024-10-04 12:07:49.595 +03:30 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2024-10-04 12:07:49.595 +03:30 [DBG] Connection ID "18374686493361831939" disconnecting.
2024-10-04 12:07:49.595 +03:30 [INF] Request finished HTTP/2 GET https://localhost:44345/swagger/swagger-ui.css - 200 143943 text/css 55.963ms
2024-10-04 12:07:49.601 +03:30 [INF] Request finished HTTP/2 GET https://localhost:44345/swagger/swagger-ui-standalone-preset.js - 200 339486 text/javascript 59.8633ms
2024-10-04 12:07:49.606 +03:30 [DBG] Connection ID "18230571305285976065" disconnecting.
2024-10-04 12:07:49.610 +03:30 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2024-10-04 12:07:49.627 +03:30 [DBG] Connection ID "18158513711248048129" disconnecting.
2024-10-04 12:07:49.633 +03:30 [INF] Request finished HTTP/2 GET https://localhost:44345/_vs/browserLink - 200 null text/javascript; charset=UTF-8 90.952ms
2024-10-04 12:07:49.640 +03:30 [DBG] Connection ID "18302628899323904001" disconnecting.
2024-10-04 12:07:49.642 +03:30 [INF] Request finished HTTP/2 GET https://localhost:44345/swagger/swagger-ui-bundle.js - 200 1096145 text/javascript 101.7011ms
2024-10-04 12:07:49.821 +03:30 [INF] Request starting HTTP/2 GET https://localhost:44345/swagger/1.0/swagger.json - null null
2024-10-04 12:07:49.909 +03:30 [INF] Request starting HTTP/2 GET https://localhost:44345/swagger/favicon-32x32.png - null null
2024-10-04 12:07:49.911 +03:30 [INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2024-10-04 12:07:49.911 +03:30 [DBG] Connection ID "18374686523426603013" disconnecting.
2024-10-04 12:07:49.911 +03:30 [INF] Request finished HTTP/2 GET https://localhost:44345/swagger/favicon-32x32.png - 200 628 image/png 2.0452ms
2024-10-04 12:07:49.975 +03:30 [INF] Request finished HTTP/2 GET https://localhost:44345/swagger/1.0/swagger.json - 200 null application/json;charset=utf-8 154.0699ms
2024-10-04 12:07:49.975 +03:30 [DBG] Connection ID "18230571300991008781" disconnecting.
2024-10-04 12:07:54.263 +03:30 [INF] Request starting HTTP/2 GET https://localhost:44345/api/v1/cities - null null
2024-10-04 12:07:54.264 +03:30 [DBG] The request path  does not match the path filter
2024-10-04 12:07:54.305 +03:30 [DBG] 1 candidate(s) found for the request path '/api/v1/cities'
2024-10-04 12:07:54.307 +03:30 [DBG] Endpoint 'Cityinfo.API.Controllers.CitiesController.GetCities (Cityinfo.API)' with route pattern 'api/v{version:apiVersion}/cities' is valid for the request path '/api/v1/cities'
2024-10-04 12:07:54.312 +03:30 [DBG] Request matched endpoint 'Cityinfo.API.Controllers.CitiesController.GetCities (Cityinfo.API)'
2024-10-04 12:07:54.388 +03:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-10-04 12:07:54.390 +03:30 [DBG] Policy authentication schemes  did not succeed
2024-10-04 12:07:54.392 +03:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-10-04 12:07:54.396 +03:30 [INF] AuthenticationScheme: Bearer was challenged.
2024-10-04 12:07:54.397 +03:30 [INF] Request finished HTTP/2 GET https://localhost:44345/api/v1/cities - 401 null null 133.9037ms
2024-10-04 12:07:54.397 +03:30 [DBG] Connection ID "18230571318170877958" disconnecting.
2024-10-04 12:08:04.403 +03:30 [INF] Request starting HTTP/2 GET https://localhost:44345/api/v1/cities - null null
2024-10-04 12:08:04.403 +03:30 [DBG] The request path  does not match the path filter
2024-10-04 12:08:04.405 +03:30 [DBG] 1 candidate(s) found for the request path '/api/v1/cities'
2024-10-04 12:08:04.405 +03:30 [DBG] Endpoint 'Cityinfo.API.Controllers.CitiesController.GetCities (Cityinfo.API)' with route pattern 'api/v{version:apiVersion}/cities' is valid for the request path '/api/v1/cities'
2024-10-04 12:08:04.405 +03:30 [DBG] Request matched endpoint 'Cityinfo.API.Controllers.CitiesController.GetCities (Cityinfo.API)'
2024-10-04 12:08:04.461 +03:30 [DBG] Successfully validated the token.
2024-10-04 12:08:04.462 +03:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-10-04 12:08:04.463 +03:30 [DBG] Authorization was successful.
2024-10-04 12:08:04.464 +03:30 [INF] Executing endpoint 'Cityinfo.API.Controllers.CitiesController.GetCities (Cityinfo.API)'
2024-10-04 12:08:04.479 +03:30 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Cityinfo.API.Models.CityWithoutPointOfInterestDto]]] GetCities() on controller Cityinfo.API.Controllers.CitiesController (Cityinfo.API).
2024-10-04 12:08:04.481 +03:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-04 12:08:04.481 +03:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-04 12:08:04.481 +03:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2024-10-04 12:08:04.481 +03:30 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-04 12:08:04.481 +03:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2024-10-04 12:08:04.483 +03:30 [DBG] Executing controller factory for controller Cityinfo.API.Controllers.CitiesController (Cityinfo.API)
2024-10-04 12:08:04.582 +03:30 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-10-04 12:08:04.677 +03:30 [DBG] Executed controller factory for controller Cityinfo.API.Controllers.CitiesController (Cityinfo.API)
2024-10-04 12:11:59.930 +03:30 [DBG] Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-10-04 12:11:59.968 +03:30 [DBG] Hosting starting
2024-10-04 12:11:59.989 +03:30 [INF] User profile is available. Using 'C:\Users\Ideapad 5\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-10-04 12:11:59.998 +03:30 [DBG] Reading data from file 'C:\Users\Ideapad 5\AppData\Local\ASP.NET\DataProtection-Keys\key-52a418f1-ba52-4a49-af2f-b85b42d29af6.xml'.
2024-10-04 12:12:00.011 +03:30 [DBG] Found key {52a418f1-ba52-4a49-af2f-b85b42d29af6}.
2024-10-04 12:12:00.020 +03:30 [DBG] Considering key {52a418f1-ba52-4a49-af2f-b85b42d29af6} with expiration date 2024-12-10 16:42:49Z as default key.
2024-10-04 12:12:00.025 +03:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-10-04 12:12:00.027 +03:30 [DBG] Decrypting secret element using Windows DPAPI.
2024-10-04 12:12:00.029 +03:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-10-04 12:12:00.032 +03:30 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-10-04 12:12:00.033 +03:30 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-10-04 12:12:00.035 +03:30 [DBG] Using key {52a418f1-ba52-4a49-af2f-b85b42d29af6} as the default key.
2024-10-04 12:12:00.036 +03:30 [DBG] Key ring with default key {52a418f1-ba52-4a49-af2f-b85b42d29af6} was loaded during application startup.
2024-10-04 12:12:00.124 +03:30 [DBG] Loaded hosting startup assembly Cityinfo.API
2024-10-04 12:12:00.125 +03:30 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2024-10-04 12:12:00.125 +03:30 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-10-04 12:12:00.125 +03:30 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-10-04 12:12:00.169 +03:30 [INF] Request starting HTTP/2 GET https://localhost:44345/swagger/index.html - null null
2024-10-04 12:12:00.193 +03:30 [WRN] An error occurred while trying to create a DataContractSerializer for the type 'Cityinfo.API.Models.ResponseError'.
System.Runtime.Serialization.InvalidDataContractException: Type 'Cityinfo.API.Models.ResponseError' cannot be serialized. Consider marking it with the DataContractAttribute attribute, and marking all of its members you want serialized with the DataMemberAttribute attribute. Alternatively, you can ensure that the type is public and has a parameterless constructor - all public members of the type will then be serialized, and no attributes will be required.
   at System.Runtime.Serialization.DataContracts.DataContract.DataContractCriticalHelper.ThrowInvalidDataContractException(String message, Type type)
   at System.Runtime.Serialization.DataContracts.DataContract.DataContractCriticalHelper.CreateDataContract(Type type)
   at System.Runtime.Serialization.DataContracts.DataContract.DataContractCriticalHelper.CreateDataContract(Int32 id, RuntimeTypeHandle typeHandle, Type type)
   at System.Runtime.Serialization.DataContracts.DataContract.DataContractCriticalHelper.GetDataContractSkipValidation(Int32 id, RuntimeTypeHandle typeHandle, Type type)
   at System.Runtime.Serialization.DataContracts.DataContract.GetDataContract(RuntimeTypeHandle typeHandle)
   at System.Runtime.Serialization.XsdDataContractExporter.GetRootElementName(Type type)
   at Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter.CreateSerializer(Type type)
2024-10-04 12:12:00.298 +03:30 [INF] Application started. Press Ctrl+C to shut down.
2024-10-04 12:12:00.299 +03:30 [INF] Hosting environment: Development
2024-10-04 12:12:00.299 +03:30 [INF] Content root path: C:\Users\Ideapad 5\source\repos\Cityinfo.API\Cityinfo.API
2024-10-04 12:12:00.299 +03:30 [DBG] Hosting started
2024-10-04 12:12:00.310 +03:30 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-10-04 12:12:00.371 +03:30 [DBG] Response markup is scheduled to include Browser Link script injection.
2024-10-04 12:12:00.373 +03:30 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-10-04 12:12:00.396 +03:30 [DBG] Response markup was updated to include Browser Link script injection.
2024-10-04 12:12:00.397 +03:30 [DBG] Response markup was updated to include browser refresh script injection.
2024-10-04 12:12:00.403 +03:30 [DBG] Connection ID "18230571300991008783" disconnecting.
2024-10-04 12:12:00.404 +03:30 [INF] Request finished HTTP/2 GET https://localhost:44345/swagger/index.html - 200 null text/html;charset=utf-8 238.6524ms
2024-10-04 12:12:00.445 +03:30 [INF] Request starting HTTP/2 GET https://localhost:44345/_vs/browserLink - null null
2024-10-04 12:12:00.445 +03:30 [INF] Request starting HTTP/2 GET https://localhost:44345/_framework/aspnetcore-browser-refresh.js - null null
2024-10-04 12:12:00.453 +03:30 [DBG] Connection ID "18302628929388675073" disconnecting.
2024-10-04 12:12:00.453 +03:30 [INF] Request finished HTTP/2 GET https://localhost:44345/_framework/aspnetcore-browser-refresh.js - 200 13760 application/javascript; charset=utf-8 4.1855ms
2024-10-04 12:12:00.489 +03:30 [DBG] Connection ID "18086456130095022081" disconnecting.
2024-10-04 12:12:00.490 +03:30 [INF] Request finished HTTP/2 GET https://localhost:44345/_vs/browserLink - 200 null text/javascript; charset=UTF-8 45.2784ms
2024-10-04 12:12:00.626 +03:30 [INF] Request starting HTTP/2 GET https://localhost:44345/swagger/1.0/swagger.json - null null
2024-10-04 12:12:00.794 +03:30 [INF] Request finished HTTP/2 GET https://localhost:44345/swagger/1.0/swagger.json - 200 null application/json;charset=utf-8 167.816ms
2024-10-04 12:12:00.797 +03:30 [DBG] Connection ID "18302628886439002120" disconnecting.
2024-10-04 12:12:11.603 +03:30 [INF] Request starting HTTP/2 GET https://localhost:44345/api/v1/cities - null null
2024-10-04 12:12:11.606 +03:30 [DBG] The request path  does not match the path filter
2024-10-04 12:12:11.653 +03:30 [DBG] 1 candidate(s) found for the request path '/api/v1/cities'
2024-10-04 12:12:11.656 +03:30 [DBG] Endpoint 'Cityinfo.API.Controllers.CitiesController.GetCities (Cityinfo.API)' with route pattern 'api/v{version:apiVersion}/cities' is valid for the request path '/api/v1/cities'
2024-10-04 12:12:11.661 +03:30 [DBG] Request matched endpoint 'Cityinfo.API.Controllers.CitiesController.GetCities (Cityinfo.API)'
2024-10-04 12:12:11.760 +03:30 [DBG] Successfully validated the token.
2024-10-04 12:12:11.761 +03:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-10-04 12:12:11.766 +03:30 [DBG] Authorization was successful.
2024-10-04 12:12:11.767 +03:30 [INF] Executing endpoint 'Cityinfo.API.Controllers.CitiesController.GetCities (Cityinfo.API)'
2024-10-04 12:12:11.782 +03:30 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Cityinfo.API.Models.CityWithoutPointOfInterestDto]]] GetCities() on controller Cityinfo.API.Controllers.CitiesController (Cityinfo.API).
2024-10-04 12:12:11.783 +03:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-04 12:12:11.783 +03:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-04 12:12:11.784 +03:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2024-10-04 12:12:11.784 +03:30 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-04 12:12:11.784 +03:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2024-10-04 12:12:11.785 +03:30 [DBG] Executing controller factory for controller Cityinfo.API.Controllers.CitiesController (Cityinfo.API)
2024-10-04 12:12:11.882 +03:30 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-10-04 12:12:11.972 +03:30 [DBG] Executed controller factory for controller Cityinfo.API.Controllers.CitiesController (Cityinfo.API)
2024-10-04 12:17:55.953 +03:30 [DBG] Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-10-04 12:17:55.998 +03:30 [DBG] Hosting starting
2024-10-04 12:17:56.018 +03:30 [INF] User profile is available. Using 'C:\Users\Ideapad 5\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-10-04 12:17:56.026 +03:30 [DBG] Reading data from file 'C:\Users\Ideapad 5\AppData\Local\ASP.NET\DataProtection-Keys\key-52a418f1-ba52-4a49-af2f-b85b42d29af6.xml'.
2024-10-04 12:17:56.039 +03:30 [DBG] Found key {52a418f1-ba52-4a49-af2f-b85b42d29af6}.
2024-10-04 12:17:56.045 +03:30 [DBG] Considering key {52a418f1-ba52-4a49-af2f-b85b42d29af6} with expiration date 2024-12-10 16:42:49Z as default key.
2024-10-04 12:17:56.047 +03:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-10-04 12:17:56.048 +03:30 [DBG] Decrypting secret element using Windows DPAPI.
2024-10-04 12:17:56.050 +03:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-10-04 12:17:56.053 +03:30 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-10-04 12:17:56.054 +03:30 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-10-04 12:17:56.055 +03:30 [DBG] Using key {52a418f1-ba52-4a49-af2f-b85b42d29af6} as the default key.
2024-10-04 12:17:56.056 +03:30 [DBG] Key ring with default key {52a418f1-ba52-4a49-af2f-b85b42d29af6} was loaded during application startup.
2024-10-04 12:17:56.161 +03:30 [DBG] Loaded hosting startup assembly Cityinfo.API
2024-10-04 12:17:56.161 +03:30 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2024-10-04 12:17:56.161 +03:30 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-10-04 12:17:56.161 +03:30 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-10-04 12:17:56.224 +03:30 [INF] Request starting HTTP/2 GET https://localhost:44345/swagger/index.html - null null
2024-10-04 12:17:56.248 +03:30 [WRN] An error occurred while trying to create a DataContractSerializer for the type 'Cityinfo.API.Models.ResponseError'.
System.Runtime.Serialization.InvalidDataContractException: Type 'Cityinfo.API.Models.ResponseError' cannot be serialized. Consider marking it with the DataContractAttribute attribute, and marking all of its members you want serialized with the DataMemberAttribute attribute. Alternatively, you can ensure that the type is public and has a parameterless constructor - all public members of the type will then be serialized, and no attributes will be required.
   at System.Runtime.Serialization.DataContracts.DataContract.DataContractCriticalHelper.ThrowInvalidDataContractException(String message, Type type)
   at System.Runtime.Serialization.DataContracts.DataContract.DataContractCriticalHelper.CreateDataContract(Type type)
   at System.Runtime.Serialization.DataContracts.DataContract.DataContractCriticalHelper.CreateDataContract(Int32 id, RuntimeTypeHandle typeHandle, Type type)
   at System.Runtime.Serialization.DataContracts.DataContract.DataContractCriticalHelper.GetDataContractSkipValidation(Int32 id, RuntimeTypeHandle typeHandle, Type type)
   at System.Runtime.Serialization.DataContracts.DataContract.GetDataContract(RuntimeTypeHandle typeHandle)
   at System.Runtime.Serialization.XsdDataContractExporter.GetRootElementName(Type type)
   at Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter.CreateSerializer(Type type)
2024-10-04 12:17:56.370 +03:30 [INF] Application started. Press Ctrl+C to shut down.
2024-10-04 12:17:56.370 +03:30 [INF] Hosting environment: Development
2024-10-04 12:17:56.370 +03:30 [INF] Content root path: C:\Users\Ideapad 5\source\repos\Cityinfo.API\Cityinfo.API
2024-10-04 12:17:56.370 +03:30 [DBG] Hosting started
2024-10-04 12:17:56.371 +03:30 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-10-04 12:17:56.439 +03:30 [DBG] Response markup is scheduled to include Browser Link script injection.
2024-10-04 12:17:56.440 +03:30 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-10-04 12:17:56.469 +03:30 [DBG] Response markup was updated to include Browser Link script injection.
2024-10-04 12:17:56.470 +03:30 [DBG] Response markup was updated to include browser refresh script injection.
2024-10-04 12:17:56.472 +03:30 [DBG] Connection ID "18374686480476930058" disconnecting.
2024-10-04 12:17:56.475 +03:30 [INF] Request finished HTTP/2 GET https://localhost:44345/swagger/index.html - 200 null text/html;charset=utf-8 257.5185ms
2024-10-04 12:17:56.508 +03:30 [INF] Request starting HTTP/2 GET https://localhost:44345/_framework/aspnetcore-browser-refresh.js - null null
2024-10-04 12:17:56.510 +03:30 [INF] Request starting HTTP/2 GET https://localhost:44345/_vs/browserLink - null null
2024-10-04 12:17:56.517 +03:30 [DBG] Connection ID "18374686480476930060" disconnecting.
2024-10-04 12:17:56.518 +03:30 [INF] Request finished HTTP/2 GET https://localhost:44345/_framework/aspnetcore-browser-refresh.js - 200 13760 application/javascript; charset=utf-8 4.9233ms
2024-10-04 12:17:56.564 +03:30 [DBG] Connection ID "18374686527721570308" disconnecting.
2024-10-04 12:17:56.565 +03:30 [INF] Request finished HTTP/2 GET https://localhost:44345/_vs/browserLink - 200 null text/javascript; charset=UTF-8 54.6266ms
2024-10-04 12:17:56.615 +03:30 [INF] Request starting HTTP/2 GET https://localhost:44345/swagger/1.0/swagger.json - null null
2024-10-04 12:17:56.884 +03:30 [DBG] Connection ID "18086456130095022084" disconnecting.
2024-10-04 12:17:56.884 +03:30 [INF] Request finished HTTP/2 GET https://localhost:44345/swagger/1.0/swagger.json - 200 null application/json;charset=utf-8 269.7657ms
2024-10-04 12:18:15.036 +03:30 [INF] Request starting HTTP/2 POST https://localhost:44345/api/v1/users/login - application/json-patch+json 53
2024-10-04 12:18:15.038 +03:30 [DBG] POST requests are not supported
2024-10-04 12:18:15.079 +03:30 [DBG] 1 candidate(s) found for the request path '/api/v1/users/login'
2024-10-04 12:18:15.082 +03:30 [DBG] Endpoint 'Cityinfo.API.Controllers.UsersController.Login (Cityinfo.API)' with route pattern 'api/v{version:apiVersion}/users/login' is valid for the request path '/api/v1/users/login'
2024-10-04 12:18:15.085 +03:30 [DBG] Request matched endpoint 'Cityinfo.API.Controllers.UsersController.Login (Cityinfo.API)'
2024-10-04 12:18:15.141 +03:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-10-04 12:18:15.143 +03:30 [INF] Executing endpoint 'Cityinfo.API.Controllers.UsersController.Login (Cityinfo.API)'
2024-10-04 12:18:15.162 +03:30 [INF] Route matched with {action = "Login", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Cityinfo.API.Models.RegisterRequest) on controller Cityinfo.API.Controllers.UsersController (Cityinfo.API).
2024-10-04 12:18:15.163 +03:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-04 12:18:15.163 +03:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-04 12:18:15.163 +03:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2024-10-04 12:18:15.164 +03:30 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-04 12:18:15.164 +03:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2024-10-04 12:18:15.165 +03:30 [DBG] Executing controller factory for controller Cityinfo.API.Controllers.UsersController (Cityinfo.API)
2024-10-04 12:18:15.264 +03:30 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-10-04 12:18:15.347 +03:30 [DBG] Executed controller factory for controller Cityinfo.API.Controllers.UsersController (Cityinfo.API)
2024-10-04 12:18:15.352 +03:30 [DBG] Attempting to bind parameter 'registerRequest' of type 'Cityinfo.API.Models.RegisterRequest' ...
2024-10-04 12:18:15.354 +03:30 [DBG] Attempting to bind parameter 'registerRequest' of type 'Cityinfo.API.Models.RegisterRequest' using the name '' in request data ...
2024-10-04 12:18:15.355 +03:30 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2024-10-04 12:18:15.356 +03:30 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2024-10-04 12:18:15.445 +03:30 [DBG] Done attempting to bind parameter 'registerRequest' of type 'Cityinfo.API.Models.RegisterRequest'.
2024-10-04 12:18:15.445 +03:30 [DBG] Done attempting to bind parameter 'registerRequest' of type 'Cityinfo.API.Models.RegisterRequest'.
2024-10-04 12:18:15.445 +03:30 [DBG] Attempting to validate the bound parameter 'registerRequest' of type 'Cityinfo.API.Models.RegisterRequest' ...
2024-10-04 12:18:15.450 +03:30 [DBG] Done attempting to validate the bound parameter 'registerRequest' of type 'Cityinfo.API.Models.RegisterRequest'.
2024-10-04 12:18:16.103 +03:30 [DBG] Entity Framework Core 8.0.8 initialized 'CityInfoDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.8' with options: None
2024-10-04 12:18:16.132 +03:30 [DBG] Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(u => u.Name == __name_0)'
2024-10-04 12:18:16.308 +03:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.Name (string) Required MaxLength(50), 1], [Property: User.Password (string) Required, 2], [Property: User.Role (Role) Required, 3] }
            SELECT TOP(1) u.Id, u.Name, u.Password, u.Role
            FROM Users AS u
            WHERE u.Name == @__name_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        Cityinfo.API.DbContexts.CityInfoDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-10-04 12:18:16.340 +03:30 [DBG] Creating DbConnection.
2024-10-04 12:18:16.348 +03:30 [DBG] Created DbConnection. (9ms).
2024-10-04 12:18:16.351 +03:30 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-10-04 12:18:16.369 +03:30 [DBG] Opened connection to database 'main' on server 'C:\Users\Ideapad 5\source\repos\Cityinfo.API\Cityinfo.API\CityInfo.db'.
2024-10-04 12:18:16.372 +03:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-04 12:18:16.377 +03:30 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-10-04 12:18:16.380 +03:30 [DBG] Initialized DbCommand for 'ExecuteReader' (8ms).
2024-10-04 12:18:16.385 +03:30 [DBG] Executing DbCommand [Parameters=[@__name_0='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."Name", "u"."Password", "u"."Role"
FROM "Users" AS "u"
WHERE "u"."Name" = @__name_0
LIMIT 1
2024-10-04 12:18:16.406 +03:30 [INF] Executed DbCommand (20ms) [Parameters=[@__name_0='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."Name", "u"."Password", "u"."Role"
FROM "Users" AS "u"
WHERE "u"."Name" = @__name_0
LIMIT 1
2024-10-04 12:18:16.424 +03:30 [DBG] Context 'CityInfoDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-04 12:18:16.442 +03:30 [DBG] Closing data reader to 'main' on server 'C:\Users\Ideapad 5\source\repos\Cityinfo.API\Cityinfo.API\CityInfo.db'.
2024-10-04 12:18:16.447 +03:30 [DBG] A data reader for 'main' on server 'C:\Users\Ideapad 5\source\repos\Cityinfo.API\Cityinfo.API\CityInfo.db' is being disposed after spending 37ms reading results.
2024-10-04 12:18:16.450 +03:30 [DBG] Closing connection to database 'main' on server 'C:\Users\Ideapad 5\source\repos\Cityinfo.API\Cityinfo.API\CityInfo.db'.
2024-10-04 12:18:16.452 +03:30 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (2ms).
2024-10-04 12:18:16.833 +03:30 [INF] Executing StatusCodeResult, setting HTTP status code 204
2024-10-04 12:18:16.836 +03:30 [INF] Executed action Cityinfo.API.Controllers.UsersController.Login (Cityinfo.API) in 1669.3647ms
2024-10-04 12:18:16.837 +03:30 [INF] Executed endpoint 'Cityinfo.API.Controllers.UsersController.Login (Cityinfo.API)'
2024-10-04 12:18:16.839 +03:30 [DBG] Connection ID "18374686480476930062" disconnecting.
2024-10-04 12:18:16.840 +03:30 [DBG] 'CityInfoDbContext' disposed.
2024-10-04 12:18:16.845 +03:30 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2024-10-04 12:18:16.846 +03:30 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (1ms).
2024-10-04 12:18:16.847 +03:30 [INF] Request finished HTTP/2 POST https://localhost:44345/api/v1/users/login - 204 null null 1811.6462ms
2024-10-04 12:18:30.739 +03:30 [INF] Request starting HTTP/2 GET https://localhost:44345/api/v1/cities - null null
2024-10-04 12:18:30.740 +03:30 [DBG] The request path  does not match the path filter
2024-10-04 12:18:30.741 +03:30 [DBG] 1 candidate(s) found for the request path '/api/v1/cities'
2024-10-04 12:18:30.741 +03:30 [DBG] Endpoint 'Cityinfo.API.Controllers.CitiesController.GetCities (Cityinfo.API)' with route pattern 'api/v{version:apiVersion}/cities' is valid for the request path '/api/v1/cities'
2024-10-04 12:18:30.742 +03:30 [DBG] Request matched endpoint 'Cityinfo.API.Controllers.CitiesController.GetCities (Cityinfo.API)'
2024-10-04 12:18:30.772 +03:30 [DBG] Successfully validated the token.
2024-10-04 12:18:30.773 +03:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-10-04 12:18:30.778 +03:30 [DBG] Authorization was successful.
2024-10-04 12:18:30.779 +03:30 [INF] Executing endpoint 'Cityinfo.API.Controllers.CitiesController.GetCities (Cityinfo.API)'
2024-10-04 12:18:30.782 +03:30 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Cityinfo.API.Models.CityWithoutPointOfInterestDto]]] GetCities() on controller Cityinfo.API.Controllers.CitiesController (Cityinfo.API).
2024-10-04 12:18:30.782 +03:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-04 12:18:30.782 +03:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-04 12:18:30.782 +03:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2024-10-04 12:18:30.782 +03:30 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-04 12:18:30.783 +03:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2024-10-04 12:18:30.783 +03:30 [DBG] Executing controller factory for controller Cityinfo.API.Controllers.CitiesController (Cityinfo.API)
2024-10-04 12:18:30.784 +03:30 [DBG] Executed controller factory for controller Cityinfo.API.Controllers.CitiesController (Cityinfo.API)
2024-10-04 12:18:30.797 +03:30 [DBG] Entity Framework Core 8.0.8 initialized 'CityInfoDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.8' with options: None
2024-10-04 12:18:30.798 +03:30 [DBG] Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(u => u.Id == __userId_0)'
2024-10-04 12:18:30.803 +03:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.Name (string) Required MaxLength(50), 1], [Property: User.Password (string) Required, 2], [Property: User.Role (Role) Required, 3] }
            SELECT TOP(1) u.Id, u.Name, u.Password, u.Role
            FROM Users AS u
            WHERE u.Id == @__userId_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        Cityinfo.API.DbContexts.CityInfoDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-10-04 12:18:30.803 +03:30 [DBG] Creating DbConnection.
2024-10-04 12:18:30.804 +03:30 [DBG] Created DbConnection. (0ms).
2024-10-04 12:18:30.804 +03:30 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-10-04 12:18:30.804 +03:30 [DBG] Opened connection to database 'main' on server 'C:\Users\Ideapad 5\source\repos\Cityinfo.API\Cityinfo.API\CityInfo.db'.
2024-10-04 12:18:30.804 +03:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-04 12:18:30.804 +03:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-10-04 12:18:30.805 +03:30 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-10-04 12:18:30.805 +03:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."Name", "u"."Password", "u"."Role"
FROM "Users" AS "u"
WHERE "u"."Id" = @__userId_0
LIMIT 1
2024-10-04 12:18:30.806 +03:30 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."Name", "u"."Password", "u"."Role"
FROM "Users" AS "u"
WHERE "u"."Id" = @__userId_0
LIMIT 1
2024-10-04 12:18:30.807 +03:30 [DBG] Context 'CityInfoDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-04 12:18:30.807 +03:30 [DBG] Closing data reader to 'main' on server 'C:\Users\Ideapad 5\source\repos\Cityinfo.API\Cityinfo.API\CityInfo.db'.
2024-10-04 12:18:30.807 +03:30 [DBG] A data reader for 'main' on server 'C:\Users\Ideapad 5\source\repos\Cityinfo.API\Cityinfo.API\CityInfo.db' is being disposed after spending 0ms reading results.
2024-10-04 12:18:30.807 +03:30 [DBG] Closing connection to database 'main' on server 'C:\Users\Ideapad 5\source\repos\Cityinfo.API\Cityinfo.API\CityInfo.db'.
2024-10-04 12:18:30.807 +03:30 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (0ms).
2024-10-04 12:19:11.876 +03:30 [DBG] Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-10-04 12:19:11.914 +03:30 [DBG] Hosting starting
2024-10-04 12:19:11.936 +03:30 [INF] User profile is available. Using 'C:\Users\Ideapad 5\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-10-04 12:19:11.944 +03:30 [DBG] Reading data from file 'C:\Users\Ideapad 5\AppData\Local\ASP.NET\DataProtection-Keys\key-52a418f1-ba52-4a49-af2f-b85b42d29af6.xml'.
2024-10-04 12:19:11.959 +03:30 [DBG] Found key {52a418f1-ba52-4a49-af2f-b85b42d29af6}.
2024-10-04 12:19:11.966 +03:30 [DBG] Considering key {52a418f1-ba52-4a49-af2f-b85b42d29af6} with expiration date 2024-12-10 16:42:49Z as default key.
2024-10-04 12:19:11.968 +03:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-10-04 12:19:11.969 +03:30 [DBG] Decrypting secret element using Windows DPAPI.
2024-10-04 12:19:11.971 +03:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-10-04 12:19:11.974 +03:30 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-10-04 12:19:11.975 +03:30 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-10-04 12:19:11.976 +03:30 [DBG] Using key {52a418f1-ba52-4a49-af2f-b85b42d29af6} as the default key.
2024-10-04 12:19:11.977 +03:30 [DBG] Key ring with default key {52a418f1-ba52-4a49-af2f-b85b42d29af6} was loaded during application startup.
2024-10-04 12:19:12.086 +03:30 [DBG] Loaded hosting startup assembly Cityinfo.API
2024-10-04 12:19:12.086 +03:30 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2024-10-04 12:19:12.086 +03:30 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-10-04 12:19:12.086 +03:30 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-10-04 12:19:12.134 +03:30 [INF] Request starting HTTP/2 GET https://localhost:44345/swagger/index.html - null null
2024-10-04 12:19:12.154 +03:30 [WRN] An error occurred while trying to create a DataContractSerializer for the type 'Cityinfo.API.Models.ResponseError'.
System.Runtime.Serialization.InvalidDataContractException: Type 'Cityinfo.API.Models.ResponseError' cannot be serialized. Consider marking it with the DataContractAttribute attribute, and marking all of its members you want serialized with the DataMemberAttribute attribute. Alternatively, you can ensure that the type is public and has a parameterless constructor - all public members of the type will then be serialized, and no attributes will be required.
   at System.Runtime.Serialization.DataContracts.DataContract.DataContractCriticalHelper.ThrowInvalidDataContractException(String message, Type type)
   at System.Runtime.Serialization.DataContracts.DataContract.DataContractCriticalHelper.CreateDataContract(Type type)
   at System.Runtime.Serialization.DataContracts.DataContract.DataContractCriticalHelper.CreateDataContract(Int32 id, RuntimeTypeHandle typeHandle, Type type)
   at System.Runtime.Serialization.DataContracts.DataContract.DataContractCriticalHelper.GetDataContractSkipValidation(Int32 id, RuntimeTypeHandle typeHandle, Type type)
   at System.Runtime.Serialization.DataContracts.DataContract.GetDataContract(RuntimeTypeHandle typeHandle)
   at System.Runtime.Serialization.XsdDataContractExporter.GetRootElementName(Type type)
   at Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter.CreateSerializer(Type type)
2024-10-04 12:19:12.256 +03:30 [INF] Application started. Press Ctrl+C to shut down.
2024-10-04 12:19:12.257 +03:30 [INF] Hosting environment: Development
2024-10-04 12:19:12.257 +03:30 [INF] Content root path: C:\Users\Ideapad 5\source\repos\Cityinfo.API\Cityinfo.API
2024-10-04 12:19:12.257 +03:30 [DBG] Hosting started
2024-10-04 12:19:12.271 +03:30 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-10-04 12:19:12.332 +03:30 [DBG] Response markup is scheduled to include Browser Link script injection.
2024-10-04 12:19:12.334 +03:30 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-10-04 12:19:12.361 +03:30 [DBG] Response markup was updated to include Browser Link script injection.
2024-10-04 12:19:12.362 +03:30 [DBG] Response markup was updated to include browser refresh script injection.
2024-10-04 12:19:12.369 +03:30 [DBG] Connection ID "18158513711248048131" disconnecting.
2024-10-04 12:19:12.371 +03:30 [INF] Request finished HTTP/2 GET https://localhost:44345/swagger/index.html - 200 null text/html;charset=utf-8 241.3776ms
2024-10-04 12:19:12.397 +03:30 [INF] Request starting HTTP/2 GET https://localhost:44345/_framework/aspnetcore-browser-refresh.js - null null
2024-10-04 12:19:12.397 +03:30 [INF] Request starting HTTP/2 GET https://localhost:44345/_vs/browserLink - null null
2024-10-04 12:19:12.405 +03:30 [DBG] Connection ID "18086456138684956673" disconnecting.
2024-10-04 12:19:12.405 +03:30 [INF] Request finished HTTP/2 GET https://localhost:44345/_framework/aspnetcore-browser-refresh.js - 200 13760 application/javascript; charset=utf-8 4.0763ms
2024-10-04 12:19:12.435 +03:30 [DBG] Connection ID "18374686527721570310" disconnecting.
2024-10-04 12:19:12.441 +03:30 [INF] Request finished HTTP/2 GET https://localhost:44345/_vs/browserLink - 200 null text/javascript; charset=UTF-8 43.2219ms
2024-10-04 12:19:12.481 +03:30 [INF] Request starting HTTP/2 GET https://localhost:44345/swagger/1.0/swagger.json - null null
2024-10-04 12:19:12.652 +03:30 [INF] Request finished HTTP/2 GET https://localhost:44345/swagger/1.0/swagger.json - 200 null application/json;charset=utf-8 170.5817ms
2024-10-04 12:19:12.655 +03:30 [DBG] Connection ID "18230571300991008787" disconnecting.
2024-10-04 12:19:18.899 +03:30 [INF] Request starting HTTP/2 GET https://localhost:44345/api/v1/cities - null null
2024-10-04 12:19:18.901 +03:30 [DBG] The request path  does not match the path filter
2024-10-04 12:19:18.945 +03:30 [DBG] 1 candidate(s) found for the request path '/api/v1/cities'
2024-10-04 12:19:18.948 +03:30 [DBG] Endpoint 'Cityinfo.API.Controllers.CitiesController.GetCities (Cityinfo.API)' with route pattern 'api/v{version:apiVersion}/cities' is valid for the request path '/api/v1/cities'
2024-10-04 12:19:18.952 +03:30 [DBG] Request matched endpoint 'Cityinfo.API.Controllers.CitiesController.GetCities (Cityinfo.API)'
2024-10-04 12:19:19.085 +03:30 [DBG] Successfully validated the token.
2024-10-04 12:19:19.087 +03:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-10-04 12:19:19.091 +03:30 [DBG] Authorization was successful.
2024-10-04 12:19:19.092 +03:30 [INF] Executing endpoint 'Cityinfo.API.Controllers.CitiesController.GetCities (Cityinfo.API)'
2024-10-04 12:19:19.107 +03:30 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Cityinfo.API.Models.CityWithoutPointOfInterestDto]]] GetCities() on controller Cityinfo.API.Controllers.CitiesController (Cityinfo.API).
2024-10-04 12:19:19.109 +03:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-04 12:19:19.109 +03:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-04 12:19:19.109 +03:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2024-10-04 12:19:19.110 +03:30 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-04 12:19:19.110 +03:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2024-10-04 12:19:19.111 +03:30 [DBG] Executing controller factory for controller Cityinfo.API.Controllers.CitiesController (Cityinfo.API)
2024-10-04 12:19:19.208 +03:30 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-10-04 12:19:19.295 +03:30 [DBG] Executed controller factory for controller Cityinfo.API.Controllers.CitiesController (Cityinfo.API)
2024-10-04 12:19:19.874 +03:30 [DBG] Entity Framework Core 8.0.8 initialized 'CityInfoDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.8' with options: None
2024-10-04 12:19:19.922 +03:30 [DBG] Compiling query expression: 
'DbSet<User>()
    .Include(u => u.Cities)
    .FirstOrDefault(u => u.Id == __userId_0)'
2024-10-04 12:19:19.971 +03:30 [DBG] Including navigation: 'User.Cities'.
2024-10-04 12:19:20.151 +03:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.Name (string) Required MaxLength(50), 1], [Property: User.Password (string) Required, 2], [Property: User.Role (Role) Required, 3] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 4], [Property: City.Description (string) MaxLength(200), 5], [Property: City.Name (string) Required MaxLength(50), 6], [Property: City.UserId (int) Required FK Index, 7] }
                3 -> 4
            SELECT t.Id, t.Name, t.Password, t.Role, c.Id, c.Description, c.Name, c.UserId
            FROM 
            (
                SELECT TOP(1) u.Id, u.Name, u.Password, u.Role
                FROM Users AS u
                WHERE u.Id == @__userId_0
            ) AS t
            LEFT JOIN Cities AS c ON t.Id == c.UserId
            ORDER BY t.Id ASC), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        Cityinfo.API.DbContexts.CityInfoDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-10-04 12:19:20.176 +03:30 [DBG] Creating DbConnection.
2024-10-04 12:19:20.185 +03:30 [DBG] Created DbConnection. (7ms).
2024-10-04 12:19:20.187 +03:30 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-10-04 12:19:20.197 +03:30 [DBG] Opened connection to database 'main' on server 'C:\Users\Ideapad 5\source\repos\Cityinfo.API\Cityinfo.API\CityInfo.db'.
2024-10-04 12:19:20.200 +03:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-04 12:19:20.205 +03:30 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-10-04 12:19:20.207 +03:30 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2024-10-04 12:19:20.215 +03:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Name", "t"."Password", "t"."Role", "c"."Id", "c"."Description", "c"."Name", "c"."UserId"
FROM (
    SELECT "u"."Id", "u"."Name", "u"."Password", "u"."Role"
    FROM "Users" AS "u"
    WHERE "u"."Id" = @__userId_0
    LIMIT 1
) AS "t"
LEFT JOIN "Cities" AS "c" ON "t"."Id" = "c"."UserId"
ORDER BY "t"."Id"
2024-10-04 12:19:20.235 +03:30 [INF] Executed DbCommand (20ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Name", "t"."Password", "t"."Role", "c"."Id", "c"."Description", "c"."Name", "c"."UserId"
FROM (
    SELECT "u"."Id", "u"."Name", "u"."Password", "u"."Role"
    FROM "Users" AS "u"
    WHERE "u"."Id" = @__userId_0
    LIMIT 1
) AS "t"
LEFT JOIN "Cities" AS "c" ON "t"."Id" = "c"."UserId"
ORDER BY "t"."Id"
2024-10-04 12:19:20.258 +03:30 [DBG] Context 'CityInfoDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-04 12:19:20.287 +03:30 [DBG] Context 'CityInfoDbContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-04 12:19:20.290 +03:30 [DBG] Context 'CityInfoDbContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-04 12:19:20.294 +03:30 [DBG] Closing data reader to 'main' on server 'C:\Users\Ideapad 5\source\repos\Cityinfo.API\Cityinfo.API\CityInfo.db'.
2024-10-04 12:19:20.298 +03:30 [DBG] A data reader for 'main' on server 'C:\Users\Ideapad 5\source\repos\Cityinfo.API\Cityinfo.API\CityInfo.db' is being disposed after spending 60ms reading results.
2024-10-04 12:19:20.301 +03:30 [DBG] Closing connection to database 'main' on server 'C:\Users\Ideapad 5\source\repos\Cityinfo.API\Cityinfo.API\CityInfo.db'.
2024-10-04 12:19:20.303 +03:30 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (2ms).
2024-10-04 12:19:54.233 +03:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-10-04 12:19:54.234 +03:30 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2024-10-04 12:19:54.236 +03:30 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2024-10-04 12:19:54.237 +03:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-10-04 12:19:54.237 +03:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-10-04 12:19:54.238 +03:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-10-04 12:19:54.238 +03:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Cityinfo.API.Models.CityWithoutPointOfInterestDto, Cityinfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-10-04 12:19:56.390 +03:30 [INF] Executed action Cityinfo.API.Controllers.CitiesController.GetCities (Cityinfo.API) in 37277.0808ms
2024-10-04 12:19:56.390 +03:30 [INF] Executed endpoint 'Cityinfo.API.Controllers.CitiesController.GetCities (Cityinfo.API)'
2024-10-04 12:19:56.394 +03:30 [DBG] Connection ID "18374686484771897350" disconnecting.
2024-10-04 12:19:56.397 +03:30 [DBG] 'CityInfoDbContext' disposed.
2024-10-04 12:19:56.401 +03:30 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2024-10-04 12:19:56.403 +03:30 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (1ms).
2024-10-04 12:19:56.404 +03:30 [INF] Request finished HTTP/2 GET https://localhost:44345/api/v1/cities - 200 127 application/json; charset=utf-8 37504.8248ms
2024-10-04 12:20:27.496 +03:30 [INF] Request starting HTTP/2 GET https://localhost:44345/swagger/index.html - null null
2024-10-04 12:20:27.512 +03:30 [DBG] Response markup is scheduled to include Browser Link script injection.
2024-10-04 12:20:27.512 +03:30 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-10-04 12:20:27.513 +03:30 [DBG] Response markup was updated to include Browser Link script injection.
2024-10-04 12:20:27.513 +03:30 [DBG] Response markup was updated to include browser refresh script injection.
2024-10-04 12:20:27.513 +03:30 [DBG] Connection ID "18374686480476930066" disconnecting.
2024-10-04 12:20:27.513 +03:30 [INF] Request finished HTTP/2 GET https://localhost:44345/swagger/index.html - 200 null text/html;charset=utf-8 17.4311ms
2024-10-04 12:20:27.557 +03:30 [INF] Request starting HTTP/2 GET https://localhost:44345/_framework/aspnetcore-browser-refresh.js - null null
2024-10-04 12:20:27.592 +03:30 [INF] Request starting HTTP/2 GET https://localhost:44345/_vs/browserLink - null null
2024-10-04 12:20:27.593 +03:30 [DBG] Connection ID "18086456130095022086" disconnecting.
2024-10-04 12:20:27.593 +03:30 [INF] Request finished HTTP/2 GET https://localhost:44345/_framework/aspnetcore-browser-refresh.js - 200 13760 application/javascript; charset=utf-8 37.8681ms
2024-10-04 12:20:27.609 +03:30 [DBG] Connection ID "18230571318170877966" disconnecting.
2024-10-04 12:20:27.610 +03:30 [INF] Request finished HTTP/2 GET https://localhost:44345/_vs/browserLink - 200 null text/javascript; charset=UTF-8 17.4344ms
2024-10-04 12:20:27.653 +03:30 [INF] Request starting HTTP/2 GET https://localhost:44345/swagger/1.0/swagger.json - null null
2024-10-04 12:20:27.657 +03:30 [WRN] An error occurred while trying to create a DataContractSerializer for the type 'Cityinfo.API.Models.ResponseError'.
System.Runtime.Serialization.InvalidDataContractException: Type 'Cityinfo.API.Models.ResponseError' cannot be serialized. Consider marking it with the DataContractAttribute attribute, and marking all of its members you want serialized with the DataMemberAttribute attribute. Alternatively, you can ensure that the type is public and has a parameterless constructor - all public members of the type will then be serialized, and no attributes will be required.
   at System.Runtime.Serialization.DataContracts.DataContract.DataContractCriticalHelper.ThrowInvalidDataContractException(String message, Type type)
   at System.Runtime.Serialization.DataContracts.DataContract.DataContractCriticalHelper.CreateDataContract(Type type)
   at System.Runtime.Serialization.DataContracts.DataContract.DataContractCriticalHelper.CreateDataContract(Int32 id, RuntimeTypeHandle typeHandle, Type type)
   at System.Runtime.Serialization.DataContracts.DataContract.DataContractCriticalHelper.GetDataContractSkipValidation(Int32 id, RuntimeTypeHandle typeHandle, Type type)
   at System.Runtime.Serialization.DataContracts.DataContract.GetDataContract(RuntimeTypeHandle typeHandle)
   at System.Runtime.Serialization.XsdDataContractExporter.GetRootElementName(Type type)
   at Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter.CreateSerializer(Type type)
2024-10-04 12:20:27.672 +03:30 [INF] Request finished HTTP/2 GET https://localhost:44345/swagger/1.0/swagger.json - 200 null application/json;charset=utf-8 19.5505ms
2024-10-04 12:20:27.676 +03:30 [DBG] Connection ID "18086456138684956675" disconnecting.
2024-10-04 12:32:30.345 +03:30 [DBG] Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-10-04 12:32:30.402 +03:30 [DBG] Hosting starting
2024-10-04 12:32:30.429 +03:30 [INF] User profile is available. Using 'C:\Users\Ideapad 5\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-10-04 12:32:30.442 +03:30 [DBG] Reading data from file 'C:\Users\Ideapad 5\AppData\Local\ASP.NET\DataProtection-Keys\key-52a418f1-ba52-4a49-af2f-b85b42d29af6.xml'.
2024-10-04 12:32:30.468 +03:30 [DBG] Found key {52a418f1-ba52-4a49-af2f-b85b42d29af6}.
2024-10-04 12:32:30.481 +03:30 [DBG] Considering key {52a418f1-ba52-4a49-af2f-b85b42d29af6} with expiration date 2024-12-10 16:42:49Z as default key.
2024-10-04 12:32:30.484 +03:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-10-04 12:32:30.486 +03:30 [DBG] Decrypting secret element using Windows DPAPI.
2024-10-04 12:32:30.489 +03:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-10-04 12:32:30.494 +03:30 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-10-04 12:32:30.496 +03:30 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-10-04 12:32:30.497 +03:30 [DBG] Using key {52a418f1-ba52-4a49-af2f-b85b42d29af6} as the default key.
2024-10-04 12:32:30.498 +03:30 [DBG] Key ring with default key {52a418f1-ba52-4a49-af2f-b85b42d29af6} was loaded during application startup.
2024-10-04 12:32:30.643 +03:30 [DBG] Loaded hosting startup assembly Cityinfo.API
2024-10-04 12:32:30.643 +03:30 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2024-10-04 12:32:30.643 +03:30 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-10-04 12:32:30.643 +03:30 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-10-04 12:32:30.732 +03:30 [INF] Request starting HTTP/2 GET https://localhost:44345/swagger/index.html - null null
2024-10-04 12:32:30.740 +03:30 [WRN] An error occurred while trying to create a DataContractSerializer for the type 'Cityinfo.API.Models.ResponseError'.
System.Runtime.Serialization.InvalidDataContractException: Type 'Cityinfo.API.Models.ResponseError' cannot be serialized. Consider marking it with the DataContractAttribute attribute, and marking all of its members you want serialized with the DataMemberAttribute attribute. Alternatively, you can ensure that the type is public and has a parameterless constructor - all public members of the type will then be serialized, and no attributes will be required.
   at System.Runtime.Serialization.DataContracts.DataContract.DataContractCriticalHelper.ThrowInvalidDataContractException(String message, Type type)
   at System.Runtime.Serialization.DataContracts.DataContract.DataContractCriticalHelper.CreateDataContract(Type type)
   at System.Runtime.Serialization.DataContracts.DataContract.DataContractCriticalHelper.CreateDataContract(Int32 id, RuntimeTypeHandle typeHandle, Type type)
   at System.Runtime.Serialization.DataContracts.DataContract.DataContractCriticalHelper.GetDataContractSkipValidation(Int32 id, RuntimeTypeHandle typeHandle, Type type)
   at System.Runtime.Serialization.DataContracts.DataContract.GetDataContract(RuntimeTypeHandle typeHandle)
   at System.Runtime.Serialization.XsdDataContractExporter.GetRootElementName(Type type)
   at Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter.CreateSerializer(Type type)
2024-10-04 12:32:30.883 +03:30 [INF] Application started. Press Ctrl+C to shut down.
2024-10-04 12:32:30.883 +03:30 [INF] Hosting environment: Development
2024-10-04 12:32:30.883 +03:30 [INF] Content root path: C:\Users\Ideapad 5\source\repos\Cityinfo.API\Cityinfo.API
2024-10-04 12:32:30.883 +03:30 [DBG] Hosting started
2024-10-04 12:32:30.894 +03:30 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-10-04 12:32:30.981 +03:30 [DBG] Response markup is scheduled to include Browser Link script injection.
2024-10-04 12:32:30.983 +03:30 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-10-04 12:32:31.017 +03:30 [DBG] Response markup was updated to include Browser Link script injection.
2024-10-04 12:32:31.018 +03:30 [DBG] Response markup was updated to include browser refresh script injection.
2024-10-04 12:32:31.021 +03:30 [DBG] Connection ID "18302628929388675077" disconnecting.
2024-10-04 12:32:31.022 +03:30 [INF] Request finished HTTP/2 GET https://localhost:44345/swagger/index.html - 200 null text/html;charset=utf-8 298.1924ms
2024-10-04 12:32:31.056 +03:30 [INF] Request starting HTTP/2 GET https://localhost:44345/_framework/aspnetcore-browser-refresh.js - null null
2024-10-04 12:32:31.060 +03:30 [DBG] Connection ID "18230571318170877970" disconnecting.
2024-10-04 12:32:31.062 +03:30 [INF] Request finished HTTP/2 GET https://localhost:44345/_framework/aspnetcore-browser-refresh.js - 200 13760 application/javascript; charset=utf-8 4.2299ms
2024-10-04 12:32:31.072 +03:30 [INF] Request starting HTTP/2 GET https://localhost:44345/_vs/browserLink - null null
2024-10-04 12:32:31.110 +03:30 [DBG] Connection ID "18302628929388675079" disconnecting.
2024-10-04 12:32:31.111 +03:30 [INF] Request finished HTTP/2 GET https://localhost:44345/_vs/browserLink - 200 null text/javascript; charset=UTF-8 39.21ms
2024-10-04 12:32:31.158 +03:30 [INF] Request starting HTTP/2 GET https://localhost:44345/swagger/1.0/swagger.json - null null
2024-10-04 12:32:31.284 +03:30 [INF] Request finished HTTP/2 GET https://localhost:44345/swagger/1.0/swagger.json - 200 null application/json;charset=utf-8 126.7786ms
2024-10-04 12:32:31.301 +03:30 [DBG] Connection ID "18158513732722884622" disconnecting.
2024-10-04 12:32:44.580 +03:30 [INF] Request starting HTTP/2 POST https://localhost:44345/api/v1/users/login - application/json-patch+json 53
2024-10-04 12:32:44.584 +03:30 [DBG] POST requests are not supported
2024-10-04 12:32:44.639 +03:30 [DBG] 1 candidate(s) found for the request path '/api/v1/users/login'
2024-10-04 12:32:44.643 +03:30 [DBG] Endpoint 'Cityinfo.API.Controllers.UsersController.Login (Cityinfo.API)' with route pattern 'api/v{version:apiVersion}/users/login' is valid for the request path '/api/v1/users/login'
2024-10-04 12:32:44.649 +03:30 [DBG] Request matched endpoint 'Cityinfo.API.Controllers.UsersController.Login (Cityinfo.API)'
2024-10-04 12:32:44.730 +03:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-10-04 12:32:44.733 +03:30 [INF] Executing endpoint 'Cityinfo.API.Controllers.UsersController.Login (Cityinfo.API)'
2024-10-04 12:32:44.765 +03:30 [INF] Route matched with {action = "Login", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Cityinfo.API.Models.RegisterRequest) on controller Cityinfo.API.Controllers.UsersController (Cityinfo.API).
2024-10-04 12:32:44.767 +03:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-04 12:32:44.767 +03:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-04 12:32:44.768 +03:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2024-10-04 12:32:44.768 +03:30 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-04 12:32:44.769 +03:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2024-10-04 12:32:44.771 +03:30 [DBG] Executing controller factory for controller Cityinfo.API.Controllers.UsersController (Cityinfo.API)
2024-10-04 12:32:44.939 +03:30 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-10-04 12:32:45.040 +03:30 [DBG] Executed controller factory for controller Cityinfo.API.Controllers.UsersController (Cityinfo.API)
2024-10-04 12:32:45.046 +03:30 [DBG] Attempting to bind parameter 'registerRequest' of type 'Cityinfo.API.Models.RegisterRequest' ...
2024-10-04 12:32:45.048 +03:30 [DBG] Attempting to bind parameter 'registerRequest' of type 'Cityinfo.API.Models.RegisterRequest' using the name '' in request data ...
2024-10-04 12:32:45.049 +03:30 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2024-10-04 12:32:45.050 +03:30 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2024-10-04 12:32:45.144 +03:30 [DBG] Done attempting to bind parameter 'registerRequest' of type 'Cityinfo.API.Models.RegisterRequest'.
2024-10-04 12:32:45.144 +03:30 [DBG] Done attempting to bind parameter 'registerRequest' of type 'Cityinfo.API.Models.RegisterRequest'.
2024-10-04 12:32:45.144 +03:30 [DBG] Attempting to validate the bound parameter 'registerRequest' of type 'Cityinfo.API.Models.RegisterRequest' ...
2024-10-04 12:32:45.152 +03:30 [DBG] Done attempting to validate the bound parameter 'registerRequest' of type 'Cityinfo.API.Models.RegisterRequest'.
2024-10-04 12:32:45.869 +03:30 [DBG] Entity Framework Core 8.0.8 initialized 'CityInfoDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.8' with options: None
2024-10-04 12:32:45.894 +03:30 [DBG] Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(u => u.Name == __name_0)'
2024-10-04 12:32:46.068 +03:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.Name (string) Required MaxLength(50), 1], [Property: User.Password (string) Required, 2], [Property: User.Role (Role) Required, 3] }
            SELECT TOP(1) u.Id, u.Name, u.Password, u.Role
            FROM Users AS u
            WHERE u.Name == @__name_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        Cityinfo.API.DbContexts.CityInfoDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-10-04 12:32:46.102 +03:30 [DBG] Creating DbConnection.
2024-10-04 12:32:46.114 +03:30 [DBG] Created DbConnection. (13ms).
2024-10-04 12:32:46.118 +03:30 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-10-04 12:32:46.137 +03:30 [DBG] Opened connection to database 'main' on server 'C:\Users\Ideapad 5\source\repos\Cityinfo.API\Cityinfo.API\CityInfo.db'.
2024-10-04 12:32:46.145 +03:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-04 12:32:46.151 +03:30 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2024-10-04 12:32:46.154 +03:30 [DBG] Initialized DbCommand for 'ExecuteReader' (9ms).
2024-10-04 12:32:46.161 +03:30 [DBG] Executing DbCommand [Parameters=[@__name_0='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."Name", "u"."Password", "u"."Role"
FROM "Users" AS "u"
WHERE "u"."Name" = @__name_0
LIMIT 1
2024-10-04 12:32:46.185 +03:30 [INF] Executed DbCommand (24ms) [Parameters=[@__name_0='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."Name", "u"."Password", "u"."Role"
FROM "Users" AS "u"
WHERE "u"."Name" = @__name_0
LIMIT 1
2024-10-04 12:32:46.210 +03:30 [DBG] Context 'CityInfoDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-04 12:32:46.231 +03:30 [DBG] Closing data reader to 'main' on server 'C:\Users\Ideapad 5\source\repos\Cityinfo.API\Cityinfo.API\CityInfo.db'.
2024-10-04 12:32:46.235 +03:30 [DBG] A data reader for 'main' on server 'C:\Users\Ideapad 5\source\repos\Cityinfo.API\Cityinfo.API\CityInfo.db' is being disposed after spending 45ms reading results.
2024-10-04 12:32:46.239 +03:30 [DBG] Closing connection to database 'main' on server 'C:\Users\Ideapad 5\source\repos\Cityinfo.API\Cityinfo.API\CityInfo.db'.
2024-10-04 12:32:46.241 +03:30 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (3ms).
2024-10-04 12:32:46.636 +03:30 [INF] Executing StatusCodeResult, setting HTTP status code 204
2024-10-04 12:32:46.641 +03:30 [INF] Executed action Cityinfo.API.Controllers.UsersController.Login (Cityinfo.API) in 1868.5225ms
2024-10-04 12:32:46.641 +03:30 [INF] Executed endpoint 'Cityinfo.API.Controllers.UsersController.Login (Cityinfo.API)'
2024-10-04 12:32:46.644 +03:30 [DBG] Connection ID "18302628886439002124" disconnecting.
2024-10-04 12:32:46.646 +03:30 [DBG] 'CityInfoDbContext' disposed.
2024-10-04 12:32:46.651 +03:30 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2024-10-04 12:32:46.652 +03:30 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (1ms).
2024-10-04 12:32:46.653 +03:30 [INF] Request finished HTTP/2 POST https://localhost:44345/api/v1/users/login - 204 null null 2073.0307ms
2024-10-04 12:33:03.043 +03:30 [INF] Request starting HTTP/2 GET https://localhost:44345/api/v1/cities/1?includePointOfInterest=false - null null
2024-10-04 12:33:03.044 +03:30 [DBG] The request path  does not match the path filter
2024-10-04 12:33:03.050 +03:30 [DBG] 1 candidate(s) found for the request path '/api/v1/cities/1'
2024-10-04 12:33:03.051 +03:30 [DBG] Endpoint 'Cityinfo.API.Controllers.CitiesController.GetCity (Cityinfo.API)' with route pattern 'api/v{version:apiVersion}/cities/{id:int}' is valid for the request path '/api/v1/cities/1'
2024-10-04 12:33:03.051 +03:30 [DBG] Request matched endpoint 'Cityinfo.API.Controllers.CitiesController.GetCity (Cityinfo.API)'
2024-10-04 12:33:03.093 +03:30 [DBG] Successfully validated the token.
2024-10-04 12:33:03.095 +03:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-10-04 12:33:03.099 +03:30 [DBG] Authorization was successful.
2024-10-04 12:33:03.100 +03:30 [INF] Executing endpoint 'Cityinfo.API.Controllers.CitiesController.GetCity (Cityinfo.API)'
2024-10-04 12:33:03.107 +03:30 [INF] Route matched with {action = "GetCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Cityinfo.API.Models.CityWithoutPointOfInterestDto]] GetCity(Int32, Boolean) on controller Cityinfo.API.Controllers.CitiesController (Cityinfo.API).
2024-10-04 12:33:03.107 +03:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-04 12:33:03.107 +03:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-04 12:33:03.107 +03:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2024-10-04 12:33:03.107 +03:30 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-04 12:33:03.107 +03:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2024-10-04 12:33:03.107 +03:30 [DBG] Executing controller factory for controller Cityinfo.API.Controllers.CitiesController (Cityinfo.API)
2024-10-04 12:33:03.109 +03:30 [DBG] Executed controller factory for controller Cityinfo.API.Controllers.CitiesController (Cityinfo.API)
2024-10-04 12:33:03.109 +03:30 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2024-10-04 12:33:03.110 +03:30 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2024-10-04 12:33:03.111 +03:30 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-10-04 12:33:03.112 +03:30 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-10-04 12:33:03.112 +03:30 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2024-10-04 12:33:03.113 +03:30 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2024-10-04 12:33:03.113 +03:30 [DBG] Attempting to bind parameter 'includePointOfInterest' of type 'System.Boolean' ...
2024-10-04 12:33:03.113 +03:30 [DBG] Attempting to bind parameter 'includePointOfInterest' of type 'System.Boolean' using the name 'includePointOfInterest' in request data ...
2024-10-04 12:33:03.114 +03:30 [DBG] Done attempting to bind parameter 'includePointOfInterest' of type 'System.Boolean'.
2024-10-04 12:33:03.114 +03:30 [DBG] Done attempting to bind parameter 'includePointOfInterest' of type 'System.Boolean'.
2024-10-04 12:33:03.114 +03:30 [DBG] Attempting to validate the bound parameter 'includePointOfInterest' of type 'System.Boolean' ...
2024-10-04 12:33:03.114 +03:30 [DBG] Done attempting to validate the bound parameter 'includePointOfInterest' of type 'System.Boolean'.
2024-10-04 12:33:03.129 +03:30 [DBG] Entity Framework Core 8.0.8 initialized 'CityInfoDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.8' with options: None
2024-10-04 12:33:03.133 +03:30 [DBG] Compiling query expression: 
'DbSet<User>()
    .Include(u => u.Cities)
    .FirstOrDefault(u => u.Id == __userId_0)'
2024-10-04 12:33:03.143 +03:30 [DBG] Including navigation: 'User.Cities'.
2024-10-04 12:33:03.197 +03:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.Name (string) Required MaxLength(50), 1], [Property: User.Password (string) Required, 2], [Property: User.Role (Role) Required, 3] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 4], [Property: City.Description (string) MaxLength(200), 5], [Property: City.Name (string) Required MaxLength(50), 6], [Property: City.UserId (int) Required FK Index, 7] }
                3 -> 4
            SELECT t.Id, t.Name, t.Password, t.Role, c.Id, c.Description, c.Name, c.UserId
            FROM 
            (
                SELECT TOP(1) u.Id, u.Name, u.Password, u.Role
                FROM Users AS u
                WHERE u.Id == @__userId_0
            ) AS t
            LEFT JOIN Cities AS c ON t.Id == c.UserId
            ORDER BY t.Id ASC), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        Cityinfo.API.DbContexts.CityInfoDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-10-04 12:33:03.199 +03:30 [DBG] Creating DbConnection.
2024-10-04 12:33:03.199 +03:30 [DBG] Created DbConnection. (0ms).
2024-10-04 12:33:03.199 +03:30 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-10-04 12:33:03.199 +03:30 [DBG] Opened connection to database 'main' on server 'C:\Users\Ideapad 5\source\repos\Cityinfo.API\Cityinfo.API\CityInfo.db'.
2024-10-04 12:33:03.199 +03:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-04 12:33:03.200 +03:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-10-04 12:33:03.200 +03:30 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-10-04 12:33:03.200 +03:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Name", "t"."Password", "t"."Role", "c"."Id", "c"."Description", "c"."Name", "c"."UserId"
FROM (
    SELECT "u"."Id", "u"."Name", "u"."Password", "u"."Role"
    FROM "Users" AS "u"
    WHERE "u"."Id" = @__userId_0
    LIMIT 1
) AS "t"
LEFT JOIN "Cities" AS "c" ON "t"."Id" = "c"."UserId"
ORDER BY "t"."Id"
2024-10-04 12:33:03.204 +03:30 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Name", "t"."Password", "t"."Role", "c"."Id", "c"."Description", "c"."Name", "c"."UserId"
FROM (
    SELECT "u"."Id", "u"."Name", "u"."Password", "u"."Role"
    FROM "Users" AS "u"
    WHERE "u"."Id" = @__userId_0
    LIMIT 1
) AS "t"
LEFT JOIN "Cities" AS "c" ON "t"."Id" = "c"."UserId"
ORDER BY "t"."Id"
2024-10-04 12:33:03.205 +03:30 [DBG] Context 'CityInfoDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-04 12:33:03.219 +03:30 [DBG] Context 'CityInfoDbContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-04 12:33:03.223 +03:30 [DBG] Context 'CityInfoDbContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-04 12:33:03.223 +03:30 [DBG] Closing data reader to 'main' on server 'C:\Users\Ideapad 5\source\repos\Cityinfo.API\Cityinfo.API\CityInfo.db'.
2024-10-04 12:33:03.223 +03:30 [DBG] A data reader for 'main' on server 'C:\Users\Ideapad 5\source\repos\Cityinfo.API\Cityinfo.API\CityInfo.db' is being disposed after spending 18ms reading results.
2024-10-04 12:33:03.224 +03:30 [DBG] Closing connection to database 'main' on server 'C:\Users\Ideapad 5\source\repos\Cityinfo.API\Cityinfo.API\CityInfo.db'.
2024-10-04 12:33:03.224 +03:30 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (0ms).
2024-10-04 12:33:03.225 +03:30 [DBG] Compiling query expression: 
'DbSet<City>()
    .FirstOrDefault(c => c.Id == __id_0)'
2024-10-04 12:33:03.228 +03:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<City>(
    asyncEnumerable: new SingleQueryingEnumerable<City>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2], [Property: City.UserId (int) Required FK Index, 3] }
            SELECT TOP(1) c.Id, c.Description, c.Name, c.UserId
            FROM Cities AS c
            WHERE c.Id == @__id_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
        Cityinfo.API.DbContexts.CityInfoDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-10-04 12:33:03.229 +03:30 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-10-04 12:33:03.229 +03:30 [DBG] Opened connection to database 'main' on server 'C:\Users\Ideapad 5\source\repos\Cityinfo.API\Cityinfo.API\CityInfo.db'.
2024-10-04 12:33:03.229 +03:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-04 12:33:03.229 +03:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-10-04 12:33:03.229 +03:30 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-10-04 12:33:03.229 +03:30 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name", "c"."UserId"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__id_0
LIMIT 1
2024-10-04 12:33:03.229 +03:30 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name", "c"."UserId"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__id_0
LIMIT 1
2024-10-04 12:33:03.230 +03:30 [DBG] Closing data reader to 'main' on server 'C:\Users\Ideapad 5\source\repos\Cityinfo.API\Cityinfo.API\CityInfo.db'.
2024-10-04 12:33:03.230 +03:30 [DBG] A data reader for 'main' on server 'C:\Users\Ideapad 5\source\repos\Cityinfo.API\Cityinfo.API\CityInfo.db' is being disposed after spending 0ms reading results.
2024-10-04 12:33:03.230 +03:30 [DBG] Closing connection to database 'main' on server 'C:\Users\Ideapad 5\source\repos\Cityinfo.API\Cityinfo.API\CityInfo.db'.
2024-10-04 12:33:03.230 +03:30 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (0ms).
2024-10-04 12:33:27.154 +03:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-10-04 12:33:27.157 +03:30 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2024-10-04 12:33:27.158 +03:30 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2024-10-04 12:33:27.159 +03:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-10-04 12:33:27.159 +03:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-10-04 12:33:27.160 +03:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-10-04 12:33:27.160 +03:30 [INF] Executing OkObjectResult, writing value of type 'Cityinfo.API.Models.CityWithoutPointOfInterestDto'.
2024-10-04 12:33:27.213 +03:30 [INF] Executed action Cityinfo.API.Controllers.CitiesController.GetCity (Cityinfo.API) in 24105.172ms
2024-10-04 12:33:27.213 +03:30 [INF] Executed endpoint 'Cityinfo.API.Controllers.CitiesController.GetCity (Cityinfo.API)'
2024-10-04 12:33:27.213 +03:30 [DBG] Connection ID "18086456138684956683" disconnecting.
2024-10-04 12:33:27.213 +03:30 [DBG] 'CityInfoDbContext' disposed.
2024-10-04 12:33:27.214 +03:30 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2024-10-04 12:33:27.214 +03:30 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (0ms).
2024-10-04 12:33:27.214 +03:30 [INF] Request finished HTTP/2 GET https://localhost:44345/api/v1/cities/1?includePointOfInterest=false - 200 58 application/json; charset=utf-8 24171.4552ms
2024-10-04 12:33:34.215 +03:30 [INF] Request starting HTTP/2 GET https://localhost:44345/api/v1/cities/2?includePointOfInterest=false - null null
2024-10-04 12:33:34.216 +03:30 [DBG] The request path  does not match the path filter
2024-10-04 12:33:34.216 +03:30 [DBG] 1 candidate(s) found for the request path '/api/v1/cities/2'
2024-10-04 12:33:34.216 +03:30 [DBG] Endpoint 'Cityinfo.API.Controllers.CitiesController.GetCity (Cityinfo.API)' with route pattern 'api/v{version:apiVersion}/cities/{id:int}' is valid for the request path '/api/v1/cities/2'
2024-10-04 12:33:34.216 +03:30 [DBG] Request matched endpoint 'Cityinfo.API.Controllers.CitiesController.GetCity (Cityinfo.API)'
2024-10-04 12:33:34.218 +03:30 [DBG] Successfully validated the token.
2024-10-04 12:33:34.218 +03:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-10-04 12:33:34.219 +03:30 [DBG] Authorization was successful.
2024-10-04 12:33:34.220 +03:30 [INF] Executing endpoint 'Cityinfo.API.Controllers.CitiesController.GetCity (Cityinfo.API)'
2024-10-04 12:33:34.220 +03:30 [INF] Route matched with {action = "GetCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Cityinfo.API.Models.CityWithoutPointOfInterestDto]] GetCity(Int32, Boolean) on controller Cityinfo.API.Controllers.CitiesController (Cityinfo.API).
2024-10-04 12:33:34.220 +03:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-04 12:33:34.220 +03:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-04 12:33:34.220 +03:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2024-10-04 12:33:34.220 +03:30 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-04 12:33:34.220 +03:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2024-10-04 12:33:34.220 +03:30 [DBG] Executing controller factory for controller Cityinfo.API.Controllers.CitiesController (Cityinfo.API)
2024-10-04 12:33:34.221 +03:30 [DBG] Executed controller factory for controller Cityinfo.API.Controllers.CitiesController (Cityinfo.API)
2024-10-04 12:33:34.222 +03:30 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2024-10-04 12:33:34.222 +03:30 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2024-10-04 12:33:34.222 +03:30 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-10-04 12:33:34.222 +03:30 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-10-04 12:33:34.222 +03:30 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2024-10-04 12:33:34.222 +03:30 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2024-10-04 12:33:34.222 +03:30 [DBG] Attempting to bind parameter 'includePointOfInterest' of type 'System.Boolean' ...
2024-10-04 12:33:34.222 +03:30 [DBG] Attempting to bind parameter 'includePointOfInterest' of type 'System.Boolean' using the name 'includePointOfInterest' in request data ...
2024-10-04 12:33:34.222 +03:30 [DBG] Done attempting to bind parameter 'includePointOfInterest' of type 'System.Boolean'.
2024-10-04 12:33:34.222 +03:30 [DBG] Done attempting to bind parameter 'includePointOfInterest' of type 'System.Boolean'.
2024-10-04 12:33:34.222 +03:30 [DBG] Attempting to validate the bound parameter 'includePointOfInterest' of type 'System.Boolean' ...
2024-10-04 12:33:34.222 +03:30 [DBG] Done attempting to validate the bound parameter 'includePointOfInterest' of type 'System.Boolean'.
2024-10-04 12:33:34.260 +03:30 [DBG] Entity Framework Core 8.0.8 initialized 'CityInfoDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.8' with options: None
2024-10-04 12:33:34.263 +03:30 [DBG] Creating DbConnection.
2024-10-04 12:33:34.263 +03:30 [DBG] Created DbConnection. (0ms).
2024-10-04 12:33:34.263 +03:30 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-10-04 12:33:34.263 +03:30 [DBG] Opened connection to database 'main' on server 'C:\Users\Ideapad 5\source\repos\Cityinfo.API\Cityinfo.API\CityInfo.db'.
2024-10-04 12:33:34.264 +03:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-04 12:33:34.264 +03:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-10-04 12:33:34.264 +03:30 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-10-04 12:33:34.264 +03:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Name", "t"."Password", "t"."Role", "c"."Id", "c"."Description", "c"."Name", "c"."UserId"
FROM (
    SELECT "u"."Id", "u"."Name", "u"."Password", "u"."Role"
    FROM "Users" AS "u"
    WHERE "u"."Id" = @__userId_0
    LIMIT 1
) AS "t"
LEFT JOIN "Cities" AS "c" ON "t"."Id" = "c"."UserId"
ORDER BY "t"."Id"
2024-10-04 12:33:34.264 +03:30 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Name", "t"."Password", "t"."Role", "c"."Id", "c"."Description", "c"."Name", "c"."UserId"
FROM (
    SELECT "u"."Id", "u"."Name", "u"."Password", "u"."Role"
    FROM "Users" AS "u"
    WHERE "u"."Id" = @__userId_0
    LIMIT 1
) AS "t"
LEFT JOIN "Cities" AS "c" ON "t"."Id" = "c"."UserId"
ORDER BY "t"."Id"
2024-10-04 12:33:34.264 +03:30 [DBG] Context 'CityInfoDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-04 12:33:34.264 +03:30 [DBG] Context 'CityInfoDbContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-04 12:33:34.264 +03:30 [DBG] Context 'CityInfoDbContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-04 12:33:34.264 +03:30 [DBG] Closing data reader to 'main' on server 'C:\Users\Ideapad 5\source\repos\Cityinfo.API\Cityinfo.API\CityInfo.db'.
2024-10-04 12:33:34.264 +03:30 [DBG] A data reader for 'main' on server 'C:\Users\Ideapad 5\source\repos\Cityinfo.API\Cityinfo.API\CityInfo.db' is being disposed after spending 0ms reading results.
2024-10-04 12:33:34.264 +03:30 [DBG] Closing connection to database 'main' on server 'C:\Users\Ideapad 5\source\repos\Cityinfo.API\Cityinfo.API\CityInfo.db'.
2024-10-04 12:33:34.264 +03:30 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (0ms).
2024-10-04 12:33:34.265 +03:30 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-10-04 12:33:34.265 +03:30 [DBG] Opened connection to database 'main' on server 'C:\Users\Ideapad 5\source\repos\Cityinfo.API\Cityinfo.API\CityInfo.db'.
2024-10-04 12:33:34.265 +03:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-04 12:33:34.265 +03:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-10-04 12:33:34.265 +03:30 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-10-04 12:33:34.265 +03:30 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name", "c"."UserId"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__id_0
LIMIT 1
2024-10-04 12:33:34.265 +03:30 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name", "c"."UserId"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__id_0
LIMIT 1
2024-10-04 12:33:34.265 +03:30 [DBG] Closing data reader to 'main' on server 'C:\Users\Ideapad 5\source\repos\Cityinfo.API\Cityinfo.API\CityInfo.db'.
2024-10-04 12:33:34.265 +03:30 [DBG] A data reader for 'main' on server 'C:\Users\Ideapad 5\source\repos\Cityinfo.API\Cityinfo.API\CityInfo.db' is being disposed after spending 0ms reading results.
2024-10-04 12:33:34.265 +03:30 [DBG] Closing connection to database 'main' on server 'C:\Users\Ideapad 5\source\repos\Cityinfo.API\Cityinfo.API\CityInfo.db'.
2024-10-04 12:33:34.265 +03:30 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (0ms).
2024-10-04 12:33:46.059 +03:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-10-04 12:33:46.059 +03:30 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2024-10-04 12:33:46.059 +03:30 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2024-10-04 12:33:46.059 +03:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-10-04 12:33:46.059 +03:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-10-04 12:33:46.059 +03:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-10-04 12:33:46.059 +03:30 [INF] Executing OkObjectResult, writing value of type 'Cityinfo.API.Models.CityWithoutPointOfInterestDto'.
2024-10-04 12:33:47.217 +03:30 [INF] Executed action Cityinfo.API.Controllers.CitiesController.GetCity (Cityinfo.API) in 12996.9139ms
2024-10-04 12:33:47.217 +03:30 [INF] Executed endpoint 'Cityinfo.API.Controllers.CitiesController.GetCity (Cityinfo.API)'
2024-10-04 12:33:47.217 +03:30 [DBG] 'CityInfoDbContext' disposed.
2024-10-04 12:33:47.217 +03:30 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2024-10-04 12:33:47.217 +03:30 [DBG] Connection ID "18230571309580943366" disconnecting.
2024-10-04 12:33:47.217 +03:30 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (0ms).
2024-10-04 12:33:47.218 +03:30 [INF] Request finished HTTP/2 GET https://localhost:44345/api/v1/cities/2?includePointOfInterest=false - 200 66 application/json; charset=utf-8 13002.3311ms
2024-10-04 12:33:52.928 +03:30 [INF] Request starting HTTP/2 GET https://localhost:44345/api/v1/cities/2?includePointOfInterest=true - null null
2024-10-04 12:33:52.928 +03:30 [DBG] The request path  does not match the path filter
2024-10-04 12:33:52.929 +03:30 [DBG] 1 candidate(s) found for the request path '/api/v1/cities/2'
2024-10-04 12:33:52.929 +03:30 [DBG] Endpoint 'Cityinfo.API.Controllers.CitiesController.GetCity (Cityinfo.API)' with route pattern 'api/v{version:apiVersion}/cities/{id:int}' is valid for the request path '/api/v1/cities/2'
2024-10-04 12:33:52.929 +03:30 [DBG] Request matched endpoint 'Cityinfo.API.Controllers.CitiesController.GetCity (Cityinfo.API)'
2024-10-04 12:33:52.929 +03:30 [DBG] Successfully validated the token.
2024-10-04 12:33:52.929 +03:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-10-04 12:33:52.930 +03:30 [DBG] Authorization was successful.
2024-10-04 12:33:52.931 +03:30 [INF] Executing endpoint 'Cityinfo.API.Controllers.CitiesController.GetCity (Cityinfo.API)'
2024-10-04 12:33:52.931 +03:30 [INF] Route matched with {action = "GetCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Cityinfo.API.Models.CityWithoutPointOfInterestDto]] GetCity(Int32, Boolean) on controller Cityinfo.API.Controllers.CitiesController (Cityinfo.API).
2024-10-04 12:33:52.931 +03:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-04 12:33:52.931 +03:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-04 12:33:52.931 +03:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2024-10-04 12:33:52.931 +03:30 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-04 12:33:52.931 +03:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Asp.Versioning.ReportApiVersionsAttribute (Order: 0)"]
2024-10-04 12:33:52.931 +03:30 [DBG] Executing controller factory for controller Cityinfo.API.Controllers.CitiesController (Cityinfo.API)
2024-10-04 12:33:52.933 +03:30 [DBG] Executed controller factory for controller Cityinfo.API.Controllers.CitiesController (Cityinfo.API)
2024-10-04 12:33:52.933 +03:30 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2024-10-04 12:33:52.933 +03:30 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2024-10-04 12:33:52.933 +03:30 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-10-04 12:33:52.933 +03:30 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-10-04 12:33:52.933 +03:30 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2024-10-04 12:33:52.933 +03:30 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2024-10-04 12:33:52.933 +03:30 [DBG] Attempting to bind parameter 'includePointOfInterest' of type 'System.Boolean' ...
2024-10-04 12:33:52.933 +03:30 [DBG] Attempting to bind parameter 'includePointOfInterest' of type 'System.Boolean' using the name 'includePointOfInterest' in request data ...
2024-10-04 12:33:52.933 +03:30 [DBG] Done attempting to bind parameter 'includePointOfInterest' of type 'System.Boolean'.
2024-10-04 12:33:52.933 +03:30 [DBG] Done attempting to bind parameter 'includePointOfInterest' of type 'System.Boolean'.
2024-10-04 12:33:52.933 +03:30 [DBG] Attempting to validate the bound parameter 'includePointOfInterest' of type 'System.Boolean' ...
2024-10-04 12:33:52.933 +03:30 [DBG] Done attempting to validate the bound parameter 'includePointOfInterest' of type 'System.Boolean'.
2024-10-04 12:33:52.935 +03:30 [DBG] Entity Framework Core 8.0.8 initialized 'CityInfoDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.8' with options: None
2024-10-04 12:33:52.936 +03:30 [DBG] Compiling query expression: 
'DbSet<User>()
    .Include(u => u.Cities)
    .ThenInclude(c => c.PointOfInterest)
    .FirstOrDefault(u => u.Id == __userId_0)'
2024-10-04 12:33:52.937 +03:30 [DBG] Including navigation: 'User.Cities'.
2024-10-04 12:33:52.938 +03:30 [DBG] Including navigation: 'City.PointOfInterest'.
2024-10-04 12:33:52.951 +03:30 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2024-10-04 12:33:52.954 +03:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.Name (string) Required MaxLength(50), 1], [Property: User.Password (string) Required, 2], [Property: User.Role (Role) Required, 3] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 4], [Property: City.Description (string) MaxLength(200), 5], [Property: City.Name (string) Required MaxLength(50), 6], [Property: City.UserId (int) Required FK Index, 7] }
                3 -> 4
                4 -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 8], [Property: PointOfInterest.CityId (int) Required FK Index, 9], [Property: PointOfInterest.Description (string) Required MaxLength(200), 10], [Property: PointOfInterest.Name (string) Required MaxLength(50), 11] }
                5 -> 8
            SELECT t.Id, t.Name, t.Password, t.Role, t0.Id, t0.Description, t0.Name, t0.UserId, t0.Id0, t0.CityId, t0.Description0, t0.Name0
            FROM 
            (
                SELECT TOP(1) u.Id, u.Name, u.Password, u.Role
                FROM Users AS u
                WHERE u.Id == @__userId_0
            ) AS t
            LEFT JOIN 
            (
                SELECT c.Id, c.Description, c.Name, c.UserId, p.Id AS Id0, p.CityId, p.Description AS Description0, p.Name AS Name0
                FROM Cities AS c
                LEFT JOIN PointsOfInterest AS p ON c.Id == p.CityId
            ) AS t0 ON t.Id == t0.UserId
            ORDER BY t.Id ASC, t0.Id ASC), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        Cityinfo.API.DbContexts.CityInfoDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-10-04 12:33:52.954 +03:30 [DBG] Creating DbConnection.
2024-10-04 12:33:52.954 +03:30 [DBG] Created DbConnection. (0ms).
2024-10-04 12:33:52.954 +03:30 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-10-04 12:33:52.955 +03:30 [DBG] Opened connection to database 'main' on server 'C:\Users\Ideapad 5\source\repos\Cityinfo.API\Cityinfo.API\CityInfo.db'.
2024-10-04 12:33:52.955 +03:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-04 12:33:52.955 +03:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-10-04 12:33:52.955 +03:30 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-10-04 12:33:52.955 +03:30 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Name", "t"."Password", "t"."Role", "t0"."Id", "t0"."Description", "t0"."Name", "t0"."UserId", "t0"."Id0", "t0"."CityId", "t0"."Description0", "t0"."Name0"
FROM (
    SELECT "u"."Id", "u"."Name", "u"."Password", "u"."Role"
    FROM "Users" AS "u"
    WHERE "u"."Id" = @__userId_0
    LIMIT 1
) AS "t"
LEFT JOIN (
    SELECT "c"."Id", "c"."Description", "c"."Name", "c"."UserId", "p"."Id" AS "Id0", "p"."CityId", "p"."Description" AS "Description0", "p"."Name" AS "Name0"
    FROM "Cities" AS "c"
    LEFT JOIN "PointsOfInterest" AS "p" ON "c"."Id" = "p"."CityId"
) AS "t0" ON "t"."Id" = "t0"."UserId"
ORDER BY "t"."Id", "t0"."Id"
2024-10-04 12:33:52.956 +03:30 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Name", "t"."Password", "t"."Role", "t0"."Id", "t0"."Description", "t0"."Name", "t0"."UserId", "t0"."Id0", "t0"."CityId", "t0"."Description0", "t0"."Name0"
FROM (
    SELECT "u"."Id", "u"."Name", "u"."Password", "u"."Role"
    FROM "Users" AS "u"
    WHERE "u"."Id" = @__userId_0
    LIMIT 1
) AS "t"
LEFT JOIN (
    SELECT "c"."Id", "c"."Description", "c"."Name", "c"."UserId", "p"."Id" AS "Id0", "p"."CityId", "p"."Description" AS "Description0", "p"."Name" AS "Name0"
    FROM "Cities" AS "c"
    LEFT JOIN "PointsOfInterest" AS "p" ON "c"."Id" = "p"."CityId"
) AS "t0" ON "t"."Id" = "t0"."UserId"
ORDER BY "t"."Id", "t0"."Id"
2024-10-04 12:33:52.956 +03:30 [DBG] Context 'CityInfoDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-04 12:33:52.956 +03:30 [DBG] Context 'CityInfoDbContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-04 12:33:52.960 +03:30 [DBG] Context 'CityInfoDbContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-04 12:33:52.964 +03:30 [DBG] Context 'CityInfoDbContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-04 12:33:52.965 +03:30 [DBG] Context 'CityInfoDbContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-04 12:33:52.965 +03:30 [DBG] Context 'CityInfoDbContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-04 12:33:52.965 +03:30 [DBG] Closing data reader to 'main' on server 'C:\Users\Ideapad 5\source\repos\Cityinfo.API\Cityinfo.API\CityInfo.db'.
2024-10-04 12:33:52.965 +03:30 [DBG] A data reader for 'main' on server 'C:\Users\Ideapad 5\source\repos\Cityinfo.API\Cityinfo.API\CityInfo.db' is being disposed after spending 9ms reading results.
2024-10-04 12:33:52.965 +03:30 [DBG] Closing connection to database 'main' on server 'C:\Users\Ideapad 5\source\repos\Cityinfo.API\Cityinfo.API\CityInfo.db'.
2024-10-04 12:33:52.965 +03:30 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (0ms).
2024-10-04 12:33:52.966 +03:30 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-10-04 12:33:52.966 +03:30 [DBG] Opened connection to database 'main' on server 'C:\Users\Ideapad 5\source\repos\Cityinfo.API\Cityinfo.API\CityInfo.db'.
2024-10-04 12:33:52.966 +03:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-04 12:33:52.966 +03:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-10-04 12:33:52.966 +03:30 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-10-04 12:33:52.966 +03:30 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name", "c"."UserId"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__id_0
LIMIT 1
2024-10-04 12:33:52.966 +03:30 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name", "c"."UserId"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__id_0
LIMIT 1
2024-10-04 12:33:52.966 +03:30 [DBG] Closing data reader to 'main' on server 'C:\Users\Ideapad 5\source\repos\Cityinfo.API\Cityinfo.API\CityInfo.db'.
2024-10-04 12:33:52.966 +03:30 [DBG] A data reader for 'main' on server 'C:\Users\Ideapad 5\source\repos\Cityinfo.API\Cityinfo.API\CityInfo.db' is being disposed after spending 0ms reading results.
2024-10-04 12:33:52.966 +03:30 [DBG] Closing connection to database 'main' on server 'C:\Users\Ideapad 5\source\repos\Cityinfo.API\Cityinfo.API\CityInfo.db'.
2024-10-04 12:33:52.966 +03:30 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (0ms).
2024-10-04 12:35:48.824 +03:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-10-04 12:35:48.824 +03:30 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2024-10-04 12:35:48.824 +03:30 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2024-10-04 12:35:48.824 +03:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-10-04 12:35:48.824 +03:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-10-04 12:35:48.824 +03:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-10-04 12:35:48.824 +03:30 [INF] Executing OkObjectResult, writing value of type 'Cityinfo.API.Models.CityDto'.
2024-10-04 12:35:51.405 +03:30 [INF] Executed action Cityinfo.API.Controllers.CitiesController.GetCity (Cityinfo.API) in 118474.4512ms
2024-10-04 12:35:51.406 +03:30 [INF] Executed endpoint 'Cityinfo.API.Controllers.CitiesController.GetCity (Cityinfo.API)'
2024-10-04 12:35:51.406 +03:30 [DBG] 'CityInfoDbContext' disposed.
2024-10-04 12:35:51.406 +03:30 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2024-10-04 12:35:51.406 +03:30 [DBG] Connection ID "18230571335350747139" disconnecting.
2024-10-04 12:35:51.406 +03:30 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (0ms).
2024-10-04 12:35:51.406 +03:30 [INF] Request finished HTTP/2 GET https://localhost:44345/api/v1/cities/2?includePointOfInterest=true - 200 259 application/json; charset=utf-8 118478.2076ms
2024-10-04 12:36:08.189 +03:30 [INF] Request starting HTTP/2 GET https://localhost:44345/swagger/2.0/swagger.json - null null
2024-10-04 12:36:08.212 +03:30 [INF] Request finished HTTP/2 GET https://localhost:44345/swagger/2.0/swagger.json - 200 null application/json;charset=utf-8 22.6191ms
2024-10-04 12:36:08.216 +03:30 [DBG] Connection ID "18230571300991008789" disconnecting.
2024-10-04 12:36:49.059 +03:30 [INF] Request starting HTTP/2 GET https://localhost:44345/swagger/2.0/swagger.json - null null
2024-10-04 12:36:49.100 +03:30 [INF] Request finished HTTP/2 GET https://localhost:44345/swagger/2.0/swagger.json - 200 null application/json;charset=utf-8 40.8454ms
2024-10-04 12:36:49.100 +03:30 [DBG] Connection ID "18374686519131635717" disconnecting.
2024-10-04 12:37:06.640 +03:30 [INF] Request starting HTTP/2 GET https://localhost:44345/swagger/1.0/swagger.json - null null
2024-10-04 12:37:06.647 +03:30 [DBG] Connection ID "18230571318170877973" disconnecting.
2024-10-04 12:37:06.648 +03:30 [INF] Request finished HTTP/2 GET https://localhost:44345/swagger/1.0/swagger.json - 200 null application/json;charset=utf-8 7.4423ms
